<!doctype html>
<html lang="en">
<head>
<title>Lab book Fluotracify</title>
<!-- 2023-02-22 Mi 14:55 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="generator" content="Org-mode">
<meta name="author" content="Alex Seltmann">

<link  href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/js/bootstrap.min.js"></script>
<style>
/* org mode styles on top of twbs */

html {
    position: relative;
    min-height: 100%;
}

body {
    font-size: 18px;
    margin-bottom: 105px;
}

footer {
    position: absolute;
    bottom: 0;
    width: 100%;
    height: 101px;
    background-color: #f5f5f5;
}

footer > div {
    padding: 10px;
}

footer p {
    margin: 0 0 5px;
    text-align: center;
    font-size: 16px;
}

#table-of-contents {
    margin-top: 20px;
    margin-bottom: 20px;
}

blockquote p {
    font-size: 18px;
}

pre {
    font-size: 16px;
}

.footpara {
    display: inline-block;
}

figcaption {
  font-size: 16px;
  color: #666;
  font-style: italic;
  padding-bottom: 15px;
}

/* from twbs docs */

.bs-docs-sidebar.affix {
    position: static;
}
@media (min-width: 768px) {
    .bs-docs-sidebar {
        padding-left: 20px;
    }
}

/* All levels of nav */
.bs-docs-sidebar .nav > li > a {
    display: block;
    padding: 4px 20px;
    font-size: 14px;
    font-weight: 500;
    color: #999;
}
.bs-docs-sidebar .nav > li > a:hover,
.bs-docs-sidebar .nav > li > a:focus {
    padding-left: 19px;
    color: #A1283B;
    text-decoration: none;
    background-color: transparent;
    border-left: 1px solid #A1283B;
}
.bs-docs-sidebar .nav > .active > a,
.bs-docs-sidebar .nav > .active:hover > a,
.bs-docs-sidebar .nav > .active:focus > a {
    padding-left: 18px;
    font-weight: bold;
    color: #A1283B;
    background-color: transparent;
    border-left: 2px solid #A1283B;
}

/* Nav: second level (shown on .active) */
.bs-docs-sidebar .nav .nav {
    display: none; /* Hide by default, but at >768px, show it */
    padding-bottom: 10px;
}
.bs-docs-sidebar .nav .nav > li > a {
    padding-top: 1px;
    padding-bottom: 1px;
    padding-left: 30px;
    font-size: 12px;
    font-weight: normal;
}
.bs-docs-sidebar .nav .nav > li > a:hover,
.bs-docs-sidebar .nav .nav > li > a:focus {
    padding-left: 29px;
}
.bs-docs-sidebar .nav .nav > .active > a,
.bs-docs-sidebar .nav .nav > .active:hover > a,
.bs-docs-sidebar .nav .nav > .active:focus > a {
    padding-left: 28px;
    font-weight: 500;
}

/* Nav: third level (shown on .active) */
.bs-docs-sidebar .nav .nav .nav {
    padding-bottom: 10px;
}
.bs-docs-sidebar .nav .nav .nav > li > a {
    padding-top: 1px;
    padding-bottom: 1px;
    padding-left: 40px;
    font-size: 12px;
    font-weight: normal;
}
.bs-docs-sidebar .nav .nav .nav > li > a:hover,
.bs-docs-sidebar .nav .nav .nav > li > a:focus {
    padding-left: 39px;
}
.bs-docs-sidebar .nav .nav .nav > .active > a,
.bs-docs-sidebar .nav .nav .nav > .active:hover > a,
.bs-docs-sidebar .nav .nav .nav > .active:focus > a {
    padding-left: 38px;
    font-weight: 500;
}

/* Show and affix the side nav when space allows it */
@media (min-width: 992px) {
    .bs-docs-sidebar .nav > .active > ul {
        display: block;
    }
    /* Widen the fixed sidebar */
    .bs-docs-sidebar.affix,
    .bs-docs-sidebar.affix-bottom {
        width: 213px;
    }
    .bs-docs-sidebar.affix {
        position: fixed; /* Undo the static from mobile first approach */
        top: 20px;
    }
    .bs-docs-sidebar.affix-bottom {
        position: absolute; /* Undo the static from mobile first approach */
    }
    .bs-docs-sidebar.affix .bs-docs-sidenav,.bs-docs-sidebar.affix-bottom .bs-docs-sidenav {
        margin-top: 0;
        margin-bottom: 0
    }
}
@media (min-width: 1200px) {
    /* Widen the fixed sidebar again */
    .bs-docs-sidebar.affix-bottom,
    .bs-docs-sidebar.affix {
        width: 263px;
    }
}
</style>
<script>
$(function() {
    'use strict';

    $('.bs-docs-sidebar li').first().addClass('active');

    $(document.body).scrollspy({target: '.bs-docs-sidebar'});

    $('.bs-docs-sidebar').affix();
});
</script><style type="text/css">.example {background-color: #FBFBBF;}</style>
<style type="text/css">pre.src-emacs-lisp {background-color: #F7ECFB;}</style>
<style type="text/css">pre.src-sh {background-color: #F0FBE9;}</style>
<style type="text/css">pre.src-tmux {background-color: #E1EED8;}</style>
<style type="text/css">pre.src-python {background-color: #E6EDF4;}</style>
<style type="text/css">pre.src-jupyter-python {background-color: #FAEAE1;}</style>
<style type="text/css">details {padding: 1em; background-color: #f0f0f0; border-radius: 15px; color: hsl(157 75% 20%); font-size: 0.9em; box-shadow: 0.05em 0.1em 5px 0.01em  #00000057;}</style>
<style type="text/css">details:hover {background:pink;}</style>
<style type="text/css">table {display: block; overflow-x: auto; white-space: nowrap;}</style>

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  displayAlign: "center",
  displayIndent: "2em",
  messageStyle: "none",
  "HTML-CSS": {
    scale: 100,
    styles: {
      ".MathJax_Display": {
        "font-size": "100%"
      }
    }
  },
  "SVG": {
    scale: 100,
    styles: {
      ".MathJax_SVG_Display": {
        "font-size": "100%",
        "margin-left": "-2.281em"
      }
    }
  }
});
</script>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_SVG"></script>
</head>
<body>
<div id="content" class="container">
<div class="row"><div class="col-md-3 col-md-push-9"><nav id="table-of-contents">
<div id="text-table-of-contents" class="bs-docs-sidebar">
<ul class="nav">
<li><a href="#sec-1">1. Technical Notes</a>
<ul class="nav">
<li><a href="#sec-1-1">1.1. README</a>
<ul class="nav">
<li><a href="#sec-1-1-1">1.1.1. General:</a></li>
<li><a href="#sec-1-1-2">1.1.2. Code block languages used in this document</a></li>
<li><a href="#sec-1-1-3">1.1.3. Experiments workflow:</a></li>
<li><a href="#sec-1-1-4">1.1.4. Example for experimental setup procedure</a>
<ul class="nav">
<li><a href="#sec-jupyter-setup">1.1.4.1. Setting starting a jupyter kernel from a remote jupyter session using <code>emacs-jupyter</code> in <code>org babel</code></a></li>
</ul>
</li>
<li><a href="#sec-1-1-5">1.1.5. tools used (notes)</a>
<ul class="nav">
<li><a href="#sec-1-1-5-1">1.1.5.1. Emacs <code>magit</code></a></li>
<li><a href="#sec-1-1-5-2">1.1.5.2. jupyter</a></li>
<li><a href="#sec-1-1-5-3">1.1.5.3. mlflow</a></li>
<li><a href="#sec-1-1-5-4">1.1.5.4. tensorflow</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-1-2">1.2. Template for data entry and setup notes:</a>
<ul class="nav">
<li><a href="#sec-1-2-1">1.2.1. exp-#date-#title</a>
<ul class="nav">
<li><a href="#sec-1-2-1-1">1.2.1.1. git:</a></li>
<li><a href="#sec-1-2-1-2">1.2.1.2. System Metadata:</a></li>
<li><a href="#scripts-tmux">1.2.1.3. Tmux setup and scripts</a></li>
<li><a href="#ssh-tunneling">1.2.1.4. SSH tunneling</a></li>
<li><a href="#scripts-jp">1.2.1.5. jupyter scripts</a></li>
</ul>
</li>
<li><a href="#sec-1-2-2">1.2.2. Setup notes</a>
<ul class="nav">
<li><a href="#sec-tmux-setup">1.2.2.1. Setting up a tmux connection from using <code>ob-tmux</code> in <code>org-babel</code></a></li>
<li><a href="#sec-1-2-2-2">1.2.2.2. <code>emacs-jupyter</code> Setup</a></li>
</ul>
</li>
<li><a href="#sec-1-2-3">1.2.3. Notes on archiving</a>
<ul class="nav">
<li><a href="#sec-1-2-3-1">1.2.3.1. Exporting the LabBook.org to html in a twbs style</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-1-3">1.3. Organization of git</a>
<ul class="nav">
<li><a href="#sec-1-3-1">1.3.1. remote/origin/main branch:</a></li>
<li><a href="#sec-1-3-2">1.3.2. remote/origin/exp### branches:</a></li>
<li><a href="#sec-1-3-3">1.3.3. remote/origin/develop branch:</a></li>
<li><a href="#sec-1-3-4">1.3.4. remote/origin/data branch:</a></li>
<li><a href="#sec-1-3-5">1.3.5. Git TAGs</a>
<ul class="nav">
<li><a href="#sec-1-3-5-1">1.3.5.1. Stable versions:</a></li>
<li><a href="#sec-1-3-5-2">1.3.5.2. All tags from git:</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-1-4">1.4. Organization of code</a>
<ul class="nav">
<li><a href="#sec-1-4-1">1.4.1. scripts:</a></li>
<li><a href="#sec-1-4-2">1.4.2. src/</a>
<ul class="nav">
<li><a href="#sec-1-4-2-1">1.4.2.1. fluotracify/</a></li>
<li><a href="#sec-1-4-2-2">1.4.2.2. nanosimpy/</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-1-5">1.5. Changes in this repository (without "* Data" in this file)</a>
<ul class="nav">
<li><a href="#sec-1-5-1">1.5.1. Changes in LabBook.org (without "* Data")</a>
<ul class="nav">
<li><a href="#sec-1-5-1-1">1.5.1.1. 2022-02-19</a></li>
<li><a href="#sec-1-5-1-2">1.5.1.2. 2021-12-16</a></li>
<li><a href="#sec-1-5-1-3">1.5.1.3. 2021-08-05</a></li>
<li><a href="#sec-1-5-1-4">1.5.1.4. 2021-04-04</a></li>
<li><a href="#sec-1-5-1-5">1.5.1.5. 2020-11-04</a></li>
<li><a href="#sec-1-5-1-6">1.5.1.6. 2020-05-31</a></li>
<li><a href="#sec-1-5-1-7">1.5.1.7. 2020-05-07</a></li>
<li><a href="#sec-1-5-1-8">1.5.1.8. 2020-04-22</a></li>
<li><a href="#sec-1-5-1-9">1.5.1.9. 2020-03-30</a></li>
</ul>
</li>
<li><a href="#sec-1-5-2">1.5.2. Changes in src/fluotracify</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-2">2. Data</a>
<ul class="nav">
<li><a href="#sec-2-1">2.1. exp-220227-unet</a>
<ul class="nav">
<li><a href="#sec-2-1-1">2.1.1. Setup: GPU node on HPC</a></li>
<li><a href="#sec-2-1-2">2.1.2. Setup: Jupyter node on HPC</a></li>
<li><a href="#sec-2-1-3">2.1.3. Setup: Jupyter on local computer</a></li>
<li><a href="#sec-2-1-4">2.1.4. Setup: Node for running Mlflow UI</a></li>
<li><a href="#sec-2-1-5">2.1.5. Setup: Record GPU metadata &amp; git</a></li>
<li><a href="#sec-2-1-6">2.1.6. Setup: Show all hyperparameters that worked in <code>exp-210807-hparams</code></a></li>
<li><a href="#sec-2-1-7">2.1.7. Setup: Fitting</a></li>
<li><a href="#sec-2-1-8">2.1.8. Experiment 1: run training of 9 promising hparam combinations</a></li>
<li><a href="#sec-2-1-9">2.1.9. Analysis 1: show model architecture and loss plots</a></li>
<li><a href="#sec-2-1-10">2.1.10. Experiment 2: Evaluate models on simulated test data</a></li>
<li><a href="#sec-2-1-11">2.1.11. Analysis 2: correct simulated test data</a>
<ul class="nav">
<li><a href="#sec-2-1-11-1">2.1.11.1. illustrative plots</a></li>
<li><a href="#sec-2-1-11-2">2.1.11.2. latex table from sim results</a></li>
</ul>
</li>
<li><a href="#sec-2-1-12">2.1.12. Experiment 3: Run models on experimental data</a>
<ul class="nav">
<li><a href="#sec-2-1-12-1">2.1.12.1. node 1 (overview)</a></li>
<li><a href="#sec-2-1-12-2">2.1.12.2. node 2</a></li>
<li><a href="#sec-2-1-12-3">2.1.12.3. node 3</a></li>
<li><a href="#sec-2-1-12-4">2.1.12.4. <span class="timestamp-wrapper"><span class="timestamp">&lt;2023-01-10 Di&gt; </span></span> Apply <code>averaging</code> and <code>settozero</code> correction with <code>0cd20</code></a></li>
</ul>
</li>
<li><a href="#sec-2-1-13">2.1.13. Analysis 3: correlations and fits of experimental data</a>
<ul class="nav">
<li><a href="#sec-2-1-13-1">2.1.13.1. compare model performance on <code>af488</code> data</a></li>
<li><a href="#sec-2-1-13-2">2.1.13.2. compare model performance on <code>pex5</code> data</a></li>
</ul>
</li>
<li><a href="#sec-2-1-14">2.1.14. final remarks</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</nav>
</div><div class="col-md-9 col-md-pull-3"><h1 class="title">Lab book Fluotracify</h1>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> Technical Notes</h2>
<div class="outline-text-2" id="text-1">
</div><div id="outline-container-sec-1-1" class="outline-3">
<h3 id="sec-1-1"><span class="section-number-3">1.1</span> README</h3>
<div class="outline-text-3" id="text-1-1">
</div><div id="outline-container-sec-1-1-1" class="outline-4">
<h4 id="sec-1-1-1"><span class="section-number-4">1.1.1</span> General:</h4>
<div class="outline-text-4" id="text-1-1-1">
<ul class="org-ul">
<li>This file corresponds to my lab book for my doctoral thesis tackling
artifact correction in Fluorescence Correlation Spectroscopy (FCS)
measurements using Deep Neural Networks. It also contains notes taken
during the process of setting up this workflow for reproducible research.
</li>
<li>This file contains explanations of how things are organized, of the
workflow for doing experiments, changes made to the code, and the observed
behavior in the "* Data" section.
</li>
<li>The branching model used is described in <a href="http://starpu-simgrid.gforge.inria.fr/misc/SIGOPS_paper.pdf">this paper</a>. Therefore: if you
are interested in the "* Data" section, you have to <code>git clone</code> the <i>data</i>
branch of the repository. The <i>main</i> branch is clean from any results, it
contains only source code and the analysis.
</li>
<li>This project is my take on <a href="https://en.wikipedia.org/wiki/Open-notebook_science">Open-notebook science</a>. The idea was postulated in
a blog post in 2006:
<blockquote>
<p>
&#x2026; there is a URL to a laboratory notebook that is freely available and
indexed on common search engines. It does not necessarily have to look like
a paper notebook but it is essential that all of the information available
to the researchers to make their conclusions is equally available to the
rest of the world &#x2014;Jean-Claude Bradley
</p>
</blockquote>
</li>
<li>Proposal on how to deal with truly private data (e.g. notes from a
confidential meeting with a colleague), which might otherwise be noted in a
normal Lab notebook: do not include them here. Only notes relevant to the
current project should be taken
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-1-1-2" class="outline-4">
<h4 id="sec-1-1-2"><span class="section-number-4">1.1.2</span> Code block languages used in this document</h4>
<div class="outline-text-4" id="text-1-1-2">
<div class="org-src-container">

<pre class="src src-sh"><span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">This is a sh block for shell / bash scripting. In the context of this file,</span>
<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">these blocks are mainly used for operations on my local computer.</span>
<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">In the LabBook.html rendering of this document, these blocks will have a</span>
<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">light green colour (#F0FBE9)</span>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-tmux"><span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">This block can open and access tmux sessions, used for shell scripting on</span>
<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">remote computing clusters.</span>
<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">In the LabBook.html rendering of this document, these blocks will have a</span>
<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">distinct light green colour (#E1EED8)</span>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">This is a python block. In the context of this file, it is seldomly used</span>
<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">(only for examplary scripts.)</span>
<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">In the LabBook.html rendering of this document, these blocks will have a</span>
<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">light blue colour (#E6EDF4)</span>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">This is a jupyter-python block. The code is sent to a jupyter kernel running</span>
<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">on a remote high performance computing cluster. Most of my jupyter code is</span>
<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">executed this way.</span>
<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">In the LabBook.html rendering of this document, these blocks will have a</span>
<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">light orange colour (#FAEAE1)</span>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">This is a emacs-lisp block, the language used to customize Emacs, which is</span>
<span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">sometimes necessary, since the reproducible workflow of this LabBook is</span>
<span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">tightly integrated with Emacs and org-mode.</span>
<span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">In the LabBook.html rendering of this document, these blocks will have a</span>
<span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">light violet colour (#F7ECFB)</span>
</pre>
</div>

<pre class="example">
This is a literal example block. It can be used very flexibly - in the context
of this document the output of most code blocks is displayed this way.
In the LabBook.html rendering of this document, these blocks will have a light
yellow colour (#FBFBBF)
</pre>

<details>
<pre class="example">
This is a literal example block enclosed in a details block. This is useful to
make the page more readable by collapsing large amounts of output.
In the Labbook.html rendering of this document, the details block will have a
light grey colour (#f0f0f0) and a pink color when hovering above it.
</pre>
</details>
</div>
</div>

<div id="outline-container-sec-1-1-3" class="outline-4">
<h4 id="sec-1-1-3"><span class="section-number-4">1.1.3</span> Experiments workflow:</h4>
<div class="outline-text-4" id="text-1-1-3">
<ol class="org-ol">
<li>Create a new branch from <code>main</code>
</li>
<li>Print out the git log from the latest commit and the metadata
</li>
<li>Call the analysis scripts, follow the principles outlined in
<a href="#sec-1-4">Organization of code</a>
</li>
<li>All machine learning runs are saved in <code>data/mlruns</code>, all other data in
<code>data/#experiment-name</code>
</li>
<li>Add a <code>** exp-&lt;date&gt;-&lt;name&gt;</code>" section to this file under <a href="#sec-2">Data</a>
</li>
<li>Commit/push the results of this separate branch
</li>
<li>Merge this new branch with the remote <code>data</code> branch
</li>
</ol>
</div>
</div>
<div id="outline-container-sec-1-1-4" class="outline-4">
<h4 id="sec-1-1-4"><span class="section-number-4">1.1.4</span> Example for experimental setup procedure</h4>
<div class="outline-text-4" id="text-1-1-4">
</div><div id="outline-container-sec-jupyter-setup" class="outline-5">
<h5 id="sec-jupyter-setup"><a id="sec-1-1-4-1" name="sec-1-1-4-1"></a><span class="section-number-5">1.1.4.1</span> Setting starting a jupyter kernel from a remote jupyter session using <code>emacs-jupyter</code> in <code>org babel</code></h5>
<div class="outline-text-5" id="text-sec-jupyter-setup">
</div>
</div>
</div>

<div id="outline-container-sec-1-1-5" class="outline-4">
<h4 id="sec-1-1-5"><span class="section-number-4">1.1.5</span> tools used (notes)</h4>
<div class="outline-text-4" id="text-1-1-5">
</div><div id="outline-container-sec-1-1-5-1" class="outline-5">
<h5 id="sec-1-1-5-1"><span class="section-number-5">1.1.5.1</span> Emacs <code>magit</code></h5>
<div class="outline-text-5" id="text-1-1-5-1">
<ul class="org-ul">
<li><code>gitflow-avh</code> (<code>magit-flow</code>) to follow the flow
</li>
<li>possibly <a href="https://github.com/magit/magit-annex">https://github.com/magit/magit-annex</a> for large files. Follow this:
<a href="https://git-annex.branchable.com/walkthrough/">https://git-annex.branchable.com/walkthrough/</a>
</li>
<li>maybe check out git-toolbelt at some point
<a href="https://github.com/nvie/git-toolbelt#readme">https://github.com/nvie/git-toolbelt#readme</a> with
<a href="https://nvie.com/posts/git-power-tools/">https://nvie.com/posts/git-power-tools/</a>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-1-1-5-2" class="outline-5">
<h5 id="sec-1-1-5-2"><span class="section-number-5">1.1.5.2</span> jupyter</h5>
<div class="outline-text-5" id="text-1-1-5-2">
<ul class="org-ul">
<li>emacs jupyter for running and connecting to kernel on server:
<a href="https://github.com/dzop/emacs-jupyter">https://github.com/dzop/emacs-jupyter</a>
</li>
<li>if I actually still would use .ipynb files, these might come handy:
<ul class="org-ul">
<li>jupytext: <a href="https://github.com/mwouts/jupytext">https://github.com/mwouts/jupytext</a>
</li>
<li>nbstripout: <a href="https://github.com/kynan/nbstripout">https://github.com/kynan/nbstripout</a>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-1-1-5-3" class="outline-5">
<h5 id="sec-1-1-5-3"><span class="section-number-5">1.1.5.3</span> mlflow</h5>
<div class="outline-text-5" id="text-1-1-5-3">
<ul class="org-ul">
<li><a href="https://docs.faculty.ai/user-guide/experiments/index.html">https://docs.faculty.ai/user-guide/experiments/index.html</a> and
<a href="https://docs.microsoft.com/en-us/azure/databricks/_static/notebooks/hls-image-processing/02-image-segmentation-dl.html">https://docs.microsoft.com/en-us/azure/databricks/_static/notebooks/hls-image-processing/02-image-segmentation-dl.html</a>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-1-1-5-4" class="outline-5">
<h5 id="sec-1-1-5-4"><span class="section-number-5">1.1.5.4</span> tensorflow</h5>
<div class="outline-text-5" id="text-1-1-5-4">
<ul class="org-ul">
<li><a href="https://www.tensorflow.org/tensorboard/image_summaries">https://www.tensorflow.org/tensorboard/image_summaries</a>
</li>
</ul>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-1-2" class="outline-3">
<h3 id="sec-1-2"><span class="section-number-3">1.2</span> Template for data entry and setup notes:</h3>
<div class="outline-text-3" id="text-1-2">
</div><div id="outline-container-sec-1-2-1" class="outline-4">
<h4 id="sec-1-2-1"><span class="section-number-4">1.2.1</span> exp-#date-#title</h4>
<div class="outline-text-4" id="text-1-2-1">
</div><div id="outline-container-sec-1-2-1-1" class="outline-5">
<h5 id="sec-1-2-1-1"><span class="section-number-5">1.2.1.1</span> git:</h5>
<div class="outline-text-5" id="text-1-2-1-1">
<div class="org-src-container">

<pre class="src src-sh"><span style="color: #784437;">git</span> <span style="color: #78683f;">log</span> <span style="color: #3f7178;">-1</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-2-1-2" class="outline-5">
<h5 id="sec-1-2-1-2"><span class="section-number-5">1.2.1.2</span> System Metadata:</h5>
<div class="outline-text-5" id="text-1-2-1-2">
<div class="org-src-container">

<pre class="src src-jupyter-python" id="jp-metadata"><span style="color: #859900; font-weight: bold;">import</span> <span style="color: #7e544f;">os</span>
<span style="color: #859900; font-weight: bold;">import</span> <span style="color: #4f7e67;">pprint</span>

<span style="color: #268bd2;">ramlist</span> = <span style="color: #7e544f;">os</span>.<span style="color: #37785e;">popen</span>(<span style="color: #2aa198;">'free -th'</span>).<span style="color: #7e544f;">readlines</span>()[-1].<span style="color: #7a4f7e;">split</span>()[1:]

<span style="color: #859900; font-weight: bold;">print</span>(<span style="color: #2aa198;">'No of CPUs in system:'</span>, <span style="color: #7e544f;">os</span>.<span style="color: #37785e;">cpu_count</span>())
<span style="color: #859900; font-weight: bold;">print</span>(<span style="color: #2aa198;">'No of CPUs the current process can use:'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #657b83; font-weight: bold;">len</span>(<span style="color: #7e544f;">os</span>.<span style="color: #707e4f;">sched_getaffinity</span>(0)))
<span style="color: #859900; font-weight: bold;">print</span>(<span style="color: #2aa198;">'load average:'</span>, <span style="color: #7e544f;">os</span>.<span style="color: #783778;">getloadavg</span>())
<span style="color: #859900; font-weight: bold;">print</span>(<span style="color: #2aa198;">'os.uname(): '</span>, <span style="color: #7e544f;">os</span>.<span style="color: #3f7178;">uname</span>())
<span style="color: #859900; font-weight: bold;">print</span>(<span style="color: #2aa198;">'PID of process:'</span>, <span style="color: #7e544f;">os</span>.<span style="color: #4f7e67;">getpid</span>())
<span style="color: #859900; font-weight: bold;">print</span>(<span style="color: #2aa198;">'RAM total: {}, RAM used: {}, RAM free: {}'</span>.<span style="color: #78683f;">format</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #4f5c7e;">ramlist</span>[0], <span style="color: #4f5c7e;">ramlist</span>[1], <span style="color: #4f5c7e;">ramlist</span>[2]))

!<span style="color: #37785e;">echo</span> <span style="color: #783f5a;">the</span> <span style="color: #43783f;">current</span> <span style="color: #268bd2;">directory</span>: $<span style="color: #4f7e67;">PWD</span>
!<span style="color: #37785e;">echo</span> <span style="color: #707e4f;">My</span> <span style="color: #784437;">disk</span> <span style="color: #268bd2;">usage</span>:
!<span style="color: #4f7e67;">df</span> -<span style="color: #7e544f;">h</span>
<span style="color: #859900; font-weight: bold;">if</span> <span style="color: #268bd2;">_long</span>:
<span style="background-color: #eee8d5;"> </span>   %<span style="color: #4f5c7e;">conda</span> <span style="color: #657b83; font-weight: bold;">list</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #4f7e67;">pprint</span>.<span style="color: #4f7e67;">pprint</span>(<span style="color: #657b83; font-weight: bold;">dict</span>(<span style="color: #7e544f;">os</span>.<span style="color: #707e4f;">environ</span>), <span style="color: #707e4f;">sort_dicts</span>=<span style="color: #859900; font-weight: bold;">False</span>)

</pre>
</div>
</div>
</div>

<div id="outline-container-scripts-tmux" class="outline-5">
<h5 id="scripts-tmux"><a id="sec-1-2-1-3" name="sec-1-2-1-3"></a><span class="section-number-5">1.2.1.3</span> Tmux setup and scripts</h5>
<div class="outline-text-5" id="text-scripts-tmux">
<div class="org-src-container">

<pre class="src src-sh" id="setup-tmux"><span style="color: #513f78;">rm</span> <span style="color: #7e544f;">~/.tmux-local-socket-remote-machine</span>
<span style="color: #268bd2;">REMOTE_SOCKET</span>=$(<span style="color: #6c71c4; font-weight: bold;">ssh ara 'tmux ls -F "#{socket_path}"' | head -1</span>)
<span style="color: #657b83; font-weight: bold;">echo</span> $<span style="color: #268bd2;">REMOTE_SOCKET</span>
<span style="color: #7a4f7e;">ssh</span> <span style="color: #783778;">ara</span> <span style="color: #7a4f7e;">-tfN</span> <span style="color: #b58900; font-weight: bold;">\</span>
    <span style="color: #784437;">-L</span> <span style="color: #513f78;">~/.tmux-local-socket-remote-machine:</span>$<span style="color: #268bd2;">REMOTE_SOCKET</span>
</pre>
</div>

<table class="table table-striped table-bordered table-hover table-condensed">


<colgroup>
<col  class="left">

<col  class="left">

<col  class="left">

<col  class="left">

<col  class="left">

<col  class="left">

<col  class="left">

<col  class="left">

<col  class="left">
</colgroup>
<tbody>
<tr>
<td class="text-left">rm:</td>
<td class="text-left">cannot</td>
<td class="text-left">remove</td>
<td class="text-left">'<i>home/lex</i>.tmux-local-socket-remote-machine':</td>
<td class="text-left">No</td>
<td class="text-left">such</td>
<td class="text-left">file</td>
<td class="text-left">or</td>
<td class="text-left">directory</td>
</tr>

<tr>
<td class="text-left">ye53nis@ara-login01.rz.uni-jena.de's</td>
<td class="text-left">password:</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">/tmp/tmux-67339/default</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">&gt;</td>
<td class="text-left">ye53nis@ara-login01.rz.uni-jena.de's</td>
<td class="text-left">password:</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-ssh-tunneling" class="outline-5">
<h5 id="ssh-tunneling"><a id="sec-1-2-1-4" name="sec-1-2-1-4"></a><span class="section-number-5">1.2.1.4</span> SSH tunneling</h5>
<div class="outline-text-5" id="text-ssh-tunneling">
<p>
Different applications can be run on the remote compute node. If I want to
access them at the local machine, and open them with the browser, I use this
tunneling script.
</p>

<div class="org-src-container">

<pre class="src src-sh" id="ssh-tunnel"><span style="color: #7a4f7e;">ssh</span> <span style="color: #7e544f;">-t</span> <span style="color: #7e544f;">-t</span> <span style="color: #783778;">ara</span> <span style="color: #784437;">-L</span> $<span style="color: #268bd2;">port</span>:localhost:$<span style="color: #268bd2;">port</span> <span style="color: #7a4f7e;">ssh</span> $<span style="color: #268bd2;">node</span> <span style="color: #784437;">-L</span> $<span style="color: #268bd2;">port</span>:Localhost:$<span style="color: #268bd2;">port</span>
</pre>
</div>

<p>
Apps I use that way:
</p>
<ul class="org-ul">
<li>Jupyter lab for running Python 3-Kernels
</li>
<li>TensorBoard
</li>
<li>Mlflow ui
</li>
</ul>
</div>
</div>

<div id="outline-container-scripts-jp" class="outline-5">
<h5 id="scripts-jp"><a id="sec-1-2-1-5" name="sec-1-2-1-5"></a><span class="section-number-5">1.2.1.5</span> jupyter scripts</h5>
<div class="outline-text-5" id="text-scripts-jp">
<p>
Starting a jupyter instance on a server where the necessary libraries are
installed is easy using this script:
</p>

<div class="org-src-container">

<pre class="src src-tmux" id="jpt-tmux"><span style="color: #4f5c7e;">conda</span> <span style="color: #4f7e67;">activate</span> <span style="color: #37785e;">tf</span>
<span style="color: #657b83; font-weight: bold;">export</span> <span style="color: #268bd2;">PORT</span>=<span style="color: #3f7178;">8889</span>
<span style="color: #657b83; font-weight: bold;">export</span> <span style="color: #268bd2;">XDG_RUNTIME_DIR</span>=<span style="color: #2aa198;">''</span>
<span style="color: #657b83; font-weight: bold;">export</span> <span style="color: #268bd2;">XDG_RUNTIME_DIR</span>=<span style="color: #2aa198;">""</span>
<span style="color: #37785e;">jupyter</span> <span style="color: #4f5c7e;">lab</span> <span style="color: #783778;">--no-browser</span> <span style="color: #5e7837;">--port</span>=$<span style="color: #268bd2;">PORT</span>
</pre>
</div>

<p>
On the compute node of the HPC, the users' environment is managed through
module files using the system <a href="https://lmod.readthedocs.io">Lmod</a>. The <code>export XDG_RUNTIME_DIR</code> statements
are needed because of a jupyter bug which did not let it start. Right now,
<code>ob-tmux</code> does not support a <code>:var</code> header like normal <code>org-babel</code> does. So
the <code>$port</code> variable has to be set here in the template.
</p>

<p>
Now this port has to be tunnelled on our local computer (See
<a href="#ssh-tunneling">SSH tunneling</a>). While the tmux session above keeps running, no matter if
Emacs is running or not, this following ssh tunnel needs to be active
locally to connect to the notebook. If you close Emacs, it would need to be
reestablished
</p>
</div>
</div>
</div>

<div id="outline-container-sec-1-2-2" class="outline-4">
<h4 id="sec-1-2-2"><span class="section-number-4">1.2.2</span> Setup notes</h4>
<div class="outline-text-4" id="text-1-2-2">
</div><div id="outline-container-sec-tmux-setup" class="outline-5">
<h5 id="sec-tmux-setup"><a id="sec-1-2-2-1" name="sec-1-2-2-1"></a><span class="section-number-5">1.2.2.1</span> Setting up a tmux connection from using <code>ob-tmux</code> in <code>org-babel</code></h5>
<div class="outline-text-5" id="text-sec-tmux-setup">
<ul class="org-ul">
<li>prerequisite: tmux versions need to be the same locally and on the server.
Let's verify that now.
<ul class="org-ul">
<li>the local tmux version:

<div class="org-src-container">

<pre class="src src-sh"><span style="color: #4f5c7e;">tmux</span> <span style="color: #3f7178;">-V</span>
</pre>
</div>

<pre class="example">
tmux 3.0a
</pre>
</li>

<li>the remote tmux version:

<div class="org-src-container">

<pre class="src src-sh"><span style="color: #7a4f7e;">ssh</span> <span style="color: #783778;">ara</span> <span style="color: #4f5c7e;">tmux</span> <span style="color: #3f7178;">-V</span>
</pre>
</div>

<table class="table table-striped table-bordered table-hover table-condensed">


<colgroup>
<col  class="left">

<col  class="left">
</colgroup>
<tbody>
<tr>
<td class="text-left">ye53nis@ara-login01.rz.uni-jena.de's</td>
<td class="text-left">password:</td>
</tr>

<tr>
<td class="text-left">tmux</td>
<td class="text-left">3.0a</td>
</tr>
</tbody>
</table>
</li>
</ul>
</li>

<li>as is described in <a href="https://github.com/ahendriksen/ob-tmux">the ob-tmux readme</a>, the following code snippet creates
a socket on the remote machine and forwards this socket to the local
machine (note that <code>socket_path</code> was introduced in tmux version 2.2)

<div class="org-src-container">

<pre class="src src-sh"><span style="color: #268bd2;">REMOTE_SOCKET</span>=$(<span style="color: #6c71c4; font-weight: bold;">ssh ara 'tmux ls -F "#{socket_path}"' | head -1</span>)
<span style="color: #657b83; font-weight: bold;">echo</span> $<span style="color: #268bd2;">REMOTE_SOCKET</span>
<span style="color: #7a4f7e;">ssh</span> <span style="color: #783778;">ara</span> <span style="color: #7a4f7e;">-tfN</span> <span style="color: #b58900; font-weight: bold;">\</span>
    <span style="color: #784437;">-L</span> <span style="color: #513f78;">~/.tmux-local-socket-remote-machine:</span>$<span style="color: #268bd2;">REMOTE_SOCKET</span>
</pre>
</div>

<table class="table table-striped table-bordered table-hover table-condensed">


<colgroup>
<col  class="left">

<col  class="left">

<col  class="left">
</colgroup>
<tbody>
<tr>
<td class="text-left">ye53nis@ara-login01.rz.uni-jena.de's</td>
<td class="text-left">password:</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">/tmp/tmux-67339/default</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">&gt;</td>
<td class="text-left">ye53nis@ara-login01.rz.uni-jena.de's</td>
<td class="text-left">password:</td>
</tr>
</tbody>
</table>
</li>

<li>now a new tmux session with name <code>ob-NAME</code> is created when using a code
block which looks like this: <code>#+BEGIN_SRC tmux :socket
      ~/.tmux-local-socket-remote-machine :session NAME</code>
</li>
<li>Commands can be sent now to the remote tmux session, BUT note that the
output is not printed yet
</li>
<li>there is a workaround for getting output back to our LabBook.org: A <a href="#scripts-tmux">script</a>
which allows to print the output from the tmux session in an
<code>#+begin_example</code>-Block below the tmux block by pressing <code>C-c C-o</code> or <code>C-c
      C-v C-o</code> when the pointer is inside the tmux block.
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-1-2-2-2" class="outline-5">
<h5 id="sec-1-2-2-2"><span class="section-number-5">1.2.2.2</span> <code>emacs-jupyter</code> Setup</h5>
<div class="outline-text-5" id="text-1-2-2-2">
<p>
<code>Emacs-jupyter</code> aims to be an API for a lot of functionalities of the
<code>jupyter</code> project. The documentation can be found on <a href="https://github.com/dzop/emacs-jupyter">GitHub</a>.
</p>

<ol class="org-ol">
<li>For the <b>whole document</b>: connect to a running jupyter instance
<ol class="org-ol">
<li><code>M-x jupyter-server-list-kernels</code>
<ol class="org-ol">
<li>set server URL, e.g. <code>http://localhost:8889</code>
</li>
<li>set websocket URL, e.g. <code>http://localhost:8889</code>
</li>
</ol>
</li>
<li>two possibilities
<ol class="org-ol">
<li>kernel already exists \(\to\) list of kernels and <code>kernel-ID</code> is displayed
</li>
<li>kernel does not exist \(\to\) prompt asks if you want to start one \(\to\)
<b>yes</b> \(\to\) type kernel you want to start, e.g. <code>Python 3</code>
</li>
</ol>
</li>
</ol>
</li>
<li>In the <b>subtree</b> where you want to use <code>jupyter-python</code> blocks with <code>org
       babel</code>
<ol class="org-ol">
<li>set the <code>:header-args:jupyter-python :session
          /jpy:localhost#kernel:8889-ID</code>
</li>
<li>customize the output folder using the following org-mode variable:
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">setq</span> <span style="color: #783f5a;">org-babel-jupyter-resource-directory</span> <span style="color: #2aa198;">"./data/exp-test/plots"</span>)
</pre>
</div>

<pre class="example">
./data/exp-test/plots
</pre>
</li>
</ol>
</li>
<li>For each <b>individual block</b>, the following customizations might be useful
<ol class="org-ol">
<li>jupyter kernels can return multiple kinds of rich output (images,
html, &#x2026;) or scalar data (plain text, numbers, lists, &#x2026;). To force
a plain output, use <code>:results scalar</code>. To show the output in the
minibuffer only, use <code>:results silent</code>
</li>
<li>to change the priority of different rich outputs, use <code>:display</code>
header argument, e.g. <code>:display text/plain text/html</code> prioritizes
plain text over html. All supported mimetypes in default order:
<ol class="org-ol">
<li>text/org
</li>
<li>image/svg+xml, image/jpeg, image/png
</li>
<li>text/html
</li>
<li>text/markdown
</li>
<li>text/latex
</li>
<li>text/plain
</li>
</ol>
</li>
<li>We can set jupyter to output pandas DataFrames as org tables
automatically using the source block header argument <code>:pandoc t</code>
</li>
<li>useful keybindings
<ul class="org-ul">
<li><code>M-i</code> to open the documentation for wherever your pointer is (like
pressing <code>Shift-TAB</code> in Jupyter notebooks)
</li>
<li><code>C-c C-i</code> to interrupt the kernel, <code>C-c C-r</code> to restart the kernel
</li>
</ul>
</li>
</ol>
</li>
</ol>
</div>
</div>
</div>

<div id="outline-container-sec-1-2-3" class="outline-4">
<h4 id="sec-1-2-3"><span class="section-number-4">1.2.3</span> Notes on archiving</h4>
<div class="outline-text-4" id="text-1-2-3">
</div><div id="outline-container-sec-1-2-3-1" class="outline-5">
<h5 id="sec-1-2-3-1"><span class="section-number-5">1.2.3.1</span> Exporting the LabBook.org to html in a twbs style</h5>
<div class="outline-text-5" id="text-1-2-3-1">
<ul class="org-ul">
<li>I am partial to the twitter bootstrap theme of html, since I like it's
simple design, but clear structure with a nice table of contents at the
side → the following org mode extension supports a seemless export to
twitter bootstrap html: <a href="https://github.com/marsmining/ox-twbs">https://github.com/marsmining/ox-twbs</a>
</li>
<li>when installed, the export can be triggered via the command
<code>(org-twbs-export-as-html)</code> or via the keyboard shortcut for export <code>C-c
       C-e</code> followed by <code>w</code> for Twitter bootstrap and <code>h</code> for saving the .html
</li>
<li><span class="underline">Things to configure:</span>
<ul class="org-ul">
<li>in general, there are multiple export options:
<a href="https://orgmode.org/manual/Export-Settings.html">https://orgmode.org/manual/Export-Settings.html</a>
</li>
<li>E.g. I set 2 <code>#+OPTIONS</code> keywords at the begin of the file: <code>toc:4</code> and
<code>H:4</code> which make sure that in my export my sidebar table of contents
will show numbered headings till a depth of 4.
</li>
<li>I configured my code blocks so that they will not be evaluated when
exporting (I would recommend this especially if you only export for
archiving) and that both the code block and the output will be exported
with the keyword: <code>#+PROPERTY: header-args :eval never-export :exports
         both</code>
</li>
<li>To discriminate between code blocks for different languages I gave each
of them a distinct colour using <code>#+HTML_HEAD_EXTRA: &lt;style...</code> (see
above)
</li>
<li>I had to configure a style for <code>table</code>, so that the
<ul class="org-ul">
<li><code>display: block; overflow-x: auto;</code> gets the table to be restricted
to the width of the text and if it is larger, activates scrolling
</li>
<li><code>white-space: nowrap;</code> makes it that there is no wrap in a column, so
it might be broader, but better readable if you have scrolling anyway
</li>
</ul>
</li>
</ul>
</li>
<li><span class="underline">Things to do before exporting / Troubleshooting while exporting:</span>
<ul class="org-ul">
<li>when using a dark theme for you emacs, the export of the code blocks
might show some ugly dark backgrounds from the theme. If this becomes
an issue, change to a light theme for the export with <code>M-x
         (load-theme)</code> and choose <code>solarized-light</code>
</li>
<li>only in the <code>data</code> branch you set the git tags after merging. If you
want to show them here, execute the corresponding function in <a href="#sec-1-3-5">Git TAGs</a>
</li>
<li>make sure your file links work properly! I recommend referencing your
files relatively (e.g. [ [ f ile:./data/exp-XXXXXX-test/test.png]]
without spaces). Otherwise there will be errors in your <i><b>Messages</b></i>
buffer
</li>
<li>There might be errors with your code blocks
<ul class="org-ul">
<li>e.g. the export function expects you to assign a default variable to
your functions
</li>
<li>if you call a function via the <code>#+CALL</code> mechanism, it wants you to
include two parentheses for the function, e.g. <code>#+CALL: test()</code>
</li>
</ul>
</li>
<li>check indentation of code blocks inside lists
</li>
<li>add a <code>details</code> block around large output cells. This makes them
expandable. I added some <code>#+HTML_HEAD_EXTRA: &lt;style...</code> inspired by
<a href="https://alhassy.github.io/org-special-block-extras/#Folded-Details">alhassy</a>. That's how the <code>details</code> block looks like:
<pre class="example">
#+begin_details

#+end_details
</pre>
</li>
<li>If you reference a parameter with an underscore in the name, use the
org markdown tricks to style them like code (<code>==</code> or <code>~~</code>), otherwise
the part after the underscore will be rendered like a subscript:
<code>under_score</code> vs under<sub>score</sub>
</li>
</ul>
</li>
<li><span class="underline">Things to do after exporting:</span>
<ul class="org-ul">
<li>In my workflow, the exported <code>LabBook.html</code> with the overview of all
experiments is in the <code>data</code> folder. If you move the file, you will
have to fix the file links for the new location, e.g. via "Find and
replace" <code>M-%</code>:
<ul class="org-ul">
<li>if you move the org file → in the org file find <code>[[file:./data/</code> and
replace with <code>[[file:./</code> → then export with <code>C-c C-e w h</code>
</li>
<li>if you export first with <code>C-c C-e w h</code> and move the html file to
<code>data</code> → in the html file find <code>./data</code> and replace with <code>.</code>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-1-3" class="outline-3">
<h3 id="sec-1-3"><span class="section-number-3">1.3</span> Organization of git</h3>
<div class="outline-text-3" id="text-1-3">
</div><div id="outline-container-sec-1-3-1" class="outline-4">
<h4 id="sec-1-3-1"><span class="section-number-4">1.3.1</span> remote/origin/main branch:</h4>
<div class="outline-text-4" id="text-1-3-1">
<ul class="org-ul">
<li>contains all the source code in folder <b><b>src/</b></b> which is used for experiments.
</li>
<li>contains the <b><b>LabBook.org</b></b> template
</li>
<li>contains setup- and metadata files such as <b><b>MLproject</b></b> or <b><b>conda.yaml</b></b>
</li>
<li>the log contains only lasting alterations on the folders and files mentioned
above, which are e.g. used for conducting experiments or which introduce new
features. Day-to-day changes in code
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-1-3-2" class="outline-4">
<h4 id="sec-1-3-2"><span class="section-number-4">1.3.2</span> remote/origin/exp### branches:</h4>
<div class="outline-text-4" id="text-1-3-2">
<ul class="org-ul">
<li>if an experiment is done, the code and templates will be branched out from
<b>main</b> in an <b>#experiment-name</b> branch, ### meaning some meaningful
descriptor.
</li>
<li>all data generated during the experiment (e.g. .csv files, plots, images,
etc), is stored in a folder with the name <b><b>data/#experiment-name</b></b>, except
machine learning-specific data and metadata from `mlflow` runs, which are
saved under <b><b>data/mlruns</b></b> (this allows easily comparing machine learning
runs with different experimental settings)
</li>
<li>The <b><b>LabBook.org</b></b> file is essential
<ul class="org-ul">
<li>If possible, all code is executed from inside this file (meaning analysis
scripts or calling the code from the <b><b>scr/</b></b> directory).
</li>
<li>All other steps taken during an experiment are noted down, as well as
conclusions or my thought process while conducting the experiment
</li>
<li>Provenance data, such as Metadata about the environment the code was
executed in, the command line output of the code, and some
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-1-3-3" class="outline-4">
<h4 id="sec-1-3-3"><span class="section-number-4">1.3.3</span> remote/origin/develop branch:</h4>
<div class="outline-text-4" id="text-1-3-3">
<ul class="org-ul">
<li>this is the branch I use for day to day work on features and exploration.
All of my current activity can be followed here.
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-1-3-4" class="outline-4">
<h4 id="sec-1-3-4"><span class="section-number-4">1.3.4</span> remote/origin/data branch:</h4>
<div class="outline-text-4" id="text-1-3-4">
<ul class="org-ul">
<li>contains a full cronicle of the whole research process
</li>
<li>all <b>#experiment-name</b> branches are merged here. Afterwards the original
branch is deleted and on the data branch there is a <b>Git tag</b> which shows
the merge commit to make accessing single experiments easy.
</li>
<li>the <b>develop</b> branch is merged here as well.
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-1-3-5" class="outline-4">
<h4 id="sec-1-3-5"><span class="section-number-4">1.3.5</span> Git TAGs</h4>
<div class="outline-text-4" id="text-1-3-5">
</div><div id="outline-container-sec-1-3-5-1" class="outline-5">
<h5 id="sec-1-3-5-1"><span class="section-number-5">1.3.5.1</span> Stable versions:</h5>
</div>
<div id="outline-container-sec-1-3-5-2" class="outline-5">
<h5 id="sec-1-3-5-2"><span class="section-number-5">1.3.5.2</span> All tags from git:</h5>
<div class="outline-text-5" id="text-1-3-5-2">
<div class="org-src-container">

<pre class="src src-sh"><span style="color: #784437;">git</span> <span style="color: #78683f;">push</span> <span style="color: #783f5a;">origin</span> <span style="color: #7a4f7e;">--tags</span>
<span style="color: #784437;">git</span> <span style="color: #374478;">tag</span> <span style="color: #707e4f;">-n1</span>
</pre>
</div>

<pre class="example">
exp-200402-test Merge branch 'exp-200402-test' into data
exp-200520-unet Merge branch 'exp-310520-unet' into data
exp-200531-unet Merge branch 'heads/exp-310520-unet' into data
exp-201231-clustsim exp-201231-clustsim
exp-210204-unet Add exp-210204-unet LabBook part 3
exp-310520-unet move exp-310520-unet to data branch manually
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-1-4" class="outline-3">
<h3 id="sec-1-4"><span class="section-number-3">1.4</span> Organization of code</h3>
<div class="outline-text-3" id="text-1-4">
</div><div id="outline-container-sec-1-4-1" class="outline-4">
<h4 id="sec-1-4-1"><span class="section-number-4">1.4.1</span> scripts:</h4>
</div>
<div id="outline-container-sec-1-4-2" class="outline-4">
<h4 id="sec-1-4-2"><span class="section-number-4">1.4.2</span> src/</h4>
<div class="outline-text-4" id="text-1-4-2">
</div><div id="outline-container-sec-1-4-2-1" class="outline-5">
<h5 id="sec-1-4-2-1"><span class="section-number-5">1.4.2.1</span> fluotracify/</h5>
<div class="outline-text-5" id="text-1-4-2-1">
</div><ol class="org-ol"><li><a id="sec-1-4-2-1-1" name="sec-1-4-2-1-1"></a>imports/<br ></li>
<li><a id="sec-1-4-2-1-2" name="sec-1-4-2-1-2"></a>simulations/<br ></li>
<li><a id="sec-1-4-2-1-3" name="sec-1-4-2-1-3"></a>training/<br ></li>
<li><a id="sec-1-4-2-1-4" name="sec-1-4-2-1-4"></a>applications/<br ></li>
<li><a id="sec-1-4-2-1-5" name="sec-1-4-2-1-5"></a>doc/<br ><div class="outline-text-6" id="text-1-4-2-1-5">
<ul class="org-ul">
<li>use Sphinx
<ul class="org-ul">
<li>follow this: <a href="https://daler.github.io/sphinxdoc-test/includeme.html">https://daler.github.io/sphinxdoc-test/includeme.html</a>
</li>
<li>evtl export org-mode Readme to rst via <a href="https://github.com/msnoigrs/ox-rst">https://github.com/msnoigrs/ox-rst</a>
</li>
<li>possibly heavily use
<a href="http://www.sphinx-doc.org/en/master/usage/extensions/autodoc.html">http://www.sphinx-doc.org/en/master/usage/extensions/autodoc.html</a>
</li>
</ul>
</li>
<li>for examples sphinx-galleries could be useful
<a href="https://sphinx-gallery.github.io/stable/getting_started.html">https://sphinx-gallery.github.io/stable/getting_started.html</a>
</li>
</ul>
</div>
</li></ol>
</div>

<div id="outline-container-sec-1-4-2-2" class="outline-5">
<h5 id="sec-1-4-2-2"><span class="section-number-5">1.4.2.2</span> nanosimpy/</h5>
<div class="outline-text-5" id="text-1-4-2-2">
<ul class="org-ul">
<li>cloned from dwaithe with refactoring for Python 3-compatibility
</li>
</ul>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-1-5" class="outline-3">
<h3 id="sec-1-5"><span class="section-number-3">1.5</span> Changes in this repository (without "* Data" in this file)</h3>
<div class="outline-text-3" id="text-1-5">
</div><div id="outline-container-sec-1-5-1" class="outline-4">
<h4 id="sec-1-5-1"><span class="section-number-4">1.5.1</span> Changes in LabBook.org (without "* Data")</h4>
<div class="outline-text-4" id="text-1-5-1">
</div><div id="outline-container-sec-1-5-1-1" class="outline-5">
<h5 id="sec-1-5-1-1"><span class="section-number-5">1.5.1.1</span> 2022-02-19</h5>
<div class="outline-text-5" id="text-1-5-1-1">
<ul class="org-ul">
<li>Add <code>#+HTML_HEAD_EXTRA: &lt;style...</code> for <code>table</code> to enable scrolling if the
table overflows
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-1-5-1-2" class="outline-5">
<h5 id="sec-1-5-1-2"><span class="section-number-5">1.5.1.2</span> 2021-12-16</h5>
<div class="outline-text-5" id="text-1-5-1-2">
<ul class="org-ul">
<li>Add <code>details</code> blocks, corresponding <code>#+HTML_HEAD_EXTRA: &lt;style...</code> and
documentation in  <a href="#sec-1-2-3">Notes on archiving</a>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-1-5-1-3" class="outline-5">
<h5 id="sec-1-5-1-3"><span class="section-number-5">1.5.1.3</span> 2021-08-05</h5>
<div class="outline-text-5" id="text-1-5-1-3">
<ul class="org-ul">
<li>Rename <code>master</code> branch to <code>main</code> branch
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-1-5-1-4" class="outline-5">
<h5 id="sec-1-5-1-4"><span class="section-number-5">1.5.1.4</span> 2021-04-04</h5>
<div class="outline-text-5" id="text-1-5-1-4">
<ul class="org-ul">
<li>Add <code>#+OPTIONS: H:4</code> and <code>#+OPTIONS: toc:4</code> to show up to 4 levels of
depth in the html (twbs) export of this LabBook in the table of contents
at the side
</li>
<li>I added <a href="#sec-1-2-3">Notes on archiving</a>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-1-5-1-5" class="outline-5">
<h5 id="sec-1-5-1-5"><span class="section-number-5">1.5.1.5</span> 2020-11-04</h5>
<div class="outline-text-5" id="text-1-5-1-5">
<ul class="org-ul">
<li>update "jupyter scripts" in <a href="#sec-1-2">Template for data entry and setup notes:</a>
for new conda environment on server (now <code>conda activate tf-nightly</code>)
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-1-5-1-6" class="outline-5">
<h5 id="sec-1-5-1-6"><span class="section-number-5">1.5.1.6</span> 2020-05-31</h5>
<div class="outline-text-5" id="text-1-5-1-6">
<ul class="org-ul">
<li>extend general documentation in README
</li>
<li>Add code block examples
</li>
<li>extend documentation on experiment workflow
</li>
<li>move setup notes from README to "Template for data entry and setup notes"
</li>
<li>remove emacs-lisp code for custom tmux block functions (not relevant
enough)
</li>
<li>change named "jpt-tmux" from starting a jupyter notebook to starting
jupyter lab. Load a conda environment instead of using Lmod's <code>module
      load</code>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-1-5-1-7" class="outline-5">
<h5 id="sec-1-5-1-7"><span class="section-number-5">1.5.1.7</span> 2020-05-07</h5>
<div class="outline-text-5" id="text-1-5-1-7">
<ul class="org-ul">
<li>extend documentation on git model
</li>
<li>extend documentation on jupyter setup
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-1-5-1-8" class="outline-5">
<h5 id="sec-1-5-1-8"><span class="section-number-5">1.5.1.8</span> 2020-04-22</h5>
<div class="outline-text-5" id="text-1-5-1-8">
<ul class="org-ul">
<li>added parts of README which describe the experimental process
</li>
<li>added templates for system metadata, tmux, jupyter setup
</li>
<li>added organization of code
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-1-5-1-9" class="outline-5">
<h5 id="sec-1-5-1-9"><span class="section-number-5">1.5.1.9</span> 2020-03-30</h5>
<div class="outline-text-5" id="text-1-5-1-9">
<ul class="org-ul">
<li>set up lab book and form git repo accoring to setup by Luka Stanisic et al
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-1-5-2" class="outline-4">
<h4 id="sec-1-5-2"><span class="section-number-4">1.5.2</span> Changes in src/fluotracify</h4>
</div>
</div>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> Data</h2>
<div class="outline-text-2" id="text-2">
</div><div id="outline-container-sec-2-1" class="outline-3">
<h3 id="sec-2-1"><span class="section-number-3">2.1</span> exp-220227-unet</h3>
<div class="outline-text-3" id="text-2-1">
</div><div id="outline-container-sec-2-1-1" class="outline-4">
<h4 id="sec-2-1-1"><span class="section-number-4">2.1.1</span> Setup: GPU node on HPC</h4>
<div class="outline-text-4" id="text-2-1-1">
<ol class="org-ol">
<li>Setup tmux
<table class="table table-striped table-bordered table-hover table-condensed">


<colgroup>
<col  class="left">

<col  class="left">

<col  class="left">

<col  class="left">

<col  class="left">

<col  class="left">

<col  class="left">

<col  class="left">

<col  class="left">
</colgroup>
<tbody>
<tr>
<td class="text-left">rm:</td>
<td class="text-left">cannot</td>
<td class="text-left">remove</td>
<td class="text-left">'<i>home/lex</i>.tmux-local-socket-remote-machine':</td>
<td class="text-left">No</td>
<td class="text-left">such</td>
<td class="text-left">file</td>
<td class="text-left">or</td>
<td class="text-left">directory</td>
</tr>

<tr>
<td class="text-left">ye53nis@ara-login01.rz.uni-jena.de's</td>
<td class="text-left">password:</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left"><i>home/lex</i>.tmux-local-socket-remote-machine</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">&gt;</td>
<td class="text-left">ye53nis@ara-login01.rz.uni-jena.de's</td>
<td class="text-left">password:</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>
</tbody>
</table>
</li>

<li>first, connect with the GPU node in the high performance cluster
<div class="org-src-container">

<pre class="src src-tmux"><span style="color: #657b83; font-weight: bold;">cd</span> <span style="color: #513f78;">/</span>
<span style="color: #78683f;">srun</span> <span style="color: #707e4f;">-p</span> <span style="color: #7e544f;">gpu_p100</span> <span style="color: #374478;">--time</span>=<span style="color: #3f7178;">7-10:00:00</span> <span style="color: #7e544f;">--ntasks-per-node</span>=<span style="color: #7e544f;">12</span> <span style="color: #783f5a;">--mem-per-cpu</span>=<span style="color: #783778;">4000</span> <span style="color: #3f7178;">--gres</span>=<span style="color: #43783f;">gpu:1</span> <span style="color: #7e544f;">--pty</span> <span style="color: #374478;">bash</span>
</pre>
</div>

<pre class="example">
(base) [ye53nis@node128 /]$
</pre>
</li>

<li>Load CUDA and cuDNN in the version compatible to your tensorflow library
(see <a href="https://www.tensorflow.org/install/source#gpu">https://www.tensorflow.org/install/source#gpu</a>)
<div class="org-src-container">

<pre class="src src-tmux"><span style="color: #707e4f;">module</span> <span style="color: #3f7178;">load</span> <span style="color: #783f5a;">nvidia/cuda/11.2</span>
<span style="color: #707e4f;">module</span> <span style="color: #3f7178;">load</span> <span style="color: #37785e;">nvidia/cudnn/8.1</span>
<span style="color: #707e4f;">module</span> <span style="color: #513f78;">list</span>
</pre>
</div>

<pre class="example">
Currently Loaded Modulefiles:
  1) nvidia/cuda/11.2   2) nvidia/cudnn/8.1
(base) [ye53nis@node128 /]$
</pre>
</li>

<li>Branch out git branch <code>exp-210807-hparams</code> from <code>main</code> (done via magit)
and make sure you are on the correct branch

<div class="org-src-container">

<pre class="src src-tmux"><span style="color: #657b83; font-weight: bold;">cd</span> <span style="color: #783778;">/beegfs/ye53nis/drmed-git</span>
<span style="color: #784437;">git</span> <span style="color: #783778;">checkout</span> <span style="color: #5e7837;">exp-220227-unet</span>
</pre>
</div>

<pre class="example">
Checking out files: 100% (147/147), done.
M       src/nanosimpy
Branch exp-220227-unet set up to track remote branch exp-220227-unet from origin.
Switched to a new branch 'exp-220227-unet'
(base) [ye53nis@node128 drmed-git]$
</pre>
</li>

<li>load conda environment, define MLflow environment variables and create log directory
<div class="org-src-container">

<pre class="src src-tmux"><span style="color: #4f5c7e;">conda</span> <span style="color: #4f7e67;">activate</span> <span style="color: #37785e;">tf</span>
<span style="color: #657b83; font-weight: bold;">cd</span> <span style="color: #783778;">/beegfs/ye53nis/drmed-git</span>
<span style="color: #657b83; font-weight: bold;">export</span> <span style="color: #268bd2;">MLFLOW_EXPERIMENT_NAME</span>=<span style="color: #5e7837;">exp-220227-unet</span>
<span style="color: #657b83; font-weight: bold;">export</span> <span style="color: #268bd2;">MLFLOW_TRACKING_URI</span>=<span style="color: #707e4f;">file:./data/mlruns</span>
<span style="color: #7a4f7e;">mkdir</span> <span style="color: #707e4f;">-p</span> <span style="color: #374478;">data/exp-220227-unet/jupyter</span>
<span style="color: #7a4f7e;">mkdir</span> <span style="color: #513f78;">../tmp</span>
</pre>
</div>

<pre class="example">
(tf) [ye53nis@node128 drmed-git]$
</pre>
</li>

<li>set output directory for matplotlib plots in jupyter. Give this block the
name <code>jupyter-set-output-directory</code> to be able to easily call it later.
<div class="org-src-container">

<pre class="src src-emacs-lisp" id="jupyter-set-output-directory">(<span style="color: #859900; font-weight: bold;">setq</span> <span style="color: #783f5a;">org-babel-jupyter-resource-directory</span> <span style="color: #2aa198;">"./data/exp-220227-unet/jupyter"</span>)
</pre>
</div>

<pre class="example">
./data/exp-220227-unet/jupyter
</pre>
</li>
</ol>
</div>
</div>

<div id="outline-container-sec-2-1-2" class="outline-4">
<h4 id="sec-2-1-2"><span class="section-number-4">2.1.2</span> Setup: Jupyter node on HPC</h4>
<div class="outline-text-4" id="text-2-1-2">
<ol class="org-ol">
<li>Set up tmux (if we haven't done that before) (<code>#+CALL:
       setup-tmux[:session local]</code>)
<table class="table table-striped table-bordered table-hover table-condensed">


<colgroup>
<col  class="left">

<col  class="left">

<col  class="left">
</colgroup>
<tbody>
<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">sh-5.1$</td>
<td class="text-left">ye53nis@ara-login01.rz.uni-jena.de's</td>
<td class="text-left">password:</td>
</tr>

<tr>
<td class="text-left">&gt;</td>
<td class="text-left">ye53nis@ara-login01.rz.uni-jena.de's</td>
<td class="text-left">password:</td>
</tr>
</tbody>
</table>
</li>

<li>Request compute node
<div class="org-src-container">

<pre class="src src-tmux"><span style="color: #657b83; font-weight: bold;">cd</span> <span style="color: #513f78;">/</span>
<span style="color: #78683f;">srun</span> <span style="color: #707e4f;">-p</span> <span style="color: #783778;">b_standard</span> <span style="color: #374478;">--time</span>=<span style="color: #3f7178;">7-10:00:00</span> <span style="color: #7e544f;">--ntasks-per-node</span>=<span style="color: #783f5a;">24</span> <span style="color: #783f5a;">--mem-per-cpu</span>=<span style="color: #3f7178;">2000</span> <span style="color: #7e544f;">--pty</span> <span style="color: #374478;">bash</span>
</pre>
</div>
</li>
</ol>


<ol class="org-ol">
<li>Start Jupyter Lab (<code>#+CALL: jpt-tmux[:session jpmux]</code>)
<pre class="example">
(tf) [ye53nis@node005 /]$ jupyter lab --no-browser --port=$PORT
[I 2023-01-18 11:33:10.992 ServerApp] jupyterlab | extension was successfully linked.
[I 2023-01-18 11:33:20.469 ServerApp] nbclassic | extension was successfully linked.
[I 2023-01-18 11:33:20.932 ServerApp] nbclassic | extension was successfully loaded.
[I 2023-01-18 11:33:20.935 LabApp] JupyterLab extension loaded from /home/ye53nis/.conda/envs/tf/lib/python3.9/site-packages/jupyterlab
[I 2023-01-18 11:33:20.935 LabApp] JupyterLab application directory is /home/ye53nis/.conda/envs/tf/share/jupyter/lab
[I 2023-01-18 11:33:20.943 ServerApp] jupyterlab | extension was successfully loaded.
[I 2023-01-18 11:33:20.945 ServerApp] Serving notebooks from local directory: /
[I 2023-01-18 11:33:20.945 ServerApp] Jupyter Server 1.13.5 is running at:
[I 2023-01-18 11:33:20.945 ServerApp] http://localhost:8889/lab?token=f8a5db2d00721ed0a736f6a6fc2a21020172913cc2337ec0
[I 2023-01-18 11:33:20.945 ServerApp]  or http://127.0.0.1:8889/lab?token=f8a5db2d00721ed0a736f6a6fc2a21020172913cc2337ec0
[I 2023-01-18 11:33:20.945 ServerApp] Use Control-C to stop this server and shut down all kernels (twice to skip confirmation).
[C 2023-01-18 11:33:21.003 ServerApp]

    To access the server, open this file in a browser:
        file:///home/ye53nis/.local/share/jupyter/runtime/jpserver-183673-open.html
    Or copy and paste one of these URLs:
        http://localhost:8889/lab?token=f8a5db2d00721ed0a736f6a6fc2a21020172913cc2337ec0
     or http://127.0.0.1:8889/lab?token=f8a5db2d00721ed0a736f6a6fc2a21020172913cc2337ec0

</pre>
</li>

<li>Create SSH Tunnel for jupyter lab to the local computer (e.g. <code>#+CALL:
       ssh-tunnel(port="8889", node="node160")</code>)
<table class="table table-striped table-bordered table-hover table-condensed">


<colgroup>
<col  class="left">

<col  class="left">

<col  class="left">

<col  class="left">

<col  class="left">

<col  class="left">

<col  class="left">

<col  class="left">

<col  class="left">

<col  class="left">

<col  class="left">
</colgroup>
<tbody>
<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">sh-5.1$</td>
<td class="text-left">sh-5.1$</td>
<td class="text-left">ye53nis@ara-login01.rz.uni-jena.de's</td>
<td class="text-left">password:</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">Warning:</td>
<td class="text-left">Permanently</td>
<td class="text-left">added</td>
<td class="text-left">'node005,192.168.193.5'</td>
<td class="text-left">(ECDSA)</td>
<td class="text-left">to</td>
<td class="text-left">the</td>
<td class="text-left">list</td>
<td class="text-left">of</td>
<td class="text-left">known</td>
<td class="text-left">hosts.</td>
</tr>

<tr>
<td class="text-left">ye53nis@node005's</td>
<td class="text-left">password:</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>
</tbody>
</table>
</li>

<li>I started a Python3 kernel using <code>jupyter-server-list-kernels</code>. Then I
added the kernel ID to the <code>:PROPERTIES:</code> drawer of this (and following)
subtrees.
<pre class="example">
python3           c4f3acce-60c4-489d-922c-407da110fd6a   a few seconds ago    idle       1
</pre>
</li>

<li>Test (<code>#+CALL: jp-metadata(_long='True)</code>) and record metadata:
<details>
<p>

</p>

<pre class="example">
No of CPUs in system: 48
No of CPUs the current process can use: 24
load average: (24.2, 19.65, 11.23)
os.uname():  posix.uname_result(sysname='Linux', nodename='node034', release='3.10.0-957.1.3.el7.x86_64', version='#1 SMP Thu Nov 29 14:49:43 UTC 2018', machine='x86_64')
PID of process: 102013
RAM total: 137G, RAM used: 34G, RAM free: 64G
the current directory: /
My disk usage:
Filesystem           Size  Used Avail Use% Mounted on
/dev/sda1             50G  4.9G   46G  10% /
devtmpfs              63G     0   63G   0% /dev
tmpfs                 63G  707M   63G   2% /dev/shm
tmpfs                 63G  107M   63G   1% /run
tmpfs                 63G     0   63G   0% /sys/fs/cgroup
nfs01-ib:/home        80T   71T  9.2T  89% /home
nfs03-ib:/pool/work  100T   72T   29T  72% /nfsdata
nfs01-ib:/cluster    2.0T  486G  1.6T  24% /cluster
/dev/sda5            2.0G   34M  2.0G   2% /tmp
/dev/sda6            169G  4.0G  165G   3% /local
/dev/sda3            6.0G  438M  5.6G   8% /var
beegfs_nodev         524T  441T   84T  85% /beegfs
tmpfs                 13G     0   13G   0% /run/user/67339# packages in environment at /home/ye53nis/.conda/envs/tf:
#
# Name                    Version                   Build  Channel
_libgcc_mutex             0.1                        main
_openmp_mutex             5.1                       1_gnu
absl-py                   1.0.0                    pypi_0    pypi
alembic                   1.7.7                    pypi_0    pypi
anyio                     3.5.0            py39h06a4308_0
argon2-cffi               21.3.0             pyhd3eb1b0_0
argon2-cffi-bindings      21.2.0           py39h7f8727e_0
asteval                   0.9.26                   pypi_0    pypi
asttokens                 2.0.5              pyhd3eb1b0_0
astunparse                1.6.3                    pypi_0    pypi
attrs                     21.4.0             pyhd3eb1b0_0
babel                     2.9.1              pyhd3eb1b0_0
backcall                  0.2.0              pyhd3eb1b0_0
beautifulsoup4            4.11.1           py39h06a4308_0
bleach                    4.1.0              pyhd3eb1b0_0
brotlipy                  0.7.0           py39h27cfd23_1003
ca-certificates           2022.4.26            h06a4308_0
cachetools                5.1.0                    pypi_0    pypi
certifi                   2021.10.8        py39h06a4308_2
cffi                      1.15.0           py39hd667e15_1
charset-normalizer        2.0.4              pyhd3eb1b0_0
click                     8.1.3                    pypi_0    pypi
cloudpickle               2.0.0                    pypi_0    pypi
cryptography              37.0.1           py39h9ce1e76_0
cycler                    0.11.0                   pypi_0    pypi
cython                    0.29.30                  pypi_0    pypi
databricks-cli            0.16.6                   pypi_0    pypi
debugpy                   1.5.1            py39h295c915_0
decorator                 5.1.1              pyhd3eb1b0_0
defusedxml                0.7.1              pyhd3eb1b0_0
docker                    5.0.3                    pypi_0    pypi
entrypoints               0.4              py39h06a4308_0
executing                 0.8.3              pyhd3eb1b0_0
fcsfiles                  2022.2.2                 pypi_0    pypi
flask                     2.1.2                    pypi_0    pypi
flatbuffers               1.12                     pypi_0    pypi
fonttools                 4.33.3                   pypi_0    pypi
future                    0.18.2                   pypi_0    pypi
gast                      0.4.0                    pypi_0    pypi
gitdb                     4.0.9                    pypi_0    pypi
gitpython                 3.1.27                   pypi_0    pypi
google-auth               2.6.6                    pypi_0    pypi
google-auth-oauthlib      0.4.6                    pypi_0    pypi
google-pasta              0.2.0                    pypi_0    pypi
greenlet                  1.1.2                    pypi_0    pypi
grpcio                    1.46.1                   pypi_0    pypi
gunicorn                  20.1.0                   pypi_0    pypi
h5py                      3.6.0                    pypi_0    pypi
idna                      3.3                pyhd3eb1b0_0
importlib-metadata        4.11.3                   pypi_0    pypi
ipykernel                 6.9.1            py39h06a4308_0
ipython                   8.3.0            py39h06a4308_0
ipython_genutils          0.2.0              pyhd3eb1b0_1
itsdangerous              2.1.2                    pypi_0    pypi
jedi                      0.18.1           py39h06a4308_1
jinja2                    3.0.3              pyhd3eb1b0_0
joblib                    1.1.0                    pypi_0    pypi
json5                     0.9.6              pyhd3eb1b0_0
jsonschema                4.4.0            py39h06a4308_0
jupyter_client            7.2.2            py39h06a4308_0
jupyter_core              4.10.0           py39h06a4308_0
jupyter_server            1.13.5             pyhd3eb1b0_0
jupyterlab                3.3.2              pyhd3eb1b0_0
jupyterlab_pygments       0.1.2                      py_0
jupyterlab_server         2.12.0           py39h06a4308_0
keras                     2.9.0                    pypi_0    pypi
keras-preprocessing       1.1.2                    pypi_0    pypi
kiwisolver                1.4.2                    pypi_0    pypi
ld_impl_linux-64          2.38                 h1181459_0
libclang                  14.0.1                   pypi_0    pypi
libffi                    3.3                  he6710b0_2
libgcc-ng                 11.2.0               h1234567_0
libgomp                   11.2.0               h1234567_0
libsodium                 1.0.18               h7b6447c_0
libstdcxx-ng              11.2.0               h1234567_0
lmfit                     1.0.3                    pypi_0    pypi
mako                      1.2.0                    pypi_0    pypi
markdown                  3.3.7                    pypi_0    pypi
markupsafe                2.0.1            py39h27cfd23_0
matplotlib                3.5.2                    pypi_0    pypi
matplotlib-inline         0.1.2              pyhd3eb1b0_2
mistune                   0.8.4           py39h27cfd23_1000
mlflow                    1.26.0                   pypi_0    pypi
multipletau               0.3.3                    pypi_0    pypi
nbclassic                 0.3.5              pyhd3eb1b0_0
nbclient                  0.5.13           py39h06a4308_0
nbconvert                 6.4.4            py39h06a4308_0
nbformat                  5.3.0            py39h06a4308_0
ncurses                   6.3                  h7f8727e_2
nest-asyncio              1.5.5            py39h06a4308_0
notebook                  6.4.11           py39h06a4308_0
numpy                     1.22.3                   pypi_0    pypi
oauthlib                  3.2.0                    pypi_0    pypi
openssl                   1.1.1o               h7f8727e_0
opt-einsum                3.3.0                    pypi_0    pypi
packaging                 21.3               pyhd3eb1b0_0
pandas                    1.4.2                    pypi_0    pypi
pandocfilters             1.5.0              pyhd3eb1b0_0
parso                     0.8.3              pyhd3eb1b0_0
pexpect                   4.8.0              pyhd3eb1b0_3
pickleshare               0.7.5           pyhd3eb1b0_1003
pillow                    9.1.1                    pypi_0    pypi
pip                       21.2.4           py39h06a4308_0
prometheus-flask-exporter 0.20.1                   pypi_0    pypi
prometheus_client         0.13.1             pyhd3eb1b0_0
prompt-toolkit            3.0.20             pyhd3eb1b0_0
protobuf                  3.20.1                   pypi_0    pypi
ptyprocess                0.7.0              pyhd3eb1b0_2
pure_eval                 0.2.2              pyhd3eb1b0_0
pyasn1                    0.4.8                    pypi_0    pypi
pyasn1-modules            0.2.8                    pypi_0    pypi
pycparser                 2.21               pyhd3eb1b0_0
pygments                  2.11.2             pyhd3eb1b0_0
pyjwt                     2.4.0                    pypi_0    pypi
pyopenssl                 22.0.0             pyhd3eb1b0_0
pyparsing                 3.0.4              pyhd3eb1b0_0
pyrsistent                0.18.0           py39heee7806_0
pysocks                   1.7.1            py39h06a4308_0
python                    3.9.12               h12debd9_0
python-dateutil           2.8.2              pyhd3eb1b0_0
python-fastjsonschema     2.15.1             pyhd3eb1b0_0
pytz                      2021.3             pyhd3eb1b0_0
pyyaml                    6.0                      pypi_0    pypi
pyzmq                     22.3.0           py39h295c915_2
querystring-parser        1.2.4                    pypi_0    pypi
readline                  8.1.2                h7f8727e_1
requests                  2.27.1             pyhd3eb1b0_0
requests-oauthlib         1.3.1                    pypi_0    pypi
rsa                       4.8                      pypi_0    pypi
scikit-learn              1.1.0                    pypi_0    pypi
scipy                     1.8.1                    pypi_0    pypi
seaborn                   0.11.2                   pypi_0    pypi
send2trash                1.8.0              pyhd3eb1b0_1
setuptools                61.2.0           py39h06a4308_0
six                       1.16.0             pyhd3eb1b0_1
smmap                     5.0.0                    pypi_0    pypi
sniffio                   1.2.0            py39h06a4308_1
soupsieve                 2.3.1              pyhd3eb1b0_0
sqlalchemy                1.4.36                   pypi_0    pypi
sqlite                    3.38.3               hc218d9a_0
sqlparse                  0.4.2                    pypi_0    pypi
stack_data                0.2.0              pyhd3eb1b0_0
tabulate                  0.8.9                    pypi_0    pypi
tensorboard               2.9.0                    pypi_0    pypi
tensorboard-data-server   0.6.1                    pypi_0    pypi
tensorboard-plugin-wit    1.8.1                    pypi_0    pypi
tensorflow                2.9.0                    pypi_0    pypi
tensorflow-estimator      2.9.0                    pypi_0    pypi
tensorflow-io-gcs-filesystem 0.26.0                   pypi_0    pypi
termcolor                 1.1.0                    pypi_0    pypi
terminado                 0.13.1           py39h06a4308_0
testpath                  0.5.0              pyhd3eb1b0_0
threadpoolctl             3.1.0                    pypi_0    pypi
tk                        8.6.11               h1ccaba5_1
tornado                   6.1              py39h27cfd23_0
traitlets                 5.1.1              pyhd3eb1b0_0
typing-extensions         4.1.1                hd3eb1b0_0
typing_extensions         4.1.1              pyh06a4308_0
tzdata                    2022a                hda174b7_0
uncertainties             3.1.6                    pypi_0    pypi
urllib3                   1.26.9           py39h06a4308_0
wcwidth                   0.2.5              pyhd3eb1b0_0
webencodings              0.5.1            py39h06a4308_1
websocket-client          0.58.0           py39h06a4308_4
werkzeug                  2.1.2                    pypi_0    pypi
wheel                     0.37.1             pyhd3eb1b0_0
wrapt                     1.14.1                   pypi_0    pypi
xz                        5.2.5                h7f8727e_1
zeromq                    4.3.4                h2531618_0
zipp                      3.8.0                    pypi_0    pypi
zlib                      1.2.12               h7f8727e_2

Note: you may need to restart the kernel to use updated packages.
{'SLURM_CHECKPOINT_IMAGE_DIR': '/var/slurm/checkpoint',
 'SLURM_NODELIST': 'node034',
 'SLURM_JOB_NAME': 'bash',
 'XDG_SESSION_ID': '135386',
 'SLURMD_NODENAME': 'node034',
 'SLURM_TOPOLOGY_ADDR': 'node034',
 'SLURM_NTASKS_PER_NODE': '24',
 'HOSTNAME': 'login01',
 'SLURM_PRIO_PROCESS': '0',
 'SLURM_SRUN_COMM_PORT': '40968',
 'SHELL': '/bin/bash',
 'TERM': 'xterm-color',
 'SLURM_JOB_QOS': 'qstand',
 'SLURM_PTY_WIN_ROW': '48',
 'HISTSIZE': '1000',
 'TMPDIR': '/tmp',
 'SLURM_TOPOLOGY_ADDR_PATTERN': 'node',
 'SSH_CLIENT': '10.231.185.64 42170 22',
 'CONDA_SHLVL': '2',
 'CONDA_PROMPT_MODIFIER': '(tf) ',
 'WINDOWID': '0',
 'QTDIR': '/usr/lib64/qt-3.3',
 'QTINC': '/usr/lib64/qt-3.3/include',
 'SSH_TTY': '/dev/pts/19',
 'NO_PROXY': 'localhost,127.0.0.0/8,.uni-jena.de,141.35.0.0/16,10.0.0.0/8,192.168.0.0/16,172.0.0.0/8,fe80::/7,2001:638:1558::/24,vmaster,node001',
 'QT_GRAPHICSSYSTEM_CHECKED': '1',
 'SLURM_NNODES': '1',
 'USER': 'ye53nis',
 'http_proxy': 'http://internet4nzm.rz.uni-jena.de:3128',
 'LS_COLORS': 'rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=01;05;37;41:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.Z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.jpg=01;35:*.jpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.axv=01;35:*.anx=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=01;36:*.au=01;36:*.flac=01;36:*.mid=01;36:*.midi=01;36:*.mka=01;36:*.mp3=01;36:*.mpc=01;36:*.ogg=01;36:*.ra=01;36:*.wav=01;36:*.axa=01;36:*.oga=01;36:*.spx=01;36:*.xspf=01;36:',
 'CONDA_EXE': '/cluster/miniconda3/bin/conda',
 'SLURM_STEP_NUM_NODES': '1',
 'SLURM_JOBID': '1657237',
 'SRUN_DEBUG': '3',
 'FTP_PROXY': 'http://internet4nzm.rz.uni-jena.de:3128',
 'ftp_proxy': 'http://internet4nzm.rz.uni-jena.de:3128',
 'SLURM_NTASKS': '24',
 'SLURM_LAUNCH_NODE_IPADDR': '192.168.192.5',
 'SLURM_STEP_ID': '0',
 'TMUX': '/tmp/tmux-67339/default,14861,2',
 '_CE_CONDA': '',
 'CONDA_PREFIX_1': '/cluster/miniconda3',
 'SLURM_STEP_LAUNCHER_PORT': '40968',
 'SLURM_TASKS_PER_NODE': '24',
 'MAIL': '/var/spool/mail/ye53nis',
 'PATH': '/home/ye53nis/.conda/envs/tf/bin:/home/lex/Programme/miniconda3/envs/tf/bin:/home/lex/Programme/miniconda3/condabin:/home/lex/.local/bin:/bin:/usr/bin:/usr/local/bin:/usr/local/sbin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl:/var/lib/snapd/snap/bin:/home/lex/Programme/miniconda3/bin:/usr/sbin:/home/ye53nis/.local/bin:/home/ye53nis/bin',
 'SLURM_WORKING_CLUSTER': 'hpc:192.168.192.1:6817:8448',
 'SLURM_JOB_ID': '1657237',
 'CONDA_PREFIX': '/home/ye53nis/.conda/envs/tf',
 'SLURM_JOB_USER': 'ye53nis',
 'SLURM_STEPID': '0',
 'PWD': '/',
 'SLURM_SRUN_COMM_HOST': '192.168.192.5',
 'LANG': 'en_US.UTF-8',
 'SLURM_PTY_WIN_COL': '236',
 'SLURM_UMASK': '0022',
 'MODULEPATH': '/usr/share/Modules/modulefiles:/etc/modulefiles:/cluster/modulefiles',
 'SLURM_JOB_UID': '67339',
 'LOADEDMODULES': '',
 'SLURM_NODEID': '0',
 'TMUX_PANE': '%2',
 'SLURM_SUBMIT_DIR': '/',
 'SLURM_TASK_PID': '100551',
 'SLURM_NPROCS': '24',
 'SLURM_CPUS_ON_NODE': '24',
 'SLURM_DISTRIBUTION': 'block',
 'HTTPS_PROXY': 'http://internet4nzm.rz.uni-jena.de:3128',
 'https_proxy': 'http://internet4nzm.rz.uni-jena.de:3128',
 'SLURM_PROCID': '0',
 'HISTCONTROL': 'ignoredups',
 '_CE_M': '',
 'SLURM_JOB_NODELIST': 'node034',
 'SLURM_PTY_PORT': '43329',
 'HOME': '/home/ye53nis',
 'SHLVL': '3',
 'SLURM_LOCALID': '0',
 'SLURM_JOB_GID': '13280',
 'SLURM_JOB_CPUS_PER_NODE': '24',
 'SLURM_CLUSTER_NAME': 'hpc',
 'no_proxy': 'localhost,127.0.0.0/8,.uni-jena.de,141.35.0.0/16,10.0.0.0/8,192.168.0.0/16,172.0.0.0/8,fe80::/7,2001:638:1558::/24,vmaster,node001',
 'SLURM_GTIDS': '0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23',
 'SLURM_SUBMIT_HOST': 'login01',
 'HTTP_PROXY': 'http://internet4nzm.rz.uni-jena.de:3128',
 'SLURM_JOB_PARTITION': 'b_standard',
 'MATHEMATICA_HOME': '/cluster/apps/mathematica/12.3',
 'CONDA_PYTHON_EXE': '/cluster/miniconda3/bin/python',
 'LOGNAME': 'ye53nis',
 'SLURM_STEP_NUM_TASKS': '24',
 'QTLIB': '/usr/lib64/qt-3.3/lib',
 'SLURM_JOB_ACCOUNT': 'iaob',
 'SLURM_JOB_NUM_NODES': '1',
 'MODULESHOME': '/usr/share/Modules',
 'CONDA_DEFAULT_ENV': 'tf',
 'LESSOPEN': '||/usr/bin/lesspipe.sh %s',
 'SLURM_STEP_TASKS_PER_NODE': '24',
 'PORT': '8889',
 'SLURM_STEP_NODELIST': 'node034',
 'DISPLAY': ':0',
 'XDG_RUNTIME_DIR': '',
 'XAUTHORITY': '/home/lex/.Xauthority',
 'BASH_FUNC_module()': '() {  eval `/usr/bin/modulecmd bash $*`\n}',
 '_': '/home/ye53nis/.conda/envs/tf/bin/jupyter',
 'PYDEVD_USE_FRAME_EVAL': 'NO',
 'JPY_PARENT_PID': '100629',
 'CLICOLOR': '1',
 'PAGER': 'cat',
 'GIT_PAGER': 'cat',
 'MPLBACKEND': 'module://matplotlib_inline.backend_inline'}
</pre>
</details>
</li>
</ol>
</div>
</div>
<div id="outline-container-sec-2-1-3" class="outline-4">
<h4 id="sec-2-1-3"><span class="section-number-4">2.1.3</span> Setup: Jupyter on local computer</h4>
<div class="outline-text-4" id="text-2-1-3">
<ol class="org-ol">
<li>on our local machine we don't need tmux. A simple sh command is enough. So
let's start the conda environment in the sh session <code>local</code> and start
jupterlab there.
<div class="org-src-container">

<pre class="src src-sh"><span style="color: #4f5c7e;">conda</span> <span style="color: #4f7e67;">activate</span> <span style="color: #37785e;">tf</span>
<span style="color: #37785e;">jupyter</span> <span style="color: #4f5c7e;">lab</span> <span style="color: #783778;">--no-browser</span> <span style="color: #5e7837;">--port</span>=<span style="color: #783f5a;">8888</span>
</pre>
</div>

<pre class="example">
[I 2022-05-22 14:24:33.496 ServerApp] jupyterlab | extension was successfully linked.
[I 2022-05-22 14:24:33.745 ServerApp] nbclassic | extension was successfully linked.
[I 2022-05-22 14:24:33.786 LabApp] JupyterLab extension loaded from /home/lex/Programme/miniconda3/envs/tf/lib/python3.9/site-packages/jupyterlab
[I 2022-05-22 14:24:33.786 LabApp] JupyterLab application directory is /home/lex/Programme/miniconda3/envs/tf/share/jupyter/lab
[I 2022-05-22 14:24:33.790 ServerApp] jupyterlab | extension was successfully loaded.
[I 2022-05-22 14:24:33.799 ServerApp] nbclassic | extension was successfully loaded.
[I 2022-05-22 14:24:33.800 ServerApp] Serving notebooks from local directory: /home/lex/Programme/drmed-git
[I 2022-05-22 14:24:33.800 ServerApp] Jupyter Server 1.4.1 is running at:
[I 2022-05-22 14:24:33.800 ServerApp] http://localhost:8888/lab?token=1d0362f7e2280b0060620c901abee258910e16c879bc0870
[I 2022-05-22 14:24:33.800 ServerApp]  or http://127.0.0.1:8888/lab?token=1d0362f7e2280b0060620c901abee258910e16c879bc0870
[I 2022-05-22 14:24:33.800 ServerApp] Use Control-C to stop this server and shut down all kernels (twice to skip confirmation).
[C 2022-05-22 14:24:33.804 ServerApp]

    To access the server, open this file in a browser:
        file:///home/lex/.local/share/jupyter/runtime/jpserver-1749996-open.html
    Or copy and paste one of these URLs:
        http://localhost:8888/lab?token=1d0362f7e2280b0060620c901abee258910e16c879bc0870
     or http://127.0.0.1:8888/lab?token=1d0362f7e2280b0060620c901abee258910e16c879bc0870

</pre>
</li>

<li>I started a Python3 kernel using <code>jupyter-server-list-kernels</code>. Then I
added the kernel ID to the <code>:PROPERTIES:</code> drawer of this (and following)
subtrees.

<pre class="example">
python3           03038b73-b2b5-49ce-a1dc-21afb6247d0f   a few seconds ago    starting   0
</pre>
</li>

<li>Test: (<code>#+CALL: jp-metadata(_long='True)</code>)
<details>
<pre class="example">
No of CPUs in system: 4
No of CPUs the current process can use: 4
load average: (0.93115234375, 0.97216796875, 0.5595703125)
os.uname():  posix.uname_result(sysname='Linux', nodename='Topialex', release='5.15.28-1-MANJARO', version='#1 SMP PREEMPT Fri Mar 11 14:12:57 UTC 2022', machine='x86_64')
PID of process: 8991
RAM total: 16Gi, RAM used: 1,8Gi, RAM free: 12Gi
the current directory: /home/lex/Programme/drmed-git
My disk usage:
Filesystem      Size  Used Avail Use% Mounted on
dev             3,9G     0  3,9G   0% /dev
run             3,9G  1,5M  3,9G   1% /run
/dev/sda2       167G  131G   28G  83% /
tmpfs           3,9G   63M  3,8G   2% /dev/shm
tmpfs           3,9G  4,2M  3,9G   1% /tmp
/dev/sda1       300M  264K  300M   1% /boot/efi
tmpfs           784M   80K  784M   1% /run/user/1000# packages in environment at /home/lex/Programme/miniconda3/envs/tf:
#
# Name                    Version                   Build  Channel
_libgcc_mutex             0.1                        main
_openmp_mutex             4.5                       1_gnu
absl-py                   1.0.0                    pypi_0    pypi
alembic                   1.4.1                    pypi_0    pypi
anyio                     2.2.0            py39h06a4308_1
argon2-cffi               20.1.0           py39h27cfd23_1
asteval                   0.9.25                   pypi_0    pypi
astroid                   2.9.2                    pypi_0    pypi
astunparse                1.6.3                    pypi_0    pypi
async_generator           1.10               pyhd3eb1b0_0
attrs                     21.2.0             pyhd3eb1b0_0
babel                     2.9.1              pyhd3eb1b0_0
backcall                  0.2.0              pyhd3eb1b0_0
bleach                    4.0.0              pyhd3eb1b0_0
brotlipy                  0.7.0           py39h27cfd23_1003
ca-certificates           2021.10.26           h06a4308_2
cachetools                4.2.4                    pypi_0    pypi
certifi                   2021.10.8        py39h06a4308_0
cffi                      1.14.6           py39h400218f_0
charset-normalizer        2.0.4              pyhd3eb1b0_0
click                     8.0.3                    pypi_0    pypi
cloudpickle               2.0.0                    pypi_0    pypi
cryptography              36.0.0           py39h9ce1e76_0
cycler                    0.11.0                   pypi_0    pypi
cython                    0.29.26                  pypi_0    pypi
databricks-cli            0.16.2                   pypi_0    pypi
debugpy                   1.5.1            py39h295c915_0
decorator                 5.1.0              pyhd3eb1b0_0
defusedxml                0.7.1              pyhd3eb1b0_0
docker                    5.0.3                    pypi_0    pypi
entrypoints               0.3              py39h06a4308_0
fcsfiles                  2021.6.6                 pypi_0    pypi
flake8                    4.0.1                    pypi_0    pypi
flask                     2.0.2                    pypi_0    pypi
flatbuffers               2.0                      pypi_0    pypi
focuspoint                0.1                      pypi_0    pypi
fonttools                 4.28.5                   pypi_0    pypi
future                    0.18.2                   pypi_0    pypi
gast                      0.4.0                    pypi_0    pypi
gitdb                     4.0.9                    pypi_0    pypi
gitpython                 3.1.24                   pypi_0    pypi
google-auth               2.3.3                    pypi_0    pypi
google-auth-oauthlib      0.4.6                    pypi_0    pypi
google-pasta              0.2.0                    pypi_0    pypi
greenlet                  1.1.2                    pypi_0    pypi
grpcio                    1.43.0                   pypi_0    pypi
gunicorn                  20.1.0                   pypi_0    pypi
h5py                      3.6.0                    pypi_0    pypi
idna                      3.3                pyhd3eb1b0_0
importlib-metadata        4.8.2            py39h06a4308_0
importlib_metadata        4.8.2                hd3eb1b0_0
ipykernel                 6.4.1            py39h06a4308_1
ipython                   7.29.0           py39hb070fc8_0
ipython_genutils          0.2.0              pyhd3eb1b0_1
isort                     5.10.1                   pypi_0    pypi
itsdangerous              2.0.1                    pypi_0    pypi
jedi                      0.18.0           py39h06a4308_1
jinja2                    3.0.2              pyhd3eb1b0_0
joblib                    1.1.0                    pypi_0    pypi
json5                     0.9.6              pyhd3eb1b0_0
jsonschema                3.2.0              pyhd3eb1b0_2
jupyter_client            7.1.0              pyhd3eb1b0_0
jupyter_core              4.9.1            py39h06a4308_0
jupyter_server            1.4.1            py39h06a4308_0
jupyterlab                3.2.1              pyhd3eb1b0_1
jupyterlab_pygments       0.1.2                      py_0
jupyterlab_server         2.8.2              pyhd3eb1b0_0
keras                     2.7.0                    pypi_0    pypi
keras-preprocessing       1.1.2                    pypi_0    pypi
kiwisolver                1.3.2                    pypi_0    pypi
lazy-object-proxy         1.7.1                    pypi_0    pypi
ld_impl_linux-64          2.35.1               h7274673_9
libclang                  12.0.0                   pypi_0    pypi
libffi                    3.3                  he6710b0_2
libgcc-ng                 9.3.0               h5101ec6_17
libgomp                   9.3.0               h5101ec6_17
libsodium                 1.0.18               h7b6447c_0
libstdcxx-ng              9.3.0               hd4cf53a_17
lmfit                     1.0.3                    pypi_0    pypi
mako                      1.1.6                    pypi_0    pypi
markdown                  3.3.6                    pypi_0    pypi
markupsafe                2.0.1            py39h27cfd23_0
matplotlib                3.5.1                    pypi_0    pypi
matplotlib-inline         0.1.2              pyhd3eb1b0_2
mccabe                    0.6.1                    pypi_0    pypi
mistune                   0.8.4           py39h27cfd23_1000
mlflow                    1.22.0                   pypi_0    pypi
multipletau               0.3.3                    pypi_0    pypi
mypy                      0.930                    pypi_0    pypi
mypy-extensions           0.4.3                    pypi_0    pypi
nbclassic                 0.2.6              pyhd3eb1b0_0
nbclient                  0.5.3              pyhd3eb1b0_0
nbconvert                 6.1.0            py39h06a4308_0
nbformat                  5.1.3              pyhd3eb1b0_0
ncurses                   6.3                  h7f8727e_2
nest-asyncio              1.5.1              pyhd3eb1b0_0
nodeenv                   1.6.0                    pypi_0    pypi
notebook                  6.4.6            py39h06a4308_0
numpy                     1.21.5                   pypi_0    pypi
oauthlib                  3.1.1                    pypi_0    pypi
openssl                   1.1.1l               h7f8727e_0
opt-einsum                3.3.0                    pypi_0    pypi
packaging                 21.3               pyhd3eb1b0_0
pandas                    1.3.5                    pypi_0    pypi
pandocfilters             1.4.3            py39h06a4308_1
parso                     0.8.2              pyhd3eb1b0_0
pexpect                   4.8.0              pyhd3eb1b0_3
pickleshare               0.7.5           pyhd3eb1b0_1003
pillow                    8.4.0                    pypi_0    pypi
pip                       21.2.4           py39h06a4308_0
platformdirs              2.4.1                    pypi_0    pypi
prometheus-flask-exporter 0.18.7                   pypi_0    pypi
prometheus_client         0.12.0             pyhd3eb1b0_0
prompt-toolkit            3.0.20             pyhd3eb1b0_0
protobuf                  3.19.1                   pypi_0    pypi
ptyprocess                0.7.0              pyhd3eb1b0_2
pyasn1                    0.4.8                    pypi_0    pypi
pyasn1-modules            0.2.8                    pypi_0    pypi
pycodestyle               2.8.0                    pypi_0    pypi
pycparser                 2.21               pyhd3eb1b0_0
pydot                     1.4.2                    pypi_0    pypi
pyflakes                  2.4.0                    pypi_0    pypi
pygments                  2.10.0             pyhd3eb1b0_0
pylint                    2.12.2                   pypi_0    pypi
pyopenssl                 21.0.0             pyhd3eb1b0_1
pyparsing                 3.0.4              pyhd3eb1b0_0
pyright                   0.0.13                   pypi_0    pypi
pyrsistent                0.18.0           py39heee7806_0
pysocks                   1.7.1            py39h06a4308_0
python                    3.9.7                h12debd9_1
python-dateutil           2.8.2              pyhd3eb1b0_0
python-editor             1.0.4                    pypi_0    pypi
pytz                      2021.3             pyhd3eb1b0_0
pyyaml                    6.0                      pypi_0    pypi
pyzmq                     22.3.0           py39h295c915_2
querystring-parser        1.2.4                    pypi_0    pypi
readline                  8.1                  h27cfd23_0
requests                  2.26.0             pyhd3eb1b0_0
requests-oauthlib         1.3.0                    pypi_0    pypi
rsa                       4.8                      pypi_0    pypi
scikit-learn              1.0.2                    pypi_0    pypi
scipy                     1.7.3                    pypi_0    pypi
seaborn                   0.11.2                   pypi_0    pypi
send2trash                1.8.0              pyhd3eb1b0_1
setuptools                58.0.4           py39h06a4308_0
six                       1.16.0             pyhd3eb1b0_0
smmap                     5.0.0                    pypi_0    pypi
sniffio                   1.2.0            py39h06a4308_1
sqlalchemy                1.4.29                   pypi_0    pypi
sqlite                    3.37.0               hc218d9a_0
sqlparse                  0.4.2                    pypi_0    pypi
tabulate                  0.8.9                    pypi_0    pypi
tensorboard               2.7.0                    pypi_0    pypi
tensorboard-data-server   0.6.1                    pypi_0    pypi
tensorboard-plugin-wit    1.8.0                    pypi_0    pypi
tensorflow                2.7.0                    pypi_0    pypi
tensorflow-estimator      2.7.0                    pypi_0    pypi
tensorflow-io-gcs-filesystem 0.23.1                   pypi_0    pypi
termcolor                 1.1.0                    pypi_0    pypi
terminado                 0.9.4            py39h06a4308_0
testpath                  0.5.0              pyhd3eb1b0_0
threadpoolctl             3.0.0                    pypi_0    pypi
tk                        8.6.11               h1ccaba5_0
toml                      0.10.2                   pypi_0    pypi
tomli                     2.0.0                    pypi_0    pypi
tornado                   6.1              py39h27cfd23_0
traitlets                 5.1.1              pyhd3eb1b0_0
typing-extensions         4.0.1                    pypi_0    pypi
tzdata                    2021e                hda174b7_0
uncertainties             3.1.6                    pypi_0    pypi
urllib3                   1.26.7             pyhd3eb1b0_0
wcwidth                   0.2.5              pyhd3eb1b0_0
webencodings              0.5.1            py39h06a4308_1
websocket-client          1.2.3                    pypi_0    pypi
werkzeug                  2.0.2                    pypi_0    pypi
wheel                     0.37.0             pyhd3eb1b0_1
wrapt                     1.13.3                   pypi_0    pypi
xz                        5.2.5                h7b6447c_0
zeromq                    4.3.4                h2531618_0
zipp                      3.6.0              pyhd3eb1b0_0
zlib                      1.2.11               h7f8727e_4

Note: you may need to restart the kernel to use updated packages.
{'SHELL': '/bin/bash',
 'SESSION_MANAGER': 'local/Topialex:@/tmp/.ICE-unix/878,unix/Topialex:/tmp/.ICE-unix/878',
 'XDG_CONFIG_DIRS': '/home/lex/.config/kdedefaults:/etc/xdg',
 'XDG_SESSION_PATH': '/org/freedesktop/DisplayManager/Session1',
 'CONDA_EXE': '/home/lex/Programme/miniconda3/bin/conda',
 '_CE_M': '',
 'LANGUAGE': 'en_GB',
 'TERMCAP': '',
 'LC_ADDRESS': 'de_DE.UTF-8',
 'LC_NAME': 'de_DE.UTF-8',
 'INSIDE_EMACS': '27.2,comint',
 'DESKTOP_SESSION': 'plasma',
 'LC_MONETARY': 'de_DE.UTF-8',
 'GTK_RC_FILES': '/etc/gtk/gtkrc:/home/lex/.gtkrc:/home/lex/.config/gtkrc',
 'XCURSOR_SIZE': '24',
 'GTK_MODULES': 'canberra-gtk-module',
 'XDG_SEAT': 'seat0',
 'PWD': '/home/lex/Programme/drmed-git',
 'LOGNAME': 'lex',
 'XDG_SESSION_DESKTOP': 'KDE',
 'XDG_SESSION_TYPE': 'x11',
 'CONDA_PREFIX': '/home/lex/Programme/miniconda3/envs/tf',
 'DSSI_PATH': '/home/lex/.dssi:/usr/lib/dssi:/usr/local/lib/dssi',
 'SYSTEMD_EXEC_PID': '768',
 'XAUTHORITY': '/home/lex/.Xauthority',
 'MOTD_SHOWN': 'pam',
 'GTK2_RC_FILES': '/etc/gtk-2.0/gtkrc:/home/lex/.gtkrc-2.0:/home/lex/.config/gtkrc-2.0',
 'HOME': '/home/lex',
 'LANG': 'de_DE.UTF-8',
 'LC_PAPER': 'de_DE.UTF-8',
 'VST_PATH': '/home/lex/.vst:/usr/lib/vst:/usr/local/lib/vst',
 'XDG_CURRENT_DESKTOP': 'KDE',
 'COLUMNS': '80',
 'CONDA_PROMPT_MODIFIER': '',
 'XDG_SEAT_PATH': '/org/freedesktop/DisplayManager/Seat0',
 'KDE_SESSION_UID': '1000',
 'XDG_SESSION_CLASS': 'user',
 'LC_IDENTIFICATION': 'de_DE.UTF-8',
 'TERM': 'xterm-color',
 '_CE_CONDA': '',
 'USER': 'lex',
 'CONDA_SHLVL': '1',
 'KDE_SESSION_VERSION': '5',
 'PAM_KWALLET5_LOGIN': '/run/user/1000/kwallet5.socket',
 'DISPLAY': ':0',
 'SHLVL': '2',
 'LC_TELEPHONE': 'de_DE.UTF-8',
 'LC_MEASUREMENT': 'de_DE.UTF-8',
 'XDG_VTNR': '1',
 'XDG_SESSION_ID': '2',
 'QT_LINUX_ACCESSIBILITY_ALWAYS_ON': '1',
 'CONDA_PYTHON_EXE': '/home/lex/Programme/miniconda3/bin/python',
 'MOZ_PLUGIN_PATH': '/usr/lib/mozilla/plugins',
 'XDG_RUNTIME_DIR': '/run/user/1000',
 'CONDA_DEFAULT_ENV': 'tf',
 'LC_TIME': 'de_DE.UTF-8',
 'QT_AUTO_SCREEN_SCALE_FACTOR': '0',
 'XCURSOR_THEME': 'breeze_cursors',
 'XDG_DATA_DIRS': '/home/lex/.local/share/flatpak/exports/share:/var/lib/flatpak/exports/share:/usr/local/share:/usr/share:/var/lib/snapd/desktop',
 'KDE_FULL_SESSION': 'true',
 'BROWSER': 'vivaldi-stable',
 'PATH': '/home/lex/Programme/miniconda3/envs/tf/bin:/home/lex/Programme/miniconda3/condabin:/home/lex/.local/bin:/bin:/usr/bin:/usr/local/bin:/usr/local/sbin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl:/var/lib/snapd/snap/bin',
 'DBUS_SESSION_BUS_ADDRESS': 'unix:path=/run/user/1000/bus',
 'LV2_PATH': '/home/lex/.lv2:/usr/lib/lv2:/usr/local/lib/lv2',
'KDE_APPLICATIONS_AS_SCOPE': '1',
'MAIL': '/var/spool/mail/lex',
'LC_NUMERIC': 'de_DE.UTF-8',
'LADSPA_PATH': '/home/lex/.ladspa:/usr/lib/ladspa:/usr/local/lib/ladspa',
'CADENCE_AUTO_STARTED': 'true',
'_': '/home/lex/Programme/miniconda3/envs/tf/bin/jupyter',
'PYDEVD_USE_FRAME_EVAL': 'NO',
'JPY_PARENT_PID': '8414',
'CLICOLOR': '1',
'PAGER': 'cat',
'GIT_PAGER': 'cat',
'MPLBACKEND': 'module://matplotlib_inline.backend_inline'}
</pre>
<pre class="example">
5f083adb-6166-4a49-9fa5-08e37046cbfd
</pre>
</details>
</li>
</ol>
</div>
</div>
<div id="outline-container-sec-2-1-4" class="outline-4">
<h4 id="sec-2-1-4"><span class="section-number-4">2.1.4</span> Setup: Node for running Mlflow UI</h4>
<div class="outline-text-4" id="text-2-1-4">
<ol class="org-ol">
<li>Create mlflow tmux session and start mlflow ui
<div class="org-src-container">

<pre class="src src-tmux"><span style="color: #4f5c7e;">conda</span> <span style="color: #4f7e67;">activate</span> <span style="color: #37785e;">tf</span>
<span style="color: #5e7837;">mlflow</span> <span style="color: #7e544f;">ui</span> <span style="color: #707e4f;">--backend-store-uri</span> <span style="color: #7a4f7e;">file:///beegfs/ye53nis/drmed-git/data/mlruns</span> <span style="color: #707e4f;">-p</span> <span style="color: #4f7e67;">5001</span>
</pre>
</div>

<pre class="example">
(tf) [ye53nis@login01 ~]$ mlflow ui --backend-store-uri file:///beegfs/ye53nis/drmed-git/data/mlruns -p 5001
[2021-08-08 14:47:33 +0200] [5106] [INFO] Starting gunicorn 20.1.0
[2021-08-08 14:47:33 +0200] [5106] [INFO] Listening at: http://127.0.0.1:5001 (5106)
[2021-08-08 14:47:33 +0200] [5106] [INFO] Using worker: sync
[2021-08-08 14:47:33 +0200] [5115] [INFO] Booting worker with pid: 5115
</pre>
</li>

<li>SHH tunnel the mflow session to the local computer (<code>#+CALL: ssh-tunnel[:session local3](port="5001", node="login01")</code>)
<table class="table table-striped table-bordered table-hover table-condensed">


<colgroup>
<col  class="left">

<col  class="left">

<col  class="left">

<col  class="left">

<col  class="left">

<col  class="left">

<col  class="left">

<col  class="left">

<col  class="left">
</colgroup>
<tbody>
<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">sh-5.1$</td>
<td class="text-left">sh-5.1$</td>
</tr>

<tr>
<td class="text-left">ye53nis@ara-login01.rz.uni-jena.de's</td>
<td class="text-left">password:</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">ye53nis@login01's</td>
<td class="text-left">password:</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">bind:</td>
<td class="text-left">Address</td>
<td class="text-left">already</td>
<td class="text-left">in</td>
<td class="text-left">use</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">Last</td>
<td class="text-left">login:</td>
<td class="text-left">Tue</td>
<td class="text-left">Aug</td>
<td class="text-left">17</td>
<td class="text-left">18:03:52</td>
<td class="text-left">2021</td>
<td class="text-left">from</td>
<td class="text-left">10.231.188.20</td>
</tr>
</tbody>
</table>
</li>
</ol>
</div>
</div>

<div id="outline-container-sec-2-1-5" class="outline-4">
<h4 id="sec-2-1-5"><span class="section-number-4">2.1.5</span> Setup: Record GPU metadata &amp; git</h4>
<div class="outline-text-4" id="text-2-1-5">
<ol class="org-ol">
<li>Current directory, last 10 git commits
<details>
<p>

</p>

<div class="org-src-container">

<pre class="src src-tmux"><span style="color: #657b83; font-weight: bold;">pwd</span>
<span style="color: #784437;">git</span> <span style="color: #78683f;">log</span> <span style="color: #707e4f;">-10</span>
</pre>
</div>

<pre class="example">
(tf) [ye53nis@node128 drmed-git]$ pwd
/beegfs/ye53nis/drmed-git
(tf) [ye53nis@node128 drmed-git]$ git log -10
commit 4c2dc79f0483090d3af2591891c2349b0a48115f
Author: Apoplex &lt;oligolex@vivaldi.net&gt;
Date:   Thu Mar 3 14:10:45 2022 +0100

    Fix normalize() for l1 and l2 in preprocessing

commit 39baf02076ba8fbcf444bfa11108d302bcb4c45f
Author: Alex Seltmann &lt;seltmann@posteo.de&gt;
Date:   Sun Feb 27 22:20:22 2022 +0100

    Add comparison file from exp-210807-hparams

commit d51b11eda090b9301e783ec35bdfd26c7bf0709c
Author: Apoplex &lt;oligolex@vivaldi.net&gt;
Date:   Sun Feb 27 18:40:00 2022 +0100

    fix model input_size to None; else to crop_size

commit c637444d8b798603629f6f0bd72ee55af7f81a5f
Author: Apoplex &lt;oligolex@vivaldi.net&gt;
Date:   Sun Feb 27 18:39:29 2022 +0100

    Fix function call correlate_and_fit

commit 291c6619c12bc39d526137a43d976b3cb4881e50
Author: Apoplex &lt;oligolex@vivaldi.net&gt;
Date:   Sat Feb 26 20:04:07 2022 +0100

    Fix scale_trace; simplify tf_pad_trace call

commit dcca8b9e17909a95b824c8a7b1fec52eeed198c3
Author: Apoplex &lt;oligolex@vivaldi.net&gt;
Date:   Thu Feb 24 16:11:39 2022 +0100

    test tf_pad_trace

commit 6cf2da85748ef13f2e752bea8989a6d31549ced3
(tf) [ye53nis@node128 drmed-git]$
</pre>
</details>
</li>
<li>GPU, CPU, RAM, file system, env variables, top info
<details>
<div class="org-src-container">

<pre class="src src-tmux"><span style="color: #37785e;">nvcc</span> <span style="color: #3f7178;">-V</span>
<span style="color: #657b83; font-weight: bold;">echo</span> <span style="color: #78683f;">--------------------</span>
<span style="color: #37785e;">lscpu</span>
<span style="color: #657b83; font-weight: bold;">echo</span> <span style="color: #78683f;">--------------------</span>
<span style="color: #374478;">nproc</span>
<span style="color: #657b83; font-weight: bold;">echo</span> <span style="color: #78683f;">--------------------</span>
<span style="color: #5e7837;">free</span> <span style="color: #5e7837;">-h</span>
<span style="color: #657b83; font-weight: bold;">echo</span> <span style="color: #78683f;">--------------------</span>
<span style="color: #4f7e67;">df</span> <span style="color: #5e7837;">-h</span>
<span style="color: #657b83; font-weight: bold;">echo</span> <span style="color: #78683f;">--------------------</span>
<span style="color: #5e7837;">printenv</span>
<span style="color: #657b83; font-weight: bold;">echo</span> <span style="color: #78683f;">--------------------</span>
<span style="color: #783f5a;">top</span> <span style="color: #4f5c7e;">-bcn1</span> <span style="color: #37785e;">-w512</span> | <span style="color: #4f5c7e;">head</span> <span style="color: #707e4f;">-n</span> <span style="color: #707e4f;">15</span>
</pre>
</div>

<pre class="example">
(tf) [ye53nis@node128 drmed-git]$ nvcc -V
nvcc: NVIDIA (R) Cuda compiler driver
Copyright (c) 2005-2020 NVIDIA Corporation
Built on Mon_Nov_30_19:08:53_PST_2020
Cuda compilation tools, release 11.2, V11.2.67
Build cuda_11.2.r11.2/compiler.29373293_0
--------------------
(tf) [ye53nis@node128 drmed-git]$ lscpu
Architecture:          x86_64
CPU op-mode(s):        32-bit, 64-bit
Byte Order:            Little Endian
CPU(s):                48
On-line CPU(s) list:   0-47
Thread(s) per core:    2
Core(s) per socket:    12
Socket(s):             2
NUMA node(s):          4
Vendor ID:             GenuineIntel
CPU family:            6
Model:                 79
Model name:            Intel(R) Xeon(R) CPU E5-2650 v4 @ 2.20GHz
Stepping:              1
CPU MHz:               1203.527
CPU max MHz:           2900.0000
CPU min MHz:           1200.0000
BogoMIPS:              4399.79
Virtualization:        VT-x
L1d cache:             32K
L1i cache:             32K
L2 cache:              256K
L3 cache:              15360K
NUMA node0 CPU(s):     0-5,24-29
NUMA node1 CPU(s):     6-11,30-35
NUMA node2 CPU(s):     12-17,36-41
NUMA node3 CPU(s):     18-23,42-47
Flags:                 fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts acpi mmx fxsr sse sse2 ss ht tm pbe syscall nx pdpe1gb rdtscp lm constant_tsc arch_perfmon pebs bts rep_good nopl xtopology nonst
op_tsc aperfmperf eagerfpu pni pclmulqdq dtes64 monitor ds_cpl vmx smx est tm2 ssse3 sdbg fma cx16 xtpr pdcm pcid dca sse4_1 sse4_2 x2apic movbe popcnt tsc_deadline_timer aes xsave avx f16c rdrand lahf_lm abm 3dnowprefetch epb cat_l3 cd
p_l3 intel_ppin intel_pt ibrs ibpb stibp tpr_shadow vnmi flexpriority ept vpid fsgsbase tsc_adjust bmi1 hle avx2 smep bmi2 erms invpcid rtm cqm rdt_a rdseed adx smap xsaveopt cqm_llc cqm_occup_llc cqm_mbm_total cqm_mbm_local dtherm ida
arat pln pts spec_ctrl intel_stibp
--------------------
(tf) [ye53nis@node128 drmed-git]$ nproc
12
--------------------
(tf) [ye53nis@node128 drmed-git]$ free -h
              total        used        free      shared  buff/cache   available
Mem:           125G        1.1G        116G        230M        8.6G        123G
Swap:           11G          0B         11G
--------------------
(tf) [ye53nis@node128 drmed-git]$ df -h
Filesystem           Size  Used Avail Use% Mounted on
/dev/sda1             50G  7.0G   44G  14% /
devtmpfs              63G     0   63G   0% /dev
tmpfs                 63G  188M   63G   1% /dev/shm
tmpfs                 63G   43M   63G   1% /run
tmpfs                 63G     0   63G   0% /sys/fs/cgroup
nfs01-ib:/cluster    2.0T  469G  1.6T  23% /cluster
nfs01-ib:/home        80T   68T   13T  85% /home
nfs03-ib:/pool/work  100T   71T   29T  71% /nfsdata
/dev/sda3            6.0G  635M  5.4G  11% /var
/dev/sda6            169G  354M  169G   1% /local
/dev/sda5            2.0G   35M  2.0G   2% /tmp
beegfs_nodev         524T  508T   17T  97% /beegfs
--------------------
(tf) [ye53nis@node128 drmed-git]$ printenv
SLURM_CHECKPOINT_IMAGE_DIR=/var/slurm/checkpoint
SLURM_NODELIST=node128
CUDA_PATH=/cluster/nvidia/cuda/11.2
SLURM_JOB_NAME=bash
CUDA_INC_PATH=/cluster/nvidia/cuda/11.2/include
XDG_SESSION_ID=44301
SLURMD_NODENAME=node128
SLURM_TOPOLOGY_ADDR=node128
SLURM_NTASKS_PER_NODE=12
HOSTNAME=login01
SLURM_PRIO_PROCESS=0
SLURM_SRUN_COMM_PORT=38740
SHELL=/bin/bash
TERM=screen
MLFLOW_EXPERIMENT_NAME=exp-220227-unet
SLURM_JOB_QOS=qstand
SLURM_PTY_WIN_ROW=53
HISTSIZE=1000
TMPDIR=/tmp
SLURM_TOPOLOGY_ADDR_PATTERN=node
SSH_CLIENT=10.231.181.128 49370 22
INCLUDEDIR=/cluster/nvidia/cuda/11.2/include
CONDA_SHLVL=2
CONDA_PROMPT_MODIFIER=(tf)
OLDPWD=/beegfs/ye53nis/drmed-git
QTDIR=/usr/lib64/qt-3.3
QTINC=/usr/lib64/qt-3.3/include
SSH_TTY=/dev/pts/79
NO_PROXY=localhost,127.0.0.0/8,.uni-jena.de,141.35.0.0/16,10.0.0.0/8,192.168.0.0/16,172.0.0.0/8,fe80::/7,2001:638:1558::/24,vmaster,node001
QT_GRAPHICSSYSTEM_CHECKED=1
SLURM_NNODES=1
USER=ye53nis
http_proxy=http://internet4nzm.rz.uni-jena.de:3128
LD_LIBRARY_PATH=/cluster/nvidia/cuda/11.2/lib64:/cluster/nvidia/cuda/11.2/nvvm/lib64:/cluster/nvidia/cudnn/8.1//lib64
LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=01;05;37;41:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01
;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.Z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:
*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.jpg=01;35:*.jpeg=01;35:*.gif=01;35:*.bmp=01
;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:
*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;3
5:*.cgm=01;35:*.emf=01;35:*.axv=01;35:*.anx=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=01;36:*.au=01;36:*.flac=01;36:*.mid=01;36:*.midi=01;36:*.mka=01;36:*.mp3=01;36:*.mpc=01;36:*.ogg=01;36:*.ra=01;36:*.wav=01;36:*.axa=01;36:*.oga=01;36:*.spx=
01;36:*.xspf=01;36:
CONDA_EXE=/cluster/miniconda3/bin/conda
SLURM_STEP_NUM_NODES=1
SLURM_JOBID=1615665
SRUN_DEBUG=3
FTP_PROXY=http://internet4nzm.rz.uni-jena.de:3128
ftp_proxy=http://internet4nzm.rz.uni-jena.de:3128
SLURM_NTASKS=12
SLURM_LAUNCH_NODE_IPADDR=192.168.192.5
SLURM_STEP_ID=0
TMUX=/tmp/tmux-67339/default,20557,7
_CE_CONDA=
CONDA_PREFIX_1=/cluster/miniconda3
MODCUDA=YES
SLURM_STEP_LAUNCHER_PORT=38740
SLURM_TASKS_PER_NODE=12
MAIL=/var/spool/mail/ye53nis
PATH=/cluster/nvidia/cuda/11.2/bin:/cluster/nvidia/cuda/11.2/nvvm:/cluster/nvidia/cuda/11.2/open64/bin:/cluster/nvidia/cuda/11.2/libnvvp:/home/ye53nis/.conda/envs/tf/bin:/home/lex/Programme/miniconda3/envs/tf-nightly-lab/bin:/home/lex/P
rogramme/miniconda3/condabin:/home/lex/.local/bin:/bin:/usr/bin:/usr/local/bin:/usr/local/sbin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl:/var/lib/snapd/snap/bin:/usr/sbin:/home/ye53nis/.local/bi
n:/home/ye53nis/bin
SLURM_WORKING_CLUSTER=hpc:192.168.192.1:6817:8448
SLURM_JOB_ID=1615665
LD_RUN_PATH=/cluster/nvidia/cuda/11.2/lib64
SLURM_STEP_GPUS=0
CONDA_PREFIX=/home/ye53nis/.conda/envs/tf
CUDA_LIB_PATH=/cluster/nvidia/cuda/11.2/lib64
SLURM_JOB_USER=ye53nis
SLURM_STEPID=0
PWD=/beegfs/ye53nis/drmed-git
_LMFILES_=/cluster/modulefiles/nvidia/cuda/11.2:/cluster/modulefiles/nvidia/cudnn/8.1
CUDA_VISIBLE_DEVICES=0
SLURM_SRUN_COMM_HOST=192.168.192.5
LANG=en_US.UTF-8
SLURM_PTY_WIN_COL=236
SLURM_UMASK=0022
MODULEPATH=/usr/share/Modules/modulefiles:/etc/modulefiles:/cluster/modulefiles
SLURM_JOB_UID=67339
LOADEDMODULES=nvidia/cuda/11.2:nvidia/cudnn/8.1
SLURM_NODEID=0
TMUX_PANE=%7
SLURM_SUBMIT_DIR=/
SLURM_TASK_PID=4042
SLURM_NPROCS=12
SLURM_CPUS_ON_NODE=12
SLURM_DISTRIBUTION=block
HTTPS_PROXY=http://internet4nzm.rz.uni-jena.de:3128
https_proxy=http://internet4nzm.rz.uni-jena.de:3128
SLURM_PROCID=0
HISTCONTROL=ignoredups
_CE_M=
SLURM_JOB_NODELIST=node128
SLURM_PTY_PORT=37529
HOME=/home/ye53nis
SHLVL=3
SLURM_LOCALID=0
SLURM_JOB_GID=13280
SLURM_JOB_CPUS_PER_NODE=12
SLURM_CLUSTER_NAME=hpc
no_proxy=localhost,127.0.0.0/8,.uni-jena.de,141.35.0.0/16,10.0.0.0/8,192.168.0.0/16,172.0.0.0/8,fe80::/7,2001:638:1558::/24,vmaster,node001
SLURM_GTIDS=0,1,2,3,4,5,6,7,8,9,10,11
SLURM_SUBMIT_HOST=login01
HTTP_PROXY=http://internet4nzm.rz.uni-jena.de:3128
SLURM_JOB_PARTITION=gpu_p100
MATHEMATICA_HOME=/cluster/apps/mathematica/11.3
CONDA_PYTHON_EXE=/cluster/miniconda3/bin/python
LOGNAME=ye53nis
SLURM_STEP_NUM_TASKS=12
QTLIB=/usr/lib64/qt-3.3/lib
GPU_DEVICE_ORDINAL=0
SLURM_JOB_ACCOUNT=iaob
MLFLOW_TRACKING_URI=file:./data/mlruns
SLURM_JOB_NUM_NODES=1
MODULESHOME=/usr/share/Modules
CONDA_DEFAULT_ENV=tf
LESSOPEN=||/usr/bin/lesspipe.sh %s
SLURM_STEP_TASKS_PER_NODE=12
SLURM_STEP_NODELIST=node128
DISPLAY=:0
XDG_RUNTIME_DIR=/run/user/67339
INCLUDE=/cluster/nvidia/cudnn/8.1//include
XAUTHORITY=/home/lex/.Xauthority
BASH_FUNC_module()=() {  eval `/usr/bin/modulecmd bash $*`
}
_=/bin/printenv
--------------------
(tf) [ye53nis@node128 drmed-git]$ top -bcn1 -w512 | head -n 15
top - 21:21:42 up 72 days,  9:36,  0 users,  load average: 0.00, 0.03, 0.05
Tasks: 521 total,   1 running, 520 sleeping,   0 stopped,   0 zombie
%Cpu(s):  0.2 us,  0.2 sy,  0.0 ni, 99.6 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st
KiB Mem : 13191630+total, 12171446+free,  1196368 used,  9005476 buff/cache
KiB Swap: 12582908 total, 12582908 free,        0 used. 12953688+avail Mem

  PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND
13258 ye53nis   20   0  172732   2620   1664 R  11.1  0.0   0:00.03 top -bcn1 -w512
    1 root      20   0   71788   7548   2584 S   0.0  0.0  35:51.03 /usr/lib/systemd/systemd --switched-root --system --deserialize 22
    2 root      20   0       0      0      0 S   0.0  0.0   0:01.65 [kthreadd]
    3 root      20   0       0      0      0 S   0.0  0.0   0:06.95 [ksoftirqd/0]
    5 root       0 -20       0      0      0 S   0.0  0.0   0:00.00 [kworker/0:0H]
    8 root      rt   0       0      0      0 S   0.0  0.0   0:06.58 [migration/0]
    9 root      20   0       0      0      0 S   0.0  0.0   0:00.00 [rcu_bh]
   10 root      20   0       0      0      0 S   0.0  0.0  43:01.62 [rcu_sched]
(tf) [ye53nis@node128 drmed-git]$
</pre>
</details>
</li>
<li>print conda list
<details>
<div class="org-src-container">

<pre class="src src-tmux"><span style="color: #4f5c7e;">conda</span> <span style="color: #513f78;">list</span>
</pre>
</div>

<pre class="example">
# packages in environment at /home/ye53nis/.conda/envs/tf:
#
# Name                    Version                   Build  Channel
_libgcc_mutex             0.1                        main
_openmp_mutex             4.5                       1_gnu
absl-py                   1.0.0                    pypi_0    pypi
alembic                   1.7.6                    pypi_0    pypi
anyio                     2.2.0            py39h06a4308_1
argon2-cffi               20.1.0           py39h27cfd23_1
asteval                   0.9.26                   pypi_0    pypi
astunparse                1.6.3                    pypi_0    pypi
async_generator           1.10               pyhd3eb1b0_0
attrs                     21.4.0             pyhd3eb1b0_0
babel                     2.9.1              pyhd3eb1b0_0
backcall                  0.2.0              pyhd3eb1b0_0
bleach                    4.1.0              pyhd3eb1b0_0
brotlipy                  0.7.0           py39h27cfd23_1003
ca-certificates           2021.10.26           h06a4308_2
cachetools                5.0.0                    pypi_0    pypi
certifi                   2021.10.8        py39h06a4308_2
cffi                      1.15.0           py39hd667e15_1
charset-normalizer        2.0.4              pyhd3eb1b0_0
click                     8.0.3                    pypi_0    pypi
cloudpickle               2.0.0                    pypi_0    pypi
cryptography              36.0.0           py39h9ce1e76_0
cycler                    0.11.0                   pypi_0    pypi
cython                    0.29.27                  pypi_0    pypi
databricks-cli            0.16.4                   pypi_0    pypi
debugpy                   1.5.1            py39h295c915_0
decorator                 5.1.1              pyhd3eb1b0_0
defusedxml                0.7.1              pyhd3eb1b0_0
docker                    5.0.3                    pypi_0    pypi
entrypoints               0.3              py39h06a4308_0
fcsfiles                  2022.2.2                 pypi_0    pypi
flask                     2.0.2                    pypi_0    pypi
flatbuffers               2.0                      pypi_0    pypi
fonttools                 4.29.1                   pypi_0    pypi
future                    0.18.2                   pypi_0    pypi
gast                      0.5.3                    pypi_0    pypi
gitdb                     4.0.9                    pypi_0    pypi
gitpython                 3.1.26                   pypi_0    pypi
google-auth               2.6.0                    pypi_0    pypi
google-auth-oauthlib      0.4.6                    pypi_0    pypi
google-pasta              0.2.0                    pypi_0    pypi
greenlet                  1.1.2                    pypi_0    pypi
grpcio                    1.43.0                   pypi_0    pypi
gunicorn                  20.1.0                   pypi_0    pypi
h5py                      3.6.0                    pypi_0    pypi
idna                      3.3                pyhd3eb1b0_0
importlib-metadata        4.8.2            py39h06a4308_0
importlib_metadata        4.8.2                hd3eb1b0_0
ipykernel                 6.4.1            py39h06a4308_1
ipython                   7.31.1           py39h06a4308_0
ipython_genutils          0.2.0              pyhd3eb1b0_1
itsdangerous              2.0.1                    pypi_0    pypi
jedi                      0.18.1           py39h06a4308_1
jinja2                    3.0.2              pyhd3eb1b0_0
joblib                    1.1.0                    pypi_0    pypi
json5                     0.9.6              pyhd3eb1b0_0
jsonschema                3.2.0              pyhd3eb1b0_2
jupyter_client            7.1.2              pyhd3eb1b0_0
jupyter_core              4.9.1            py39h06a4308_0
jupyter_server            1.4.1            py39h06a4308_0
jupyterlab                3.2.1              pyhd3eb1b0_1
jupyterlab_pygments       0.1.2                      py_0
jupyterlab_server         2.10.2             pyhd3eb1b0_1
keras                     2.8.0                    pypi_0    pypi
keras-preprocessing       1.1.2                    pypi_0    pypi
kiwisolver                1.3.2                    pypi_0    pypi
ld_impl_linux-64          2.35.1               h7274673_9
libclang                  13.0.0                   pypi_0    pypi
libffi                    3.3                  he6710b0_2
libgcc-ng                 9.3.0               h5101ec6_17
libgomp                   9.3.0               h5101ec6_17
libsodium                 1.0.18               h7b6447c_0
libstdcxx-ng              9.3.0               hd4cf53a_17
lmfit                     1.0.3                    pypi_0    pypi
mako                      1.1.6                    pypi_0    pypi
markdown                  3.3.6                    pypi_0    pypi
markupsafe                2.0.1            py39h27cfd23_0
matplotlib                3.5.1                    pypi_0    pypi
matplotlib-inline         0.1.2              pyhd3eb1b0_2
mistune                   0.8.4           py39h27cfd23_1000
mlflow                    1.23.1                   pypi_0    pypi
multipletau               0.3.3                    pypi_0    pypi
nbclassic                 0.2.6              pyhd3eb1b0_0
nbclient                  0.5.3              pyhd3eb1b0_0
nbconvert                 6.3.0            py39h06a4308_0
nbformat                  5.1.3              pyhd3eb1b0_0
ncurses                   6.3                  h7f8727e_2
nest-asyncio              1.5.1              pyhd3eb1b0_0
notebook                  6.4.6            py39h06a4308_0
numpy                     1.22.2                   pypi_0    pypi
oauthlib                  3.2.0                    pypi_0    pypi
openssl                   1.1.1m               h7f8727e_0
opt-einsum                3.3.0                    pypi_0    pypi
packaging                 21.3               pyhd3eb1b0_0
pandas                    1.4.0                    pypi_0    pypi
pandocfilters             1.5.0              pyhd3eb1b0_0
parso                     0.8.3              pyhd3eb1b0_0
pexpect                   4.8.0              pyhd3eb1b0_3
pickleshare               0.7.5           pyhd3eb1b0_1003
pillow                    9.0.1                    pypi_0    pypi
pip                       21.2.4           py39h06a4308_0
prometheus-flask-exporter 0.18.7                   pypi_0    pypi
prometheus_client         0.13.1             pyhd3eb1b0_0
prompt-toolkit            3.0.20             pyhd3eb1b0_0
protobuf                  3.19.4                   pypi_0    pypi
ptyprocess                0.7.0              pyhd3eb1b0_2
pyasn1                    0.4.8                    pypi_0    pypi
pyasn1-modules            0.2.8                    pypi_0    pypi
pycparser                 2.21               pyhd3eb1b0_0
pygments                  2.11.2             pyhd3eb1b0_0
pyopenssl                 22.0.0             pyhd3eb1b0_0
pyparsing                 3.0.4              pyhd3eb1b0_0
pyrsistent                0.18.0           py39heee7806_0
pysocks                   1.7.1            py39h06a4308_0
python                    3.9.7                h12debd9_1
python-dateutil           2.8.2              pyhd3eb1b0_0
pytz                      2021.3             pyhd3eb1b0_0
pyyaml                    6.0                      pypi_0    pypi
pyzmq                     22.3.0           py39h295c915_2
querystring-parser        1.2.4                    pypi_0    pypi
readline                  8.1.2                h7f8727e_1
requests                  2.27.1             pyhd3eb1b0_0
requests-oauthlib         1.3.1                    pypi_0    pypi
rsa                       4.8                      pypi_0    pypi
scikit-learn              1.0.2                    pypi_0    pypi
scipy                     1.8.0                    pypi_0    pypi
seaborn                   0.11.2                   pypi_0    pypi
send2trash                1.8.0              pyhd3eb1b0_1
setuptools                58.0.4           py39h06a4308_0
six                       1.16.0             pyhd3eb1b0_0
smmap                     5.0.0                    pypi_0    pypi
sniffio                   1.2.0            py39h06a4308_1
sqlalchemy                1.4.31                   pypi_0    pypi
sqlite                    3.37.2               hc218d9a_0
sqlparse                  0.4.2                    pypi_0    pypi
tabulate                  0.8.9                    pypi_0    pypi
tensorboard               2.8.0                    pypi_0    pypi
tensorboard-data-server   0.6.1                    pypi_0    pypi
tensorboard-plugin-wit    1.8.1                    pypi_0    pypi
tensorflow                2.8.0                    pypi_0    pypi
tensorflow-io-gcs-filesystem 0.24.0                   pypi_0    pypi
termcolor                 1.1.0                    pypi_0    pypi
terminado                 0.9.4            py39h06a4308_0
testpath                  0.5.0              pyhd3eb1b0_0
tf-estimator-nightly      2.8.0.dev2021122109          pypi_0    pypi
threadpoolctl             3.1.0                    pypi_0    pypi
tk                        8.6.11               h1ccaba5_0
tornado                   6.1              py39h27cfd23_0
traitlets                 5.1.1              pyhd3eb1b0_0
typing-extensions         4.0.1                    pypi_0    pypi
tzdata                    2021e                hda174b7_0
uncertainties             3.1.6                    pypi_0    pypi
urllib3                   1.26.8             pyhd3eb1b0_0
wcwidth                   0.2.5              pyhd3eb1b0_0
webencodings              0.5.1            py39h06a4308_1
websocket-client          1.2.3                    pypi_0    pypi
werkzeug                  2.0.3                    pypi_0    pypi
wheel                     0.37.1             pyhd3eb1b0_0
wrapt                     1.13.3                   pypi_0    pypi
xz                        5.2.5                h7b6447c_0
zeromq                    4.3.4                h2531618_0
zipp                      3.7.0              pyhd3eb1b0_0
zlib                      1.2.11               h7f8727e_4
(tf) [ye53nis@node128 drmed-git]$
</pre>
</details>
</li>
<li>Show tree of input files used.
<details>
<div class="org-src-container">

<pre class="src src-tmux"><span style="color: #7e544f;">tree</span> <span style="color: #783f5a;">../saves/firstartifact_Nov2020_train_max2sets</span>
<span style="color: #657b83; font-weight: bold;">echo</span> <span style="color: #78683f;">--------------------</span>
<span style="color: #7e544f;">tree</span> <span style="color: #43783f;">../saves/firstartifact_Nov2020_val_max2sets_SORTEDIN</span>
<span style="color: #657b83; font-weight: bold;">echo</span> <span style="color: #78683f;">--------------------</span>
<span style="color: #7e544f;">tree</span> <span style="color: #37785e;">../saves/firstartifact_Nov2020_test</span>
</pre>
</div>

<pre class="example">

(tf) [ye53nis@node128 drmed-git]$ tree ../saves/firstartifact_Nov2020_train_max2sets
../saves/firstartifact_Nov2020_train_max2sets
├── 0.069
│   ├── 0.01
│   ├── 0.1
│   │   ├── traces_brightclust_Nov2020_D0.069_set002.csv
│   │   └── traces_brightclust_Nov2020_D0.069_set003.csv
│   └── 1.0
│       └── traces_brightclust_Nov2020_D0.069_set009.csv
├── 0.08
│   ├── 0.01
│   │   └── traces_brightclust_Nov2020_D0.08_set007.csv
│   ├── 0.1
│   │   ├── traces_brightclust_Nov2020_D0.08_set002.csv
│   │   └── traces_brightclust_Nov2020_D0.08_set006.csv
│   └── 1.0
│       ├── traces_brightclust_Nov2020_D0.08_set004.csv
│       └── traces_brightclust_Nov2020_D0.08_set009.csv
├── 0.1
│   ├── 0.01
│   │   ├── traces_brightclust_Nov2020_D0.1_set004.csv
│   │   └── traces_brightclust_Nov2020_D0.1_set006.csv
│   ├── 0.1
│   └── 1.0
│       ├── traces_brightclust_Nov2020_D0.1_set003.csv
│       └── traces_brightclust_Nov2020_D0.1_set007.csv
├── 0.2
│   ├── 0.01
│   │   └── traces_brightclust_Nov2020_D0.2_set003.csv
│   ├── 0.1
│   │   ├── traces_brightclust_Nov2020_D0.2_set001.csv
│   │   └── traces_brightclust_Nov2020_D0.2_set004.csv
│   └── 1.0
│       ├── traces_brightclust_Nov2020_D0.2_set009.csv
│       └── traces_brightclust_Nov2020_D0.2_set010.csv
├── 0.4
│   ├── 0.01
│   │   ├── traces_brightclust_Nov2020_D0.4_set004.csv
│   │   └── traces_brightclust_Nov2020_D0.4_set010.csv
│   ├── 0.1
│   │   ├── traces_brightclust_Nov2020_D0.4_set002.csv
│   │   └── traces_brightclust_Nov2020_D0.4_set003.csv
│   └── 1.0
│       ├── traces_brightclust_Nov2020_D0.4_set006.csv
│       └── traces_brightclust_Nov2020_D0.4_set007.csv
├── 0.6
│   ├── 0.01
│   │   └── traces_brightclust_Nov2020_D0.6_set010.csv
│   ├── 0.1
│   │   ├── traces_brightclust_Nov2020_D0.6_set004.csv
│   │   └── traces_brightclust_Nov2020_D0.6_set005.csv
│   └── 1.0
│       ├── traces_brightclust_Nov2020_D0.6_set001.csv
│       └── traces_brightclust_Nov2020_D0.6_set002.csv
├── 10
│   ├── 0.01
│   │   ├── traces_brightclust_Nov2020_D10_set003.csv
│   │   └── traces_brightclust_Nov2020_D10_set004.csv
│   ├── 0.1
│   │   ├── traces_brightclust_Nov2020_D10_set006.csv
│   │   └── traces_brightclust_Nov2020_D10_set007.csv
│   └── 1.0
│       └── traces_brightclust_Nov2020_D10_set010.csv
├── 1.0
│   ├── 0.01
│   │   └── traces_brightclust_Nov2020_D1.0_set010.csv
│   ├── 0.1
│   │   ├── traces_brightclust_Nov2020_D1.0_set004.csv
│   │   └── traces_brightclust_Nov2020_D1.0_set007.csv
│   └── 1.0
│       ├── traces_brightclust_Nov2020_D1.0_set001.csv
│       └── traces_brightclust_Nov2020_D1.0_set002.csv
├── 3.0
│   ├── 0.01
│   │   ├── traces_brightclust_Nov2020_D3.0_set005.csv
│   │   └── traces_brightclust_Nov2020_D3.0_set006.csv
│   ├── 0.1
│   │   └── traces_brightclust_Nov2020_D3.0_set010.csv
│   └── 1.0
│       ├── traces_brightclust_Nov2020_D3.0_set001.csv
│       └── traces_brightclust_Nov2020_D3.0_set003.csv
└── 50
    ├── 0.01
    │   └── traces_brightclust_Nov2020_D50_set006.csv
    ├── 0.1
    │   ├── traces_brightclust_Nov2020_D50_set009.csv
    │   └── traces_brightclust_Nov2020_D50_set010.csv
    └── 1.0
        ├── traces_brightclust_Nov2020_D50_set004.csv
        └── traces_brightclust_Nov2020_D50_set005.csv

40 directories, 48 files
(tf) [ye53nis@node128 drmed-git]$ echo --------------------
--------------------
(tf) [ye53nis@node128 drmed-git]$ tree ../saves/firstartifact_Nov2020_val_max2sets_SORTEDIN
../saves/firstartifact_Nov2020_val_max2sets_SORTEDIN
├── 0.069
│   ├── 0.01
│   ├── 0.1
│   │   └── traces_brightclust_Nov2020_D0.069_set006.csv
│   └── 1.0
├── 0.08
│   ├── 0.01
│   ├── 0.1
│   │   └── traces_brightclust_Nov2020_D0.08_set008.csv
│   └── 1.0
├── 0.1
│   ├── 0.01
│   │   └── traces_brightclust_Nov2020_D0.1_set008.csv
│   ├── 0.1
│   └── 1.0
├── 0.2
│   ├── 0.01
│   ├── 0.1
│   │   └── traces_brightclust_Nov2020_D0.2_set006.csv
│   └── 1.0
├── 0.4
│   ├── 0.01
│   ├── 0.1
│   │   └── traces_brightclust_Nov2020_D0.4_set009.csv
│   └── 1.0
├── 0.6
│   ├── 0.01
│   ├── 0.1
│   │   └── traces_brightclust_Nov2020_D0.6_set006.csv
│   └── 1.0
├── 10
│   ├── 0.01
│   │   └── traces_brightclust_Nov2020_D10_set008.csv
│   ├── 0.1
│   └── 1.0
├── 1.0
│   ├── 0.01
│   ├── 0.1
│   │   └── traces_brightclust_Nov2020_D1.0_set009.csv
│   └── 1.0
│       └── traces_brightclust_Nov2020_D1.0_set008.csv
├── 3.0
│   ├── 0.01
│   │   └── traces_brightclust_Nov2020_D3.0_set008.csv
│   ├── 0.1
│   └── 1.0
│       └── traces_brightclust_Nov2020_D3.0_set009.csv
└── 50
    ├── 0.01
    ├── 0.1
    └── 1.0
        └── traces_brightclust_Nov2020_D50_set007.csv

40 directories, 12 files
(tf) [ye53nis@node128 drmed-git]$ echo --------------------
--------------------

(tf) [ye53nis@node128 drmed-git]$ tree ../saves/firstartifact_Nov2020_test
../saves/firstartifact_Nov2020_test
├── 0.069
│   ├── 0.01
│   │   └── traces_brightclust_Nov2020_D0.069_set005.csv
│   ├── 0.1
│   │   └── traces_brightclust_Nov2020_D0.069_set001.csv
│   └── 1.0
│       └── traces_brightclust_Nov2020_D0.069_set010.csv
├── 0.08
│   ├── 0.01
│   │   └── traces_brightclust_Nov2020_D0.08_set005.csv
│   ├── 0.1
│   │   └── traces_brightclust_Nov2020_D0.08_set003.csv
│   └── 1.0
│       └── traces_brightclust_Nov2020_D0.08_set001.csv
├── 0.1
│   ├── 0.01
│   │   └── traces_brightclust_Nov2020_D0.1_set002.csv
│   ├── 0.1
│   │   └── traces_brightclust_Nov2020_D0.1_set005.csv
│   └── 1.0
│       └── traces_brightclust_Nov2020_D0.1_set001.csv
├── 0.2
│   ├── 0.01
│   │   └── traces_brightclust_Nov2020_D0.2_set002.csv
│   ├── 0.1
│   │   └── traces_brightclust_Nov2020_D0.2_set007.csv
│   └── 1.0
│       └── traces_brightclust_Nov2020_D0.2_set005.csv
├── 0.4
│   ├── 0.01
│   │   └── traces_brightclust_Nov2020_D0.4_set008.csv
│   ├── 0.1
│   │   └── traces_brightclust_Nov2020_D0.4_set001.csv
│   └── 1.0
│       └── traces_brightclust_Nov2020_D0.4_set005.csv
├── 0.6
│   ├── 0.01
│   │   └── traces_brightclust_Nov2020_D0.6_set008.csv
│   ├── 0.1
│   │   └── traces_brightclust_Nov2020_D0.6_set003.csv
│   └── 1.0
│       └── traces_brightclust_Nov2020_D0.6_set009.csv
├── 10
│   ├── 0.01
│   │   └── traces_brightclust_Nov2020_D10_set002.csv
│   ├── 0.1
│   │   └── traces_brightclust_Nov2020_D10_set001.csv
│   └── 1.0
│       └── traces_brightclust_Nov2020_D10_set005.csv
├── 1.0
│   ├── 0.01
│   │   └── traces_brightclust_Nov2020_D1.0_set006.csv
│   ├── 0.1
│   │   └── traces_brightclust_Nov2020_D1.0_set003.csv
│   └── 1.0
│       └── traces_brightclust_Nov2020_D1.0_set005.csv
├── 3.0
│   ├── 0.01
│   │   └── traces_brightclust_Nov2020_D3.0_set004.csv
│   ├── 0.1
│   │   └── traces_brightclust_Nov2020_D3.0_set007.csv
│   └── 1.0
│       └── traces_brightclust_Nov2020_D3.0_set002.csv
└── 50
    ├── 0.01
    │   └── traces_brightclust_Nov2020_D50_set002.csv
    ├── 0.1
    │   └── traces_brightclust_Nov2020_D50_set003.csv
    └── 1.0
        └── traces_brightclust_Nov2020_D50_set001.csv

40 directories, 30 files
(tf) [ye53nis@node128 drmed-git]$
</pre>
</details>
</li>
</ol>
</div>
</div>
<div id="outline-container-sec-2-1-6" class="outline-4">
<h4 id="sec-2-1-6"><span class="section-number-4">2.1.6</span> Setup: Show all hyperparameters that worked in <code>exp-210807-hparams</code></h4>
<div class="outline-text-4" id="text-2-1-6">
<ol class="org-ol">
<li>get the comparison data of all runs from <code>exp-210807-hparams</code> via <code>git
      restore</code>
<div class="org-src-container">

<pre class="src src-tmux"><span style="color: #784437;">git</span> <span style="color: #374478;">show</span> <span style="color: #4f7e67;">04e9dc3:./data/exp-210807-hparams/mlflow/run1-2_comparison.csv</span> &gt; <span style="color: #783778;">./data/exp-220227-unet/mlflow/exp-210807-hparams_comparison.csv</span>
</pre>
</div>
</li>

<li>open the file in jupyter, do some processing to only find the best runs,
and display the relevant hparams (see <code>exp-210807-hparams</code> section
<code>4. Analyze run 1 and 2</code> for explanations on the processing)
<details>
<div class="org-src-container">

<pre class="src src-jupyter-python">%<span style="color: #707e4f;">cd</span> /<span style="color: #5e7837;">beegfs</span>/<span style="color: #7a4f7e;">ye53nis</span>/<span style="color: #784437;">drmed</span>-<span style="color: #784437;">git</span>
<span style="color: #859900; font-weight: bold;">import</span> <span style="color: #4f5c7e;">numpy</span> <span style="color: #859900; font-weight: bold;">as</span> <span style="color: #707e4f;">np</span>
<span style="color: #859900; font-weight: bold;">import</span> <span style="color: #5e7837;">pandas</span> <span style="color: #859900; font-weight: bold;">as</span> <span style="color: #783778;">pd</span>
</pre>
</div>

<pre class="example">
/beegfs/ye53nis/drmed-git
</pre>


<div class="org-src-container">

<pre class="src src-jupyter-python" id="get-hparam-comparison"><span style="color: #268bd2;">run1_2</span> = <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #2aa198;">'data/exp-220227-unet/mlflow/exp-210807-hparams_comparison.csv'</span>, <span style="color: #784437;">index_col</span>=0)
<span style="color: #268bd2;">run1_2_valauc</span> = <span style="color: #3f7178;">run1_2</span>.<span style="color: #783778;">loc</span>[<span style="color: #2aa198;">'val_auc'</span>].<span style="color: #374478;">astype</span>(<span style="color: #657b83; font-weight: bold;">float</span>)
<span style="color: #268bd2;">singles_ls</span> = [<span style="color: #2aa198;">'5441e71efe0f4dae868648e7cc795c65'</span>]

<span style="color: #268bd2;">run1_2_singles</span> = <span style="color: #3f7178;">run1_2</span>.<span style="color: #783778;">loc</span>[:, <span style="color: #37785e;">singles_ls</span>]
<span style="color: #7e544f;">run1_2_singles</span>.<span style="color: #4f5c7e;">iloc</span>[35:, :] = <span style="color: #7e544f;">run1_2_singles</span>.<span style="color: #4f5c7e;">iloc</span>[35:, :].<span style="color: #374478;">astype</span>(<span style="color: #707e4f;">np</span>.<span style="color: #707e4f;">float64</span>)
<span style="color: #268bd2;">run1_2</span> = <span style="color: #3f7178;">run1_2</span>.<span style="color: #5e7837;">drop</span>(<span style="color: #784437;">columns</span>=<span style="color: #37785e;">singles_ls</span>)

<span style="color: #859900; font-weight: bold;">assert</span> <span style="color: #657b83; font-weight: bold;">len</span>(<span style="color: #3f7178;">run1_2</span>.<span style="color: #4f5c7e;">iloc</span>[35:, :].<span style="color: #784437;">columns</span>) % <span style="color: #268bd2;">2</span> == 0

<span style="color: #268bd2;">run1_2_doubleparams</span> = <span style="color: #783778;">pd</span>.<span style="color: #784437;">DataFrame</span>()
<span style="color: #268bd2;">run1_2_doublemetrics</span> = <span style="color: #783778;">pd</span>.<span style="color: #784437;">DataFrame</span>()
<span style="color: #268bd2;">double_cols</span> = []
<span style="color: #859900; font-weight: bold;">for</span> <span style="color: #43783f;">left</span>, <span style="color: #783f5a;">right</span> <span style="color: #859900; font-weight: bold;">in</span> <span style="color: #657b83; font-weight: bold;">zip</span>(<span style="color: #3f7178;">run1_2</span>.<span style="color: #4f5c7e;">iloc</span>[:, ::2].<span style="color: #374478;">items</span>(), <span style="color: #3f7178;">run1_2</span>.<span style="color: #4f5c7e;">iloc</span>[:, 1::2].<span style="color: #374478;">items</span>()):
<span style="background-color: #eee8d5;"> </span>   <span style="color: #7a4f7e;">double_cols</span>.<span style="color: #5e7837;">append</span>((<span style="color: #43783f;">left</span>[0], <span style="color: #783f5a;">right</span>[0]))
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">current_metrics</span> = <span style="color: #43783f;">left</span>[1].<span style="color: #4f5c7e;">iloc</span>[35:].<span style="color: #43783f;">combine</span>(<span style="color: #78683f;">other</span>=<span style="color: #783f5a;">right</span>[1].<span style="color: #4f5c7e;">iloc</span>[35:],
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #4f5c7e;">func</span>=(<span style="color: #859900; font-weight: bold;">lambda</span> <span style="color: #3f7178;">x1</span>, <span style="color: #5e7837;">x2</span>: (<span style="color: #657b83; font-weight: bold;">float</span>(<span style="color: #3f7178;">x1</span>) + <span style="color: #657b83; font-weight: bold;">float</span>(<span style="color: #5e7837;">x2</span>)) / 2))
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">current_params</span> = <span style="color: #43783f;">left</span>[1].<span style="color: #4f5c7e;">iloc</span>[:35].<span style="color: #43783f;">combine</span>(<span style="color: #78683f;">other</span>=<span style="color: #783f5a;">right</span>[1].<span style="color: #4f5c7e;">iloc</span>[:35],
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #4f5c7e;">func</span>=(<span style="color: #859900; font-weight: bold;">lambda</span> <span style="color: #3f7178;">x1</span>, <span style="color: #5e7837;">x2</span>: <span style="color: #657b83; font-weight: bold;">set</span>((<span style="color: #3f7178;">x1</span>, <span style="color: #5e7837;">x2</span>)) <span style="color: #859900; font-weight: bold;">if</span> <span style="color: #3f7178;">x1</span> != <span style="color: #5e7837;">x2</span> <span style="color: #859900; font-weight: bold;">else</span> <span style="color: #3f7178;">x1</span>))
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">run1_2_doubleparams</span> = <span style="color: #783778;">pd</span>.<span style="color: #7e544f;">concat</span>([<span style="color: #43783f;">run1_2_doubleparams</span>, <span style="color: #43783f;">current_params</span>], <span style="color: #784437;">axis</span>=1)
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">run1_2_doublemetrics</span> = <span style="color: #783778;">pd</span>.<span style="color: #7e544f;">concat</span>([<span style="color: #43783f;">run1_2_doublemetrics</span>, <span style="color: #784437;">current_metrics</span>], <span style="color: #784437;">axis</span>=1)

<span style="color: #268bd2;">run1_2_doublemetrics</span> = <span style="color: #783778;">pd</span>.<span style="color: #784437;">DataFrame</span>(<span style="color: #784437;">data</span>=<span style="color: #43783f;">run1_2_doublemetrics</span>.<span style="color: #7a4f7e;">to_numpy</span>(),
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #43783f;">index</span>=<span style="color: #3f7178;">run1_2</span>.<span style="color: #4f5c7e;">iloc</span>[35:, :].<span style="color: #43783f;">index</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #784437;">columns</span>=<span style="color: #7a4f7e;">double_cols</span>)

<span style="color: #268bd2;">run1_2_doubleparams</span> = <span style="color: #783778;">pd</span>.<span style="color: #784437;">DataFrame</span>(<span style="color: #784437;">data</span>=<span style="color: #43783f;">run1_2_doubleparams</span>.<span style="color: #7a4f7e;">to_numpy</span>(),
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #43783f;">index</span>=<span style="color: #3f7178;">run1_2</span>.<span style="color: #4f5c7e;">iloc</span>[:35, :].<span style="color: #43783f;">index</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #784437;">columns</span>=<span style="color: #7a4f7e;">double_cols</span>)

<span style="color: #268bd2;">run1_2_combimetrics</span> = <span style="color: #783778;">pd</span>.<span style="color: #7e544f;">concat</span>([<span style="color: #43783f;">run1_2_doublemetrics</span>, <span style="color: #7e544f;">run1_2_singles</span>.<span style="color: #4f5c7e;">iloc</span>[35:, :]], <span style="color: #784437;">axis</span>=1)
<span style="color: #268bd2;">run1_2_combiparams</span> = <span style="color: #783778;">pd</span>.<span style="color: #7e544f;">concat</span>([<span style="color: #43783f;">run1_2_doubleparams</span>, <span style="color: #7e544f;">run1_2_singles</span>.<span style="color: #4f5c7e;">iloc</span>[:35, :]], <span style="color: #784437;">axis</span>=1)
<span style="color: #268bd2;">run1_2_mymetrics</span> = <span style="color: #513f78;">run1_2_combimetrics</span>.<span style="color: #783778;">loc</span>[[<span style="color: #2aa198;">'val_auc'</span>, <span style="color: #2aa198;">'val_recall0.5'</span>, <span style="color: #2aa198;">'val_precision0.5'</span>]]
<span style="color: #268bd2;">run1_2_myparams</span> = <span style="color: #7e544f;">run1_2_combiparams</span>.<span style="color: #783778;">loc</span>[[<span style="color: #2aa198;">'hp_batch_size'</span>, <span style="color: #2aa198;">'hp_first_filters'</span>, <span style="color: #2aa198;">'hp_input_size'</span>, <span style="color: #2aa198;">'hp_lr_power'</span>, <span style="color: #2aa198;">'hp_lr_start'</span>, <span style="color: #2aa198;">'hp_n_levels'</span>, <span style="color: #2aa198;">'hp_pool_size'</span>, <span style="color: #2aa198;">'hp_scaler'</span>]]
<span style="color: #268bd2;">run1_2_my</span> = <span style="color: #783778;">pd</span>.<span style="color: #7e544f;">concat</span>([<span style="color: #5e7837;">run1_2_mymetrics</span>, <span style="color: #783778;">run1_2_myparams</span>], <span style="color: #784437;">axis</span>=0).<span style="color: #37785e;">T</span>
<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">cond1 = run1_2_combimetrics.loc[:, 'val_auc'] &gt; 0.95</span>
<span style="color: #268bd2;">cond2</span> = <span style="color: #783f5a;">run1_2_my</span>.<span style="color: #783778;">loc</span>[:, <span style="color: #2aa198;">'val_recall0.5'</span>] &gt; 0.85
<span style="color: #268bd2;">cond3</span> = <span style="color: #783f5a;">run1_2_my</span>.<span style="color: #783778;">loc</span>[:, <span style="color: #2aa198;">'val_precision0.5'</span>] &gt; 0.85

<span style="color: #859900; font-weight: bold;">with</span> <span style="color: #783778;">pd</span>.<span style="color: #5e7837;">option_context</span>(<span style="color: #2aa198;">'display.max_rows'</span>, <span style="color: #859900; font-weight: bold;">None</span>, <span style="color: #2aa198;">'display.max_columns'</span>, <span style="color: #859900; font-weight: bold;">None</span>):
<span style="background-color: #eee8d5;"> </span>   <span style="color: #4f7e67;">display</span>(<span style="color: #783f5a;">run1_2_my</span>.<span style="color: #783778;">loc</span>[<span style="color: #374478;">cond2</span> &amp; <span style="color: #783f5a;">cond3</span>])
</pre>
</div>
</details>

<table class="table table-striped table-bordered table-hover table-condensed">


<colgroup>
<col  class="left">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="left">
</colgroup>
<thead>
<tr>
<th scope="col" class="text-left">Run ID:</th>
<th scope="col" class="text-right">val<sub>auc</sub></th>
<th scope="col" class="text-right">val<sub>recall0.5</sub></th>
<th scope="col" class="text-right">val<sub>precision0.5</sub></th>
<th scope="col" class="text-right">hp<sub>batch</sub><sub>size</sub></th>
<th scope="col" class="text-right">hp<sub>first</sub><sub>filters</sub></th>
<th scope="col" class="text-right">hp<sub>input</sub><sub>size</sub></th>
<th scope="col" class="text-right">hp<sub>lr</sub><sub>power</sub></th>
<th scope="col" class="text-right">hp<sub>lr</sub><sub>start</sub></th>
<th scope="col" class="text-right">hp<sub>n</sub><sub>levels</sub></th>
<th scope="col" class="text-right">hp<sub>pool</sub><sub>size</sub></th>
<th scope="col" class="text-left">hp<sub>scaler</sub></th>
</tr>
</thead>
<tbody>
<tr>
<td class="text-left">(9051e32b87d84f3485b980067addec30, 61ff87bdb89b4e2ba64f8dacc774992d)</td>
<td class="text-right">0.981</td>
<td class="text-right">0.8975</td>
<td class="text-right">0.918</td>
<td class="text-right">26</td>
<td class="text-right">44</td>
<td class="text-right">16384</td>
<td class="text-right">1</td>
<td class="text-right">0.0136170138242663</td>
<td class="text-right">7</td>
<td class="text-right">2</td>
<td class="text-left">standard</td>
</tr>

<tr>
<td class="text-left">(93b168c0ff7942c8a908a94129daf973, f243b3b742de4dbcb7ccfbd4244706f8)</td>
<td class="text-right">0.976</td>
<td class="text-right">0.893</td>
<td class="text-right">0.852</td>
<td class="text-right">15</td>
<td class="text-right">23</td>
<td class="text-right">16384</td>
<td class="text-right">7</td>
<td class="text-right">0.0305060808685107</td>
<td class="text-right">6</td>
<td class="text-right">4</td>
<td class="text-left">quant<sub>g</sub></td>
</tr>

<tr>
<td class="text-left">(a5b8551144ff46e697a39cd1551e1475, 98cf8cdef9c54b5286e277e75e2ab8c1)</td>
<td class="text-right">0.984</td>
<td class="text-right">0.916</td>
<td class="text-right">0.909</td>
<td class="text-right">20</td>
<td class="text-right">78</td>
<td class="text-right">16384</td>
<td class="text-right">4</td>
<td class="text-right">0.0584071108418767</td>
<td class="text-right">4</td>
<td class="text-right">4</td>
<td class="text-left">standard</td>
</tr>

<tr>
<td class="text-left">(00f2635d9fa2463c9a066722163405be, d0a8e1748b194f3290d471b6b44f19f8)</td>
<td class="text-right">0.987</td>
<td class="text-right">0.929</td>
<td class="text-right">0.9065</td>
<td class="text-right">28</td>
<td class="text-right">6</td>
<td class="text-right">16384</td>
<td class="text-right">1</td>
<td class="text-right">0.0553313915596308</td>
<td class="text-right">5</td>
<td class="text-right">4</td>
<td class="text-left">minmax</td>
</tr>

<tr>
<td class="text-left">(5604d43c1ece461b8e6eaa0dfb65d6dc, 3612536a77f34f22bc83d1d809140aa6)</td>
<td class="text-right">0.9745</td>
<td class="text-right">0.885</td>
<td class="text-right">0.8985</td>
<td class="text-right">20</td>
<td class="text-right">128</td>
<td class="text-right">16384</td>
<td class="text-right">1</td>
<td class="text-right">0.043549707353273</td>
<td class="text-right">3</td>
<td class="text-right">4</td>
<td class="text-left">standard</td>
</tr>

<tr>
<td class="text-left">(7cafab027cdd4fc9bf20a43e989df510, 16dff15d935f45e2a836b1f41b07b4e3)</td>
<td class="text-right">0.978</td>
<td class="text-right">0.8905</td>
<td class="text-right">0.891</td>
<td class="text-right">10</td>
<td class="text-right">16</td>
<td class="text-right">8192</td>
<td class="text-right">1</td>
<td class="text-right">0.0627676336651573</td>
<td class="text-right">5</td>
<td class="text-right">4</td>
<td class="text-left">robust</td>
</tr>

<tr>
<td class="text-left">(0e328920e86049928202db95e8cfb7be, bf9d2725eb16462d9a101f0a077ce2b5)</td>
<td class="text-right">0.976</td>
<td class="text-right">0.875</td>
<td class="text-right">0.888</td>
<td class="text-right">14</td>
<td class="text-right">16</td>
<td class="text-right">16384</td>
<td class="text-right">5</td>
<td class="text-right">0.0192390310290551</td>
<td class="text-right">9</td>
<td class="text-right">2</td>
<td class="text-left">robust</td>
</tr>

<tr>
<td class="text-left">(1c954fbc02b747bc813c587ac703c74a, ba49a80c2616407a8f1fe1fd12096fe0)</td>
<td class="text-right">0.962</td>
<td class="text-right">0.856</td>
<td class="text-right">0.8585</td>
<td class="text-right">17</td>
<td class="text-right">16</td>
<td class="text-right">16384</td>
<td class="text-right">5</td>
<td class="text-right">0.0101590069352232</td>
<td class="text-right">3</td>
<td class="text-right">4</td>
<td class="text-left">l2</td>
</tr>

<tr>
<td class="text-left">(3cbd945b62ec4634839372e403f6f377, 458b36a70db843719d202a8eda448f17)</td>
<td class="text-right">0.972</td>
<td class="text-right">0.872</td>
<td class="text-right">0.9135</td>
<td class="text-right">9</td>
<td class="text-right">64</td>
<td class="text-right">4096</td>
<td class="text-right">1</td>
<td class="text-right">0.0100697459464075</td>
<td class="text-right">5</td>
<td class="text-right">4</td>
<td class="text-left">maxabs</td>
</tr>
</tbody>
</table>
</li>

<li>notes on hparams:
<ul class="org-ul">
<li>I used three different input sizes in hparams training (4096, 8192,
16384). As experimental test data I have got traces which are around
8000 and traces which are around 32000 time steps. To balance between
both, I will only use 16384 as an input size.
</li>
<li>The UNET only excepts input sizes which are exactly the power of 2 and
&gt; 1024. To deal with that for experimental traces which have a different
size, I append the median of the trace until it reaches the next biggest
power of 2. That means in the script below my <code>input_size</code> will be
<code>14000</code>, so each trace will be padded with <code>2384</code> median values (~15% of
the input), and the corresponding labels will be <code>0</code>.
</li>
<li>the epoch size used for training will be 100 epochs for each hparam
configuration
</li>
</ul>
</li>
</ol>
</div>
</div>

<div id="outline-container-sec-2-1-7" class="outline-4">
<h4 id="sec-2-1-7"><span class="section-number-4">2.1.7</span> Setup: Fitting</h4>
<div class="outline-text-4" id="text-2-1-7">
<ul class="org-ul">
<li>all fitting was done in Dominic Waithe's <code>focuspoint</code>. (see
<a href="https://pubmed.ncbi.nlm.nih.gov/26589275/">https://pubmed.ncbi.nlm.nih.gov/26589275/</a> and
<a href="https://github.com/dwaithe/FCS_point_correlator">https://github.com/dwaithe/FCS_point_correlator</a>)
</li>
<li>I installed the program by cloning the github and following the setup
instructions there. Some packages were missing to run the program, the
following is the conda environment with <code>focuspoint</code> and all needed
packages
<div class="org-src-container">

<pre class="src src-sh"><span style="color: #4f5c7e;">conda</span> <span style="color: #513f78;">list</span> <span style="color: #707e4f;">-n</span> <span style="color: #783f5a;">focus</span>
</pre>
</div>
<details>
<table class="table table-striped table-bordered table-hover table-condensed">


<colgroup>
<col  class="left">

<col  class="right">

<col  class="left">

<col  class="left">

<col  class="left">

<col  class="left">
</colgroup>
<tbody>
<tr>
<td class="text-left">#</td>
<td class="text-right">packages</td>
<td class="text-left">in</td>
<td class="text-left">environment</td>
<td class="text-left">at</td>
<td class="text-left">/home/lex/Programme/miniconda3/envs/focus:</td>
</tr>

<tr>
<td class="text-left">#</td>
<td class="text-right">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">#</td>
<td class="text-right">Name</td>
<td class="text-left">Version</td>
<td class="text-left">Build</td>
<td class="text-left">Channel</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">_libgcc<sub>mutex</sub></td>
<td class="text-right">0.1</td>
<td class="text-left">main</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">_openmp<sub>mutex</sub></td>
<td class="text-right">4.5</td>
<td class="text-left">1<sub>gnu</sub></td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">asteval</td>
<td class="text-right">0.9.26</td>
<td class="text-left">pypi<sub>0</sub></td>
<td class="text-left">pypi</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">blas</td>
<td class="text-right">1.0</td>
<td class="text-left">mkl</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">ca-certificates</td>
<td class="text-right">2022.3.18</td>
<td class="text-left">h06a4308<sub>0</sub></td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">certifi</td>
<td class="text-right">2021.10.8</td>
<td class="text-left">py39h06a4308<sub>2</sub></td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">cycler</td>
<td class="text-right">0.11.0</td>
<td class="text-left">pypi<sub>0</sub></td>
<td class="text-left">pypi</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">cython</td>
<td class="text-right">0.29.28</td>
<td class="text-left">pypi<sub>0</sub></td>
<td class="text-left">pypi</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">dbus</td>
<td class="text-right">1.13.18</td>
<td class="text-left">hb2f20db<sub>0</sub></td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">expat</td>
<td class="text-right">2.4.4</td>
<td class="text-left">h295c915<sub>0</sub></td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">focuspoint</td>
<td class="text-right">0.1</td>
<td class="text-left">pypi<sub>0</sub></td>
<td class="text-left">pypi</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">fontconfig</td>
<td class="text-right">2.13.1</td>
<td class="text-left">h6c09931<sub>0</sub></td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">fonttools</td>
<td class="text-right">4.31.2</td>
<td class="text-left">pypi<sub>0</sub></td>
<td class="text-left">pypi</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">freetype</td>
<td class="text-right">2.11.0</td>
<td class="text-left">h70c0345<sub>0</sub></td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">future</td>
<td class="text-right">0.18.2</td>
<td class="text-left">pypi<sub>0</sub></td>
<td class="text-left">pypi</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">glib</td>
<td class="text-right">2.69.1</td>
<td class="text-left">h4ff587b<sub>1</sub></td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">gst-plugins-base</td>
<td class="text-right">1.14.0</td>
<td class="text-left">h8213a91<sub>2</sub></td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">gstreamer</td>
<td class="text-right">1.14.0</td>
<td class="text-left">h28cd5cc<sub>2</sub></td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">icu</td>
<td class="text-right">58.2</td>
<td class="text-left">he6710b0<sub>3</sub></td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">intel-openmp</td>
<td class="text-right">2021.4.0</td>
<td class="text-left">h06a4308<sub>3561</sub></td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">jpeg</td>
<td class="text-right">9d</td>
<td class="text-left">h7f8727e<sub>0</sub></td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">kiwisolver</td>
<td class="text-right">1.4.0</td>
<td class="text-left">pypi<sub>0</sub></td>
<td class="text-left">pypi</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">ld<sub>impl</sub><sub>linux</sub>-64</td>
<td class="text-right">2.35.1</td>
<td class="text-left">h7274673<sub>9</sub></td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">libffi</td>
<td class="text-right">3.3</td>
<td class="text-left">he6710b0<sub>2</sub></td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">libgcc-ng</td>
<td class="text-right">9.3.0</td>
<td class="text-left">h5101ec6<sub>17</sub></td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">libgomp</td>
<td class="text-right">9.3.0</td>
<td class="text-left">h5101ec6<sub>17</sub></td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">libpng</td>
<td class="text-right">1.6.37</td>
<td class="text-left">hbc83047<sub>0</sub></td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">libstdcxx-ng</td>
<td class="text-right">9.3.0</td>
<td class="text-left">hd4cf53a<sub>17</sub></td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">libuuid</td>
<td class="text-right">1.0.3</td>
<td class="text-left">h7f8727e<sub>2</sub></td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">libxcb</td>
<td class="text-right">1.14</td>
<td class="text-left">h7b6447c<sub>0</sub></td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">libxml2</td>
<td class="text-right">2.9.12</td>
<td class="text-left">h03d6c58<sub>0</sub></td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">lmfit</td>
<td class="text-right">1.0.3</td>
<td class="text-left">pypi<sub>0</sub></td>
<td class="text-left">pypi</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">matplotlib</td>
<td class="text-right">3.5.1</td>
<td class="text-left">pypi<sub>0</sub></td>
<td class="text-left">pypi</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">mkl</td>
<td class="text-right">2021.4.0</td>
<td class="text-left">h06a4308<sub>640</sub></td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">mkl-service</td>
<td class="text-right">2.4.0</td>
<td class="text-left">py39h7f8727e<sub>0</sub></td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">mkl<sub>fft</sub></td>
<td class="text-right">1.3.1</td>
<td class="text-left">py39hd3c417c<sub>0</sub></td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">mkl<sub>random</sub></td>
<td class="text-right">1.2.2</td>
<td class="text-left">py39h51133e4<sub>0</sub></td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">ncurses</td>
<td class="text-right">6.3</td>
<td class="text-left">h7f8727e<sub>2</sub></td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">numexpr</td>
<td class="text-right">2.8.1</td>
<td class="text-left">pypi<sub>0</sub></td>
<td class="text-left">pypi</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">numpy</td>
<td class="text-right">1.21.2</td>
<td class="text-left">py39h20f2e39<sub>0</sub></td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">numpy-base</td>
<td class="text-right">1.21.2</td>
<td class="text-left">py39h79a1101<sub>0</sub></td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">openssl</td>
<td class="text-right">1.1.1n</td>
<td class="text-left">h7f8727e<sub>0</sub></td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">packaging</td>
<td class="text-right">21.3</td>
<td class="text-left">pypi<sub>0</sub></td>
<td class="text-left">pypi</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">pcre</td>
<td class="text-right">8.45</td>
<td class="text-left">h295c915<sub>0</sub></td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">pillow</td>
<td class="text-right">9.0.1</td>
<td class="text-left">pypi<sub>0</sub></td>
<td class="text-left">pypi</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">pip</td>
<td class="text-right">21.2.4</td>
<td class="text-left">py39h06a4308<sub>0</sub></td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">pyparsing</td>
<td class="text-right">3.0.7</td>
<td class="text-left">pypi<sub>0</sub></td>
<td class="text-left">pypi</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">pyperclip</td>
<td class="text-right">1.8.2</td>
<td class="text-left">pypi<sub>0</sub></td>
<td class="text-left">pypi</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">pyqt</td>
<td class="text-right">5.9.2</td>
<td class="text-left">py39h2531618<sub>6</sub></td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">python</td>
<td class="text-right">3.9.7</td>
<td class="text-left">h12debd9<sub>1</sub></td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">python-dateutil</td>
<td class="text-right">2.8.2</td>
<td class="text-left">pypi<sub>0</sub></td>
<td class="text-left">pypi</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">qt</td>
<td class="text-right">5.9.7</td>
<td class="text-left">h5867ecd<sub>1</sub></td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">readline</td>
<td class="text-right">8.1.2</td>
<td class="text-left">h7f8727e<sub>1</sub></td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">scipy</td>
<td class="text-right">1.8.0</td>
<td class="text-left">pypi<sub>0</sub></td>
<td class="text-left">pypi</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">setuptools</td>
<td class="text-right">58.0.4</td>
<td class="text-left">py39h06a4308<sub>0</sub></td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">sip</td>
<td class="text-right">4.19.13</td>
<td class="text-left">py39h295c915<sub>0</sub></td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">six</td>
<td class="text-right">1.16.0</td>
<td class="text-left">pyhd3eb1b0<sub>1</sub></td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">sqlite</td>
<td class="text-right">3.38.0</td>
<td class="text-left">hc218d9a<sub>0</sub></td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">tables</td>
<td class="text-right">3.7.0</td>
<td class="text-left">pypi<sub>0</sub></td>
<td class="text-left">pypi</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">tifffile</td>
<td class="text-right">2022.3.16</td>
<td class="text-left">pypi<sub>0</sub></td>
<td class="text-left">pypi</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">tk</td>
<td class="text-right">8.6.11</td>
<td class="text-left">h1ccaba5<sub>0</sub></td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">tzdata</td>
<td class="text-right">2021e</td>
<td class="text-left">hda174b7<sub>0</sub></td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">uncertainties</td>
<td class="text-right">3.1.6</td>
<td class="text-left">pypi<sub>0</sub></td>
<td class="text-left">pypi</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">wheel</td>
<td class="text-right">0.37.1</td>
<td class="text-left">pyhd3eb1b0<sub>0</sub></td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">xz</td>
<td class="text-right">5.2.5</td>
<td class="text-left">h7b6447c<sub>0</sub></td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">zlib</td>
<td class="text-right">1.2.11</td>
<td class="text-left">h7f8727e<sub>4</sub></td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>
</tbody>
</table>
</details>
</li>
<li>this is how the program is started
<div class="org-src-container">

<pre class="src src-sh"><span style="color: #4f5c7e;">conda</span> <span style="color: #4f7e67;">activate</span> <span style="color: #783f5a;">focus</span>
<span style="color: #784437;">python</span> <span style="color: #513f78;">-m</span> <span style="color: #43783f;">focuspoint.FCS_point_correlator</span>
</pre>
</div>
</li>

<li>then:
<ol class="org-ol">
<li>go to the 'Fit Function' tab
</li>
<li>load correlated files, e.g. from
<code>./data/exp-220227-unet/2022-05-22_experimental-af488/clean</code>
</li>
<li>inside the base directory of the experiment (e.g.
<code>./data/exp-220227-unet/2022-05-22_experimental-af488</code>) I saved the
focuspoint profile file, which you can load to reproduce all my fit
settings.
<ol class="org-ol">
<li>for 1-component fit:
<code>./data/exp-220227-unet/2022-05-22_experimental-af488/af488+luvs_1comp.profile</code>
</li>
<li>for 2-component fit:
<code>./data/exp-220227-unet/2022-05-22_experimental-af488/af488+luvs_2comp.profile</code>
</li>
</ol>
</li>
<li>the setting which is not saved in the <code>.profile</code> file is the fit range
(xmin, xmax). This is saved in all the <code>...outParam.csv</code> files.
Generally, this was
<ul class="org-ul">
<li>for <code>af488</code> data:
<ul class="org-ul">
<li><code>xmin=0.001</code>
</li>
<li>for <code>averaging</code> correction: <code>xmax=0.5</code>
</li>
<li>for data without peak artifacts (only <code>af488</code>) and all other
correction methods: <code>xmax=100</code>
</li>
<li>for data with peak artifacts (only <code>af488+luvs</code>) and all other
correction methods: <code>xmax=500</code>
</li>
</ul>
</li>
<li>for <code>pex5</code> data:
<ul class="org-ul">
<li><code>xmin=0.001</code>
</li>
<li>for <code>averaging</code> correction: <code>xmax=0.5</code>
</li>
<li>for all other correction methods: <code>xmax=1000</code>
</li>
</ul>
</li>
<li>simulated data:
<ul class="org-ul">
<li><code>xmin=1</code>
</li>
<li><code>xmax=8000</code> - note: sometimes the correction methods did shorten
the traces below 8000ms. Then, the maximum correlation length was
automatically shortened by the program. In <code>exp-220227-unet</code>, I did
not plot the comparison of fit outcomes of simulated data, so for
details on these xmax values see the <b>assert</b> statements when
loading simulated data in <code>exp-220316-publication1</code>
</li>
</ul>
</li>
</ul>
</li>
</ol>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-2-1-8" class="outline-4">
<h4 id="sec-2-1-8"><span class="section-number-4">2.1.8</span> Experiment 1: run training of 9 promising hparam combinations</h4>
<div class="outline-text-4" id="text-2-1-8">
<ol class="org-ol">
<li>run training of <code>(9051e32b87d84f3485b980067addec30,
      61ff87bdb89b4e2ba64f8dacc774992d)</code> with hparams from above.

<div class="org-src-container">

<pre class="src src-tmux"><span style="color: #5e7837;">mlflow</span> <span style="color: #784437;">run</span> <span style="color: #513f78;">.</span> <span style="color: #3f7178;">-e</span> <span style="color: #5e7837;">main</span> <span style="color: #374478;">-P</span> <span style="color: #268bd2;">fluotracify_path</span>=<span style="color: #783778;">/beegfs/ye53nis/drmed-git/src/</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">batch_size</span>=<span style="color: #374478;">26</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">first_filters</span>=<span style="color: #37785e;">44</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">input_size</span>=<span style="color: #7e544f;">14000</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">lr_start</span>=<span style="color: #783778;">0.0136170138242663</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">lr_power</span>=<span style="color: #5e7837;">1</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">epochs</span>=<span style="color: #783778;">100</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">csv_path_train</span>=<span style="color: #374478;">/beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">csv_path_val</span>=<span style="color: #783f5a;">/beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">scaler</span>=<span style="color: #513f78;">standard</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">n_levels</span>=<span style="color: #37785e;">7</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">pool_size</span>=<span style="color: #78683f;">2</span>
</pre>
</div>
<details>
<pre class="example">
INFO: 'exp-220227-unet' does not exist. Creating a new experiment
2022/02/27 23:06:17 INFO mlflow.projects.utils: === Created directory /tmp/tmp5u38tprq for downloading remote URIs passed to arguments of type 'path' ===
2022/02/27 23:06:17 INFO mlflow.projects.backend.local: === Running command 'source /cluster/miniconda3/bin/../etc/profile.d/conda.sh &amp;&amp; conda activate mlflow-eaf130b8edd83d20d4f1e0db4286dabd625893fe 1&gt;&amp;2 &amp;&amp; python src/fluotracify/train
ing/train.py --fluotracify_path /beegfs/ye53nis/drmed-git/src --batch_size 26 --input_size 14000 --lr_start 0.0136170138242663 --lr_power 1 --epochs 100 --csv_path_train /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets --csv_p
ath_val /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN --col_per_example 3 --scaler standard --n_levels 7 --first_filters 44 --pool_size 2' in run with ID '484af471c61943fa90e5f78e78a229f0' ===
2022-02-27 23:06:19.459522: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcudart.so.11.0
2022-02-27 23:06:27,328 - train -  Python version: 3.9.6 (default, Jul 30 2021, 16:35:19)
[GCC 7.5.0]
2022-02-27 23:06:27,329 - train -  Tensorflow version: 2.5.0
2022-02-27 23:06:27,329 - train -  tf.keras version: 2.5.0
2022-02-27 23:06:27,329 - train -  Cudnn version: 8
2022-02-27 23:06:27,329 - train -  Cuda version: 11.2
2022-02-27 23:06:27.332616: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcuda.so.1
2022-02-27 23:06:27.373032: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1733] Found device 0 with properties:
pciBusID: 0000:82:00.0 name: Tesla P100-PCIE-16GB computeCapability: 6.0
coreClock: 1.3285GHz coreCount: 56 deviceMemorySize: 15.90GiB deviceMemoryBandwidth: 681.88GiB/s
2022-02-27 23:06:27.373166: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcudart.so.11.0
2022-02-27 23:06:27.382894: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcublas.so.11
2022-02-27 23:06:27.382990: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcublasLt.so.11
2022-02-27 23:06:27.386881: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcufft.so.10
2022-02-27 23:06:27.389946: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcurand.so.10
2022-02-27 23:06:27.399178: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcusolver.so.11
2022-02-27 23:06:27.413770: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcusparse.so.11
2022-02-27 23:06:27.415902: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcudnn.so.8
2022-02-27 23:06:27.419520: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1871] Adding visible gpu devices: 0
2022-02-27 23:06:27,419 - train -  GPUs: [PhysicalDevice(name='/physical_device:GPU:0', device_type='GPU')]. Trying to set memory growth to "True"...
2022-02-27 23:06:27,420 - train -  Setting memory growth successful.
2022-02-27 23:06:33,649 - train -  1/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/1.0/0.1/traces_brightclust_Nov2020_D1.0_set004.csv
2022-02-27 23:06:47,474 - train -  2/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.08/0.1/traces_brightclust_Nov2020_D0.08_set002.csv
2022-02-27 23:06:52,553 - train -  3/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.6/1.0/traces_brightclust_Nov2020_D0.6_set001.csv
2022-02-27 23:06:56,374 - train -  4/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/1.0/0.1/traces_brightclust_Nov2020_D1.0_set007.csv
2022-02-27 23:06:59,968 - train -  5/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/1.0/1.0/traces_brightclust_Nov2020_D1.0_set002.csv
2022-02-27 23:07:03,508 - train -  6/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/10/1.0/traces_brightclust_Nov2020_D10_set010.csv
2022-02-27 23:07:07,092 - train -  7/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/10/0.01/traces_brightclust_Nov2020_D10_set004.csv
2022-02-27 23:07:10,718 - train -  8/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/3.0/0.1/traces_brightclust_Nov2020_D3.0_set010.csv
2022-02-27 23:07:14,433 - train -  9/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.08/1.0/traces_brightclust_Nov2020_D0.08_set009.csv
2022-02-27 23:07:18,054 - train -  10/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.1/1.0/traces_brightclust_Nov2020_D0.1_set003.csv
2022-02-27 23:07:21,398 - train -  11/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.1/1.0/traces_brightclust_Nov2020_D0.1_set007.csv
2022-02-27 23:07:33,241 - train -  12/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/1.0/1.0/traces_brightclust_Nov2020_D1.0_set001.csv
2022-02-27 23:07:37,082 - train -  13/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/10/0.01/traces_brightclust_Nov2020_D10_set003.csv
2022-02-27 23:07:40,911 - train -  14/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.6/1.0/traces_brightclust_Nov2020_D0.6_set002.csv
2022-02-27 23:07:44,813 - train -  15/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/50/1.0/traces_brightclust_Nov2020_D50_set005.csv
2022-02-27 23:07:48,436 - train -  16/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.069/1.0/traces_brightclust_Nov2020_D0.069_set009.csv
2022-02-27 23:07:52,998 - train -  17/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/50/1.0/traces_brightclust_Nov2020_D50_set004.csv
2022-02-27 23:07:56,536 - train -  18/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.4/0.01/traces_brightclust_Nov2020_D0.4_set010.csv
2022-02-27 23:08:00,088 - train -  19/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.2/1.0/traces_brightclust_Nov2020_D0.2_set009.csv
2022-02-27 23:08:03,661 - train -  20/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/1.0/0.01/traces_brightclust_Nov2020_D1.0_set010.csv
2022-02-27 23:08:07,253 - train -  21/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.4/1.0/traces_brightclust_Nov2020_D0.4_set007.csv
2022-02-27 23:08:22,306 - train -  22/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.2/1.0/traces_brightclust_Nov2020_D0.2_set010.csv
2022-02-27 23:08:25,939 - train -  23/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/3.0/1.0/traces_brightclust_Nov2020_D3.0_set001.csv
2022-02-27 23:08:29,797 - train -  24/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.4/0.1/traces_brightclust_Nov2020_D0.4_set003.csv
2022-02-27 23:08:33,419 - train -  25/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/3.0/1.0/traces_brightclust_Nov2020_D3.0_set003.csv
2022-02-27 23:08:38,026 - train -  26/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.1/0.01/traces_brightclust_Nov2020_D0.1_set004.csv
2022-02-27 23:08:41,552 - train -  27/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.2/0.1/traces_brightclust_Nov2020_D0.2_set001.csv
2022-02-27 23:08:46,334 - train -  28/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.6/0.1/traces_brightclust_Nov2020_D0.6_set005.csv
2022-02-27 23:08:52,449 - train -  29/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.08/0.1/traces_brightclust_Nov2020_D0.08_set006.csv
2022-02-27 23:09:00,390 - train -  30/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.4/0.01/traces_brightclust_Nov2020_D0.4_set004.csv
2022-02-27 23:09:13,802 - train -  31/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/10/0.1/traces_brightclust_Nov2020_D10_set006.csv
2022-02-27 23:09:17,690 - train -  32/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.2/0.1/traces_brightclust_Nov2020_D0.2_set004.csv
2022-02-27 23:09:21,264 - train -  33/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/3.0/0.01/traces_brightclust_Nov2020_D3.0_set005.csv
2022-02-27 23:09:25,460 - train -  34/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.069/0.1/traces_brightclust_Nov2020_D0.069_set003.csv
2022-02-27 23:09:29,041 - train -  35/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.2/0.01/traces_brightclust_Nov2020_D0.2_set003.csv
2022-02-27 23:09:33,185 - train -  36/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/50/0.01/traces_brightclust_Nov2020_D50_set006.csv
2022-02-27 23:09:36,927 - train -  37/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.6/0.1/traces_brightclust_Nov2020_D0.6_set004.csv
2022-02-27 23:09:43,792 - train -  38/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.08/1.0/traces_brightclust_Nov2020_D0.08_set004.csv
2022-02-27 23:09:55,806 - train -  39/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.6/0.01/traces_brightclust_Nov2020_D0.6_set010.csv
2022-02-27 23:09:59,340 - train -  40/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/10/0.1/traces_brightclust_Nov2020_D10_set007.csv
2022-02-27 23:10:04,195 - train -  41/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.4/1.0/traces_brightclust_Nov2020_D0.4_set006.csv
2022-02-27 23:10:07,769 - train -  42/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.4/0.1/traces_brightclust_Nov2020_D0.4_set002.csv
2022-02-27 23:10:11,494 - train -  43/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.1/0.01/traces_brightclust_Nov2020_D0.1_set006.csv
2022-02-27 23:10:15,480 - train -  44/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/3.0/0.01/traces_brightclust_Nov2020_D3.0_set006.csv
2022-02-27 23:10:19,534 - train -  45/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/50/0.1/traces_brightclust_Nov2020_D50_set010.csv
2022-02-27 23:10:23,308 - train -  46/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.08/0.01/traces_brightclust_Nov2020_D0.08_set007.csv
2022-02-27 23:10:27,088 - train -  47/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.069/0.1/traces_brightclust_Nov2020_D0.069_set002.csv
2022-02-27 23:10:30,870 - train -  48/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/50/0.1/traces_brightclust_Nov2020_D50_set009.csv
2022-02-27 23:10:34,365 - train -  1/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/1.0/0.1/traces_brightclust_Nov2020_D1.0_set009.csv
2022-02-27 23:10:43,346 - train -  2/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/50/1.0/traces_brightclust_Nov2020_D50_set007.csv
2022-02-27 23:10:59,488 - train -  3/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/0.4/0.1/traces_brightclust_Nov2020_D0.4_set009.csv
2022-02-27 23:11:07,159 - train -  4/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/3.0/1.0/traces_brightclust_Nov2020_D3.0_set009.csv
2022-02-27 23:11:11,824 - train -  5/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/0.1/0.01/traces_brightclust_Nov2020_D0.1_set008.csv
2022-02-27 23:11:15,330 - train -  6/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/10/0.01/traces_brightclust_Nov2020_D10_set008.csv
2022-02-27 23:11:19,613 - train -  7/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/0.08/0.1/traces_brightclust_Nov2020_D0.08_set008.csv
2022-02-27 23:11:22,985 - train -  8/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/1.0/1.0/traces_brightclust_Nov2020_D1.0_set008.csv
2022-02-27 23:11:26,571 - train -  9/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/3.0/0.01/traces_brightclust_Nov2020_D3.0_set008.csv
2022-02-27 23:11:30,142 - train -  10/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/0.2/0.1/traces_brightclust_Nov2020_D0.2_set006.csv
2022-02-27 23:11:33,712 - train -  11/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/0.069/0.1/traces_brightclust_Nov2020_D0.069_set006.csv
2022-02-27 23:11:40,154 - train -  12/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/0.6/0.1/traces_brightclust_Nov2020_D0.6_set006.csv
2022-02-27 23:11:40,374 - train -  The given DataFrame was split into 3 parts with shapes: [(16384, 4800), (16384, 4800), (16384, 4800)]
2022-02-27 23:11:40,463 - train -  The given DataFrame was split into 3 parts with shapes: [(16384, 1200), (16384, 1200), (16384, 1200)]
2022-02-27 23:11:40.616724: I tensorflow/core/platform/cpu_feature_guard.cc:142] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operatio
ns:  AVX2 FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
2022-02-27 23:11:40.620393: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1733] Found device 0 with properties:
pciBusID: 0000:82:00.0 name: Tesla P100-PCIE-16GB computeCapability: 6.0
coreClock: 1.3285GHz coreCount: 56 deviceMemorySize: 15.90GiB deviceMemoryBandwidth: 681.88GiB/s
2022-02-27 23:11:40.624428: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1871] Adding visible gpu devices: 0
2022-02-27 23:11:40.624579: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcudart.so.11.0
2022-02-27 23:11:41.105011: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1258] Device interconnect StreamExecutor with strength 1 edge matrix:
2022-02-27 23:11:41.105083: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1264]      0
2022-02-27 23:11:41.105097: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1277] 0:   N
2022-02-27 23:11:41.107958: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1418] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 15403 MB memory) -&gt; physical GPU (device: 0, name: Tesla P100-PCIE-16GB, p
ci bus id: 0000:82:00.0, compute capability: 6.0)
2022-02-27 23:11:43,160 - train -  number of examples: 4800
2022-02-27 23:11:43,526 - train -  number of examples: 1200
2022-02-27 23:11:46,063 - train -  unet: input shape: (None, None, 1), output shape: (None, None, 1)
2022/02/27 23:11:46 WARNING mlflow.utils.autologging_utils: Encountered unexpected error during tensorflow autologging: Changing param values is not allowed. Param with key='batch_size' was already logged with value='26' for run ID='484
af471c61943fa90e5f78e78a229f0'. Attempted logging new value 'None'.
Epoch 1/100
2022-02-27 23:11:56.021789: I tensorflow/compiler/mlir/mlir_graph_optimization_pass.cc:176] None of the MLIR Optimization Passes are enabled (registered 2)
2022-02-27 23:11:56.201257: I tensorflow/core/platform/profile_utils/cpu_utils.cc:114] CPU Frequency: 2199895000 Hz
2022-02-27 23:12:06.010819: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcudnn.so.8
2022-02-27 23:12:06.325533: I tensorflow/stream_executor/cuda/cuda_dnn.cc:359] Loaded cuDNN version 8101
2022-02-27 23:12:06.806608: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcublas.so.11
2022-02-27 23:12:07.089703: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcublasLt.so.11
184/184 [==============================] - 212s 1s/step - loss: 1.1422 - tp0.1: 8390499.0000 - fp0.1: 12828878.0000 - tn0.1: 55341968.0000 - fn0.1: 1819714.0000 - precision0.1: 0.3954 - recall0.1: 0.8218 - tp0.3: 7189476.0000 - fp0.3: 4
881676.0000 - tn0.3: 63289180.0000 - fn0.3: 3020737.0000 - precision0.3: 0.5956 - recall0.3: 0.7041 - tp0.5: 6041120.0000 - fp0.5: 2184567.0000 - tn0.5: 65986268.0000 - fn0.5: 4169093.0000 - precision0.5: 0.7344 - recall0.5: 0.5917 - tp
0.7: 4490541.0000 - fp0.7: 712795.0000 - tn0.7: 67458040.0000 - fn0.7: 5719672.0000 - precision0.7: 0.8630 - recall0.7: 0.4398 - tp0.9: 2966847.0000 - fp0.9: 153266.0000 - tn0.9: 68017552.0000 - fn0.9: 7243366.0000 - precision0.9: 0.950
9 - recall0.9: 0.2906 - accuracy: 0.9189 - auc: 0.8890 - f1: 0.6554 - val_loss: 45.6530 - val_tp0.1: 2695397.0000 - val_fp0.1: 16186602.0000 - val_tn0.1: 695010.0000 - val_fn0.1: 18255.0000 - val_precision0.1: 0.1427 - val_recall0.1: 0.
9933 - val_tp0.3: 2693432.0000 - val_fp0.3: 16009674.0000 - val_tn0.3: 871938.0000 - val_fn0.3: 20220.0000 - val_precision0.3: 0.1440 - val_recall0.3: 0.9925 - val_tp0.5: 2691511.0000 - val_fp0.5: 15860014.0000 - val_tn0.5: 1021598.0000
 - val_fn0.5: 22141.0000 - val_precision0.5: 0.1451 - val_recall0.5: 0.9918 - val_tp0.7: 2688428.0000 - val_fp0.7: 15650703.0000 - val_tn0.7: 1230909.0000 - val_fn0.7: 25224.0000 - val_precision0.7: 0.1466 - val_recall0.7: 0.9907 - val_
tp0.9: 2681968.0000 - val_fp0.9: 15334839.0000 - val_tn0.9: 1546773.0000 - val_fn0.9: 31684.0000 - val_precision0.9: 0.1489 - val_recall0.9: 0.9883 - val_accuracy: 0.1895 - val_auc: 0.5616 - val_f1: 0.2531

...

Epoch 100/100
184/184 [==============================] - 184s 1s/step - loss: 0.0877 - tp0.1: 10015121.0000 - fp0.1: 1833216.0000 - tn0.1: 66390352.0000 - fn0.1: 142350.0000 - precision0.1: 0.8453 - recall0.1: 0.9860 - tp0.3: 9874038.0000 - fp0.3: 10
86322.0000 - tn0.3: 67137280.0000 - fn0.3: 283433.0000 - precision0.3: 0.9009 - recall0.3: 0.9721 - tp0.5: 9674727.0000 - fp0.5: 664419.0000 - tn0.5: 67559176.0000 - fn0.5: 482744.0000 - precision0.5: 0.9357 - recall0.5: 0.9525 - tp0.7:
 9343030.0000 - fp0.7: 341635.0000 - tn0.7: 67881952.0000 - fn0.7: 814441.0000 - precision0.7: 0.9647 - recall0.7: 0.9198 - tp0.9: 8626370.0000 - fp0.9: 88068.0000 - tn0.9: 68135504.0000 - fn0.9: 1531101.0000 - precision0.9: 0.9899 - re
call0.9: 0.8493 - accuracy: 0.9854 - auc: 0.9920 - f1: 0.9440 - val_loss: 0.1556 - val_tp0.1: 2623480.0000 - val_fp0.1: 609139.0000 - val_tn0.1: 16273852.0000 - val_fn0.1: 88793.0000 - val_precision0.1: 0.8116 - val_recall0.1: 0.9673 -
val_tp0.3: 2573475.0000 - val_fp0.3: 375340.0000 - val_tn0.3: 16507651.0000 - val_fn0.3: 138798.0000 - val_precision0.3: 0.8727 - val_recall0.3: 0.9488 - val_tp0.5: 2518254.0000 - val_fp0.5: 251870.0000 - val_tn0.5: 16631121.0000 - val_
fn0.5: 194019.0000 - val_precision0.5: 0.9091 - val_recall0.5: 0.9285 - val_tp0.7: 2439448.0000 - val_fp0.7: 153092.0000 - val_tn0.7: 16729899.0000 - val_fn0.7: 272825.0000 - val_precision0.7: 0.9409 - val_recall0.7: 0.8994 - val_tp0.9:
 2279822.0000 - val_fp0.9: 61468.0000 - val_tn0.9: 16821524.0000 - val_fn0.9: 432451.0000 - val_precision0.9: 0.9737 - val_recall0.9: 0.8406 - val_accuracy: 0.9772 - val_auc: 0.9814 - val_f1: 0.9187
2022-02-28 04:24:39.818514: W tensorflow/python/util/util.cc:348] Sets are not currently considered sequences, but this may change in the future, so consider avoiding using them.
2022/02/28 04:24:58 INFO mlflow.projects: === Run (ID '484af471c61943fa90e5f78e78a229f0') succeeded ===
(tf) [ye53nis@node128 drmed-git]$
</pre>
</details>
<ul class="org-ul">
<li>name of run: <code>484af471c61943fa90e5f78e78a229f0</code>
</li>
<li>metrics after 100th epoch:
<ul class="org-ul">
<li>precision<sub>val,0.5</sub>: 0.9091 - recall<sub>val,0.5</sub>: 0.9285 - f1<sub>val,0.5</sub>: 0.9187
</li>
<li>auc<sub>val</sub>: 0.9814
</li>
</ul>
</li>
<li>a note on the metrics notation:
<ul class="org-ul">
<li><b>val</b> means: metrics computed on validation dataset, which was used in
training to e.g. ensure no overfitting occurs.
</li>
<li><b>0.5</b> means: a threshold of 0.5 was applied to the predicted
output (floating point values between 0 and 1). That means we get a
binary classification - and this classification was compared to the
ground truth, which was binary as well. Then, precision, recall, f1,
etc were computed
</li>
<li>the <b>auc</b> function uses 100 different thresholds for computation, so
there no own threshold has to be set.
</li>
</ul>
</li>
</ul>
</li>

<li>run training of <code>(93b168c0ff7942c8a908a94129daf973,
      f243b3b742de4dbcb7ccfbd4244706f8)</code> with hparams from above

<div class="org-src-container">

<pre class="src src-tmux"><span style="color: #5e7837;">mlflow</span> <span style="color: #784437;">run</span> <span style="color: #513f78;">.</span> <span style="color: #3f7178;">-e</span> <span style="color: #5e7837;">main</span> <span style="color: #374478;">-P</span> <span style="color: #268bd2;">fluotracify_path</span>=<span style="color: #783778;">/beegfs/ye53nis/drmed-git/src/</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">batch_size</span>=<span style="color: #707e4f;">15</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">first_filters</span>=<span style="color: #78683f;">23</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">input_size</span>=<span style="color: #7e544f;">14000</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">lr_start</span>=<span style="color: #37785e;">0.0305060808685107</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">lr_power</span>=<span style="color: #37785e;">7</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">epochs</span>=<span style="color: #783778;">100</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">csv_path_train</span>=<span style="color: #374478;">/beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">csv_path_val</span>=<span style="color: #783f5a;">/beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">scaler</span>=<span style="color: #374478;">quant_g</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">n_levels</span>=<span style="color: #513f78;">6</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">pool_size</span>=<span style="color: #784437;">4</span>
</pre>
</div>
<details>
<pre class="example">
2022/02/28 14:14:59 INFO mlflow.projects.utils: === Created directory /tmp/tmpjco1jnk_ for downloading remote URIs passed to arguments of type 'path' ===
2022/02/28 14:15:00 INFO mlflow.projects.backend.local: === Running command 'source /cluster/miniconda3/bin/../etc/profile.d/conda.sh &amp;&amp; conda activate mlflow-eaf130b8edd83d20d4f1e0db4286dabd625893fe 1&gt;&amp;2 &amp;&amp; python src/fluotracify/train
ing/train.py --fluotracify_path /beegfs/ye53nis/drmed-git/src --batch_size 15 --input_size 14000 --lr_start 0.0305060808685107 --lr_power 7 --epochs 100 --csv_path_train /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets --csv_p
ath_val /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN --col_per_example 3 --scaler quant_g --n_levels 6 --first_filters 23 --pool_size 4' in run with ID '0cd2023eeaf745aca0d3e8ad5e1fc653' ===
2022-02-28 14:15:13.580296: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcudart.so.11.0
2022-02-28 14:15:25,693 - train -  Python version: 3.9.6 (default, Jul 30 2021, 16:35:19)
[GCC 7.5.0]
2022-02-28 14:15:25,693 - train -  Tensorflow version: 2.5.0
2022-02-28 14:15:25,693 - train -  tf.keras version: 2.5.0
2022-02-28 14:15:25,693 - train -  Cudnn version: 8
2022-02-28 14:15:25,693 - train -  Cuda version: 11.2
2022-02-28 14:15:25.695839: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcuda.so.1
2022-02-28 14:15:25.776740: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1733] Found device 0 with properties:
pciBusID: 0000:82:00.0 name: Tesla P100-PCIE-16GB computeCapability: 6.0
coreClock: 1.3285GHz coreCount: 56 deviceMemorySize: 15.90GiB deviceMemoryBandwidth: 681.88GiB/s
2022-02-28 14:15:25.776884: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcudart.so.11.0
2022-02-28 14:15:25.786987: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcublas.so.11
2022-02-28 14:15:25.787115: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcublasLt.so.11
2022-02-28 14:15:25.790205: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcufft.so.10
2022-02-28 14:15:25.791541: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcurand.so.10
2022-02-28 14:15:25.799938: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcusolver.so.11
2022-02-28 14:15:25.821517: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcusparse.so.11
2022-02-28 14:15:25.822676: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcudnn.so.8
2022-02-28 14:15:25.826275: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1871] Adding visible gpu devices: 0
2022-02-28 14:15:25,826 - train -  GPUs: [PhysicalDevice(name='/physical_device:GPU:0', device_type='GPU')]. Trying to set memory growth to "True"...
2022-02-28 14:15:25,827 - train -  Setting memory growth successful.
2022-02-28 14:15:33,830 - train -  1/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/1.0/0.1/traces_brightclust_Nov2020_D1.0_set004.csv
2022-02-28 14:15:46,000 - train -  2/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.08/0.1/traces_brightclust_Nov2020_D0.08_set002.csv
2022-02-28 14:15:50,090 - train -  3/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.6/1.0/traces_brightclust_Nov2020_D0.6_set001.csv
2022-02-28 14:16:02,981 - train -  4/48: /beegfs/ye53nis/saves/first
artifact_Nov2020_train_max2sets/1.0/0.1/traces_brightclust_Nov2020_D1.0_set007.csv
2022-02-28 14:16:11,106 - train -  5/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/1.0/1.0/traces_brightclust_Nov2020_D1.0_set002.csv
2022-02-28 14:16:16,436 - train -  6/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/10/1.0/traces_brightclust_Nov2020_D10_set010.csv
2022-02-28 14:16:21,251 - train -  7/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/10/0.01/traces_brightclust_Nov2020_D10_set004.csv
2022-02-28 14:16:24,785 - train -  8/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/3.0/0.1/traces_brightclust_Nov2020_D3.0_set010.csv
2022-02-28 14:16:41,395 - train -  9/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.08/1.0/traces_brightclust_Nov2020_D0.08_set009.csv
2022-02-28 14:16:45,170 - train -  10/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.1/1.0/traces_brightclust_Nov2020_D0.1_set003.csv
2022-02-28 14:16:48,894 - train -  11/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.1/1.0/traces_brightclust_Nov2020_D0.1_set007.csv
2022-02-28 14:17:01,362 - train -  12/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/1.0/1.0/traces_brightclust_Nov2020_D1.0_set001.csv
2022-02-28 14:17:05,972 - train -  13/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/10/0.01/traces_brightclust_Nov2020_D10_set003.csv
2022-02-28 14:17:11,392 - train -  14/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.6/1.0/traces_brightclust_Nov2020_D0.6_set002.csv
2022-02-28 14:17:15,150 - train -  15/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/50/1.0/traces_brightclust_Nov2020_D50_set005.csv
2022-02-28 14:17:18,880 - train -  16/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.069/1.0/traces_brightclust_Nov2020_D0.069_set009.csv
2022-02-28 14:17:22,858 - train -  17/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/50/1.0/traces_brightclust_Nov2020_D50_set004.csv
2022-02-28 14:17:26,879 - train -  18/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.4/0.01/traces_brightclust_Nov2020_D0.4_set010.csv
2022-02-28 14:17:31,181 - train -  19/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.2/1.0/traces_brightclust_Nov2020_D0.2_set009.csv
2022-02-28 14:17:34,897 - train -  20/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/1.0/0.01/traces_brightclust_Nov2020_D1.0_set010.csv
2022-02-28 14:17:38,846 - train -  21/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.4/1.0/traces_brightclust_Nov2020_D0.4_set007.csv
2022-02-28 14:18:01,434 - train -  22/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.2/1.0/traces_brightclust_Nov2020_D0.2_set010.csv
2022-02-28 14:18:05,125 - train -  23/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/3.0/1.0/traces_brightclust_Nov2020_D3.0_set001.csv
2022-02-28 14:18:10,548 - train -  24/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.4/0.1/traces_brightclust_Nov2020_D0.4_set003.csv
2022-02-28 14:18:15,933 - train -  25/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/3.0/1.0/traces_brightclust_Nov2020_D3.0_set003.csv
2022-02-28 14:18:20,727 - train -  26/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.1/0.01/traces_brightclust_Nov2020_D0.1_set004.csv
2022-02-28 14:18:24,064 - train -  27/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.2/0.1/traces_brightclust_Nov2020_D0.2_set001.csv
2022-02-28 14:18:35,979 - train -  28/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.6/0.1/traces_brightclust_Nov2020_D0.6_set005.csv
2022-02-28 14:18:39,881 - train -  29/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.08/0.1/traces_brightclust_Nov2020_D0.08_set006.csv
2022-02-28 14:18:43,394 - train -  30/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.4/0.01/traces_brightclust_Nov2020_D0.4_set004.csv
2022-02-28 14:18:53,160 - train -  31/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/10/0.1/traces_brightclust_Nov2020_D10_set006.csv
2022-02-28 14:18:57,332 - train -  32/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.2/0.1/traces_brightclust_Nov2020_D0.2_set004.csv
2022-02-28 14:19:03,503 - train -  33/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/3.0/0.01/traces_brightclust_Nov2020_D3.0_set005.csv
2022-02-28 14:19:08,665 - train -  34/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.069/0.1/traces_brightclust_Nov2020_D0.069_set003.csv
2022-02-28 14:19:13,327 - train -  35/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.2/0.01/traces_brightclust_Nov2020_D0.2_set003.csv
2022-02-28 14:19:17,293 - train -  36/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/50/0.01/traces_brightclust_Nov2020_D50_set006.csv
2022-02-28 14:19:21,119 - train -  37/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.6/0.1/traces_brightclust_Nov2020_D0.6_set004.csv
2022-02-28 14:19:24,804 - train -  38/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.08/1.0/traces_brightclust_Nov2020_D0.08_set004.csv
2022-02-28 14:19:31,451 - train -  39/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.6/0.01/traces_brightclust_Nov2020_D0.6_set010.csv
2022-02-28 14:19:41,863 - train -  40/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/10/0.1/traces_brightclust_Nov2020_D10_set007.csv
2022-02-28 14:19:47,487 - train -  41/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.4/1.0/traces_brightclust_Nov2020_D0.4_set006.csv
2022-02-28 14:19:53,197 - train -  42/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.4/0.1/traces_brightclust_Nov2020_D0.4_set002.csv
2022-02-28 14:20:00,405 - train -  43/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.1/0.01/traces_brightclust_Nov2020_D0.1_set006.csv
2022-02-28 14:20:04,607 - train -  44/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/3.0/0.01/traces_brightclust_Nov2020_D3.0_set006.csv
2022-02-28 14:20:08,353 - train -  45/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/50/0.1/traces_brightclust_Nov2020_D50_set010.csv
2022-02-28 14:20:12,307 - train -  46/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.08/0.01/traces_brightclust_Nov2020_D0.08_set007.csv
2022-02-28 14:20:16,444 - train -  47/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.069/0.1/traces_brightclust_Nov2020_D0.069_set002.csv
2022-02-28 14:20:20,213 - train -  48/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/50/0.1/traces_brightclust_Nov2020_D50_set009.csv
2022-02-28 14:20:23,834 - train -  1/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/1.0/0.1/traces_brightclust_Nov2020_D1.0_set009.csv
2022-02-28 14:20:30,953 - train -  2/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/50/1.0/traces_brightclust_Nov2020_D50_set007.csv
2022-02-28 14:20:36,797 - train -  3/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/0.4/0.1/traces_brightclust_Nov2020_D0.4_set009.csv
2022-02-28 14:20:48,524 - train -  4/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/3.0/1.0/traces_brightclust_Nov2020_D3.0_set009.csv
2022-02-28 14:20:57,745 - train -  5/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/0.1/0.01/traces_brightclust_Nov2020_D0.1_set008.csv
2022-02-28 14:21:01,411 - train -  6/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/10/0.01/traces_brightclust_Nov2020_D10_set008.csv
2022-02-28 14:21:13,337 - train -  7/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/0.08/0.1/traces_brightclust_Nov2020_D0.08_set008.csv
2022-02-28 14:21:17,317 - train -  8/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/1.0/1.0/traces_brightclust_Nov2020_D1.0_set008.csv
2022-02-28 14:21:21,005 - train -  9/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/3.0/0.01/traces_brightclust_Nov2020_D3.0_set008.csv
2022-02-28 14:21:24,834 - train -  10/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/0.2/0.1/traces_brightclust_Nov2020_D0.2_set006.csv
2022-02-28 14:21:28,718 - train -  11/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/0.069/0.1/traces_brightclust_Nov2020_D0.069_set006.csv
2022-02-28 14:21:32,087 - train -  12/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/0.6/0.1/traces_brightclust_Nov2020_D0.6_set006.csv
2022-02-28 14:21:32,293 - train -  The given DataFrame was split into 3 parts with shapes: [(16384, 4800), (16384, 4800), (16384, 4800)]
2022-02-28 14:21:32,383 - train -  The given DataFrame was split into 3 parts with shapes: [(16384, 1200), (16384, 1200), (16384, 1200)]
2022-02-28 14:21:32.540303: I tensorflow/core/platform/cpu_feature_guard.cc:142] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operatio
ns:  AVX2 FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
2022-02-28 14:21:32.542865: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1733] Found device 0 with properties:
pciBusID: 0000:82:00.0 name: Tesla P100-PCIE-16GB computeCapability: 6.0
coreClock: 1.3285GHz coreCount: 56 deviceMemorySize: 15.90GiB deviceMemoryBandwidth: 681.88GiB/s
2022-02-28 14:21:32.544861: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1871] Adding visible gpu devices: 0
2022-02-28 14:21:32.544960: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcudart.so.11.0
2022-02-28 14:21:32.969057: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1258] Device interconnect StreamExecutor with strength 1 edge matrix:
2022-02-28 14:21:32.969130: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1264]      0
2022-02-28 14:21:32.969144: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1277] 0:   N
2022-02-28 14:21:32.972037: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1418] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 15403 MB memory) -&gt; physical GPU (device: 0, name: Tesla P100-PCIE-16GB, p
ci bus id: 0000:82:00.0, compute capability: 6.0)
2022-02-28 14:21:35,138 - train -  number of examples: 4800
2022-02-28 14:21:35,561 - train -  number of examples: 1200
2022-02-28 14:21:37,968 - train -  unet: input shape: (None, None, 1), output shape: (None, None, 1)
2022/02/28 14:21:38 WARNING mlflow.utils.autologging_utils: Encountered unexpected error during tensorflow autologging: Changing param values is not allowed. Param with key='batch_size' was already logged with value='15' for run ID='0cd
2023eeaf745aca0d3e8ad5e1fc653'. Attempted logging new value 'None'.
Epoch 1/100
2022-02-28 14:21:47.612006: I tensorflow/compiler/mlir/mlir_graph_optimization_pass.cc:176] None of the MLIR Optimization Passes are enabled (registered 2)
2022-02-28 14:21:47.786795: I tensorflow/core/platform/profile_utils/cpu_utils.cc:114] CPU Frequency: 2199895000 Hz
2022-02-28 14:22:00.556303: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3118 of 4800
2022-02-28 14:22:05.887971: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
2022-02-28 14:22:05.992991: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcudnn.so.8
2022-02-28 14:22:06.329980: I tensorflow/stream_executor/cuda/cuda_dnn.cc:359] Loaded cuDNN version 8101
2022-02-28 14:22:06.837590: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcublas.so.11
2022-02-28 14:22:07.115604: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcublasLt.so.11
320/320 [==============================] - 80s 158ms/step - loss: 0.6557 - tp0.1: 8858269.0000 - fp0.1: 11367531.0000 - tn0.1: 57039588.0000 - fn0.1: 1377794.0000 - precision0.1: 0.4380 - recall0.1: 0.8654 - tp0.3: 8020446.0000 - fp0.3:
 6844078.0000 - tn0.3: 61563052.0000 - fn0.3: 2215617.0000 - precision0.3: 0.5396 - recall0.3: 0.7835 - tp0.5: 6484149.0000 - fp0.5: 3021931.0000 - tn0.5: 65385196.0000 - fn0.5: 3751914.0000 - precision0.5: 0.6821 - recall0.5: 0.6335 -
tp0.7: 4743137.0000 - fp0.7: 1127848.0000 - tn0.7: 67279296.0000 - fn0.7: 5492926.0000 - precision0.7: 0.8079 - recall0.7: 0.4634 - tp0.9: 2178331.0000 - fp0.9: 182418.0000 - tn0.9: 68224688.0000 - fn0.9: 8057732.0000 - precision0.9: 0.
9227 - recall0.9: 0.2128 - accuracy: 0.9139 - auc: 0.9007 - f1: 0.6569 - val_loss: 154.4101 - val_tp0.1: 2567299.0000 - val_fp0.1: 15932078.0000 - val_tn0.1: 1006227.0000 - val_fn0.1: 155196.0000 - val_precision0.1: 0.1388 - val_recall0
.1: 0.9430 - val_tp0.3: 2564050.0000 - val_fp0.3: 15892674.0000 - val_tn0.3: 1045631.0000 - val_fn0.3: 158445.0000 - val_precision0.3: 0.1389 - val_recall0.3: 0.9418 - val_tp0.5: 2561216.0000 - val_fp0.5: 15863898.0000 - val_tn0.5: 1074
407.0000 - val_fn0.5: 161279.0000 - val_precision0.5: 0.1390 - val_recall0.5: 0.9408 - val_tp0.7: 2556675.0000 - val_fp0.7: 15829841.0000 - val_tn0.7: 1108464.0000 - val_fn0.7: 165820.0000 - val_precision0.7: 0.1391 - val_recall0.7: 0.9
391 - val_tp0.9: 2546087.0000 - val_fp0.9: 15767476.0000 - val_tn0.9: 1170829.0000 - val_fn0.9: 176408.0000 - val_precision0.9: 0.1390 - val_recall0.9: 0.9352 - val_accuracy: 0.1849 - val_auc: 0.4998 - val_f1: 0.2422

...

Epoch 100/100
320/320 [==============================] - 46s 145ms/step - loss: 0.1275 - tp0.1: 10018370.0000 - fp0.1: 2700999.0000 - tn0.1: 65706144.0000 - fn0.1: 217693.0000 - precision0.1: 0.7876 - recall0.1: 0.9787 - tp0.3: 9775954.0000 - fp0.3:
1429847.0000 - tn0.3: 66977260.0000 - fn0.3: 460109.0000 - precision0.3: 0.8724 - recall0.3: 0.9551 - tp0.5: 9497895.0000 - fp0.5: 850165.0000 - tn0.5: 67556944.0000 - fn0.5: 738168.0000 - precision0.5: 0.9178 - recall0.5: 0.9279 - tp0.
7: 9083449.0000 - fp0.7: 444475.0000 - tn0.7: 67962624.0000 - fn0.7: 1152614.0000 - precision0.7: 0.9534 - recall0.7: 0.8874 - tp0.9: 8160305.0000 - fp0.9: 123032.0000 - tn0.9: 68284080.0000 - fn0.9: 2075758.0000 - precision0.9: 0.9851
- recall0.9: 0.7972 - accuracy: 0.9798 - auc: 0.9876 - f1: 0.9228 - val_loss: 0.1678 - val_tp0.1: 2639044.0000 - val_fp0.1: 807650.0000 - val_tn0.1: 16130655.0000 - val_fn0.1: 83451.0000 - val_precision0.1: 0.7657 - val_recall0.1: 0.969
3 - val_tp0.3: 2571140.0000 - val_fp0.3: 452176.0000 - val_tn0.3: 16486129.0000 - val_fn0.3: 151355.0000 - val_precision0.3: 0.8504 - val_recall0.3: 0.9444 - val_tp0.5: 2500729.0000 - val_fp0.5: 291947.0000 - val_tn0.5: 16646358.0000 -
val_fn0.5: 221766.0000 - val_precision0.5: 0.8955 - val_recall0.5: 0.9185 - val_tp0.7: 2397916.0000 - val_fp0.7: 172157.0000 - val_tn0.7: 16766148.0000 - val_fn0.7: 324579.0000 - val_precision0.7: 0.9330 - val_recall0.7: 0.8808 - val_tp
0.9: 2174652.0000 - val_fp0.9: 58658.0000 - val_tn0.9: 16879648.0000 - val_fn0.9: 547843.0000 - val_precision0.9: 0.9737 - val_recall0.9: 0.7988 - val_accuracy: 0.9739 - val_auc: 0.9818 - val_f1: 0.9069
2022-02-28 15:49:04.737117: W tensorflow/python/util/util.cc:348] Sets are not currently considered sequences, but this may change in the future, so consider avoiding using them.
2022/02/28 15:49:22 INFO mlflow.projects: === Run (ID '0cd2023eeaf745aca0d3e8ad5e1fc653') succeeded ===
</pre>
</details>
<ul class="org-ul">
<li>name of run: <code>0cd2023eeaf745aca0d3e8ad5e1fc653</code>
</li>
<li>metrics after 100th epoch:
<ul class="org-ul">
<li>loss: 0.1275 - loss<sub>val</sub>: 0.1678
</li>
<li>precision<sub>val,0.5</sub>: 0.8955 - recall<sub>val,0.5</sub>: 0.9185 - f1<sub>val,0.5</sub>: 0.9069
</li>
<li>auc<sub>val</sub>: 0.9818
</li>
</ul>
</li>
</ul>
</li>

<li>run training of <code>(a5b8551144ff46e697a39cd1551e1475,
      98cf8cdef9c54b5286e277e75e2ab8c1)</code> with hparams from above

<div class="org-src-container">

<pre class="src src-tmux"><span style="color: #5e7837;">mlflow</span> <span style="color: #784437;">run</span> <span style="color: #513f78;">.</span> <span style="color: #3f7178;">-e</span> <span style="color: #5e7837;">main</span> <span style="color: #374478;">-P</span> <span style="color: #268bd2;">fluotracify_path</span>=<span style="color: #783778;">/beegfs/ye53nis/drmed-git/src/</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">batch_size</span>=<span style="color: #513f78;">20</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">first_filters</span>=<span style="color: #3f7178;">78</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">input_size</span>=<span style="color: #7e544f;">14000</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">lr_start</span>=<span style="color: #4f5c7e;">0.0584071108418767</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">lr_power</span>=<span style="color: #784437;">4</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">epochs</span>=<span style="color: #783778;">100</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">csv_path_train</span>=<span style="color: #374478;">/beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">csv_path_val</span>=<span style="color: #783f5a;">/beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">scaler</span>=<span style="color: #513f78;">standard</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">n_levels</span>=<span style="color: #784437;">4</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">pool_size</span>=<span style="color: #784437;">4</span>
</pre>
</div>
<details>
<pre class="example">
2022/02/28 17:34:45 INFO mlflow.projects.utils: === Created directory /tmp/tmpwue2ujb5 for downloading remote URIs passed to arguments of type 'path' ===
2022/02/28 17:34:45 INFO mlflow.projects.backend.local: === Running command 'source /cluster/miniconda3/bin/../etc/profile.d/conda.sh &amp;&amp; conda activate mlflow-eaf130b8edd83d20d4f1e0db4286dabd625893fe 1&gt;&amp;2 &amp;&amp; python src/fluotracify/train
ing/train.py --fluotracify_path /beegfs/ye53nis/drmed-git/src --batch_size 20 --input_size 14000 --lr_start 0.0584071108418767 --lr_power 4 --epochs 100 --csv_path_train /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets --csv_p
ath_val /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN --col_per_example 3 --scaler standard --n_levels 4 --first_filters 78 --pool_size 4' in run with ID 'fe81d71c52404ed790b3a32051258da9' ===
2022-02-28 17:34:58.034002: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcudart.so.11.0
2022-02-28 17:35:10,330 - train -  Python version: 3.9.6 (default, Jul 30 2021, 16:35:19)
[GCC 7.5.0]
2022-02-28 17:35:10,331 - train -  Tensorflow version: 2.5.0
2022-02-28 17:35:10,331 - train -  tf.keras version: 2.5.0
2022-02-28 17:35:10,331 - train -  Cudnn version: 8
2022-02-28 17:35:10,331 - train -  Cuda version: 11.2
2022-02-28 17:35:10.333548: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcuda.so.1
2022-02-28 17:35:10.391240: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1733] Found device 0 with properties:
pciBusID: 0000:82:00.0 name: Tesla P100-PCIE-16GB computeCapability: 6.0
coreClock: 1.3285GHz coreCount: 56 deviceMemorySize: 15.90GiB deviceMemoryBandwidth: 681.88GiB/s
2022-02-28 17:35:10.391388: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcudart.so.11.0
2022-02-28 17:35:10.401553: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcublas.so.11
2022-02-28 17:35:10.401669: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcublasLt.so.11
2022-02-28 17:35:10.405228: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcufft.so.10
2022-02-28 17:35:10.407042: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcurand.so.10
2022-02-28 17:35:10.415485: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcusolver.so.11
2022-02-28 17:35:10.417900: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcusparse.so.11
2022-02-28 17:35:10.419606: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcudnn.so.8
2022-02-28 17:35:10.422879: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1871] Adding visible gpu devices: 0
2022-02-28 17:35:10,423 - train -  GPUs: [PhysicalDevice(name='/physical_device:GPU:0', device_type='GPU')]. Trying to set memory growth to "True"...
2022-02-28 17:35:10,423 - train -  Setting memory growth successful.
2022-02-28 17:35:16,324 - train -  1/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/1.0/0.1/traces_brightclust_Nov2020_D1.0_set004.csv
2022-02-28 17:35:30,676 - train -  2/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.08/0.1/traces_brightclust_Nov2020_D0.08_set002.csv
2022-02-28 17:35:34,283 - train -  3/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.6/1.0/traces_brightclust_Nov2020_D0.6_set001.csv
2022-02-28 17:35:38,780 - train -  4/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/1.0/0.1/traces_brightclust_Nov2020_D1.0_set007.csv
2022-02-28 17:35:43,054 - train -  5/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/1.0/1.0/traces_brightclust_Nov2020_D1.0_set002.csv
2022-02-28 17:35:46,234 - train -  6/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/10/1.0/traces_brightclust_Nov2020_D10_set010.csv
2022-02-28 17:35:50,337 - train -  7/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/10/0.01/traces_brightclust_Nov2020_D10_set004.csv
2022-02-28 17:35:53,421 - train -  8/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/3.0/0.1/traces_brightclust_Nov2020_D3.0_set010.csv
2022-02-28 17:35:59,004 - train -  9/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.08/1.0/traces_brightclust_Nov2020_D0.08_set009.csv
2022-02-28 17:36:02,669 - train -  10/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.1/1.0/traces_brightclust_Nov2020_D0.1_set003.csv
2022-02-28 17:36:06,267 - train -  11/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.1/1.0/traces_brightclust_Nov2020_D0.1_set007.csv
2022-02-28 17:36:14,414 - train -  12/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/1.0/1.0/traces_brightclust_Nov2020_D1.0_set001.csv
2022-02-28 17:36:18,640 - train -  13/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/10/0.01/traces_brightclust_Nov2020_D10_set003.csv
2022-02-28 17:36:21,742 - train -  14/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.6/1.0/traces_brightclust_Nov2020_D0.6_set002.csv
2022-02-28 17:36:25,004 - train -  15/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/50/1.0/traces_brightclust_Nov2020_D50_set005.csv
2022-02-28 17:36:28,518 - train -  16/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.069/1.0/traces_brightclust_Nov2020_D0.069_set009.csv
2022-02-28 17:36:31,957 - train -  17/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/50/1.0/traces_brightclust_Nov2020_D50_set004.csv
2022-02-28 17:36:35,265 - train -  18/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.4/0.01/traces_brightclust_Nov2020_D0.4_set010.csv
2022-02-28 17:36:38,670 - train -  19/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.2/1.0/traces_brightclust_Nov2020_D0.2_set009.csv
2022-02-28 17:36:42,309 - train -  20/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/1.0/0.01/traces_brightclust_Nov2020_D1.0_set010.csv
2022-02-28 17:36:45,973 - train -  21/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.4/1.0/traces_brightclust_Nov2020_D0.4_set007.csv
2022-02-28 17:36:53,886 - train -  22/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.2/1.0/traces_brightclust_Nov2020_D0.2_set010.csv
2022-02-28 17:36:57,387 - train -  23/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/3.0/1.0/traces_brightclust_Nov2020_D3.0_set001.csv
2022-02-28 17:37:00,889 - train -  24/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.4/0.1/traces_brightclust_Nov2020_D0.4_set003.csv
2022-02-28 17:37:03,901 - train -  25/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/3.0/1.0/traces_brightclust_Nov2020_D3.0_set003.csv
2022-02-28 17:37:08,741 - train -  26/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.1/0.01/traces_brightclust_Nov2020_D0.1_set004.csv
2022-02-28 17:37:11,797 - train -  27/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.2/0.1/traces_brightclust_Nov2020_D0.2_set001.csv
2022-02-28 17:37:15,549 - train -  28/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.6/0.1/traces_brightclust_Nov2020_D0.6_set005.csv
2022-02-28 17:37:19,909 - train -  29/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.08/0.1/traces_brightclust_Nov2020_D0.08_set006.csv
2022-02-28 17:37:32,956 - train -  30/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.4/0.01/traces_brightclust_Nov2020_D0.4_set004.csv
2022-02-28 17:37:47,613 - train -  31/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/10/0.1/traces_brightclust_Nov2020_D10_set006.csv
2022-02-28 17:37:51,591 - train -  32/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.2/0.1/traces_brightclust_Nov2020_D0.2_set004.csv
2022-02-28 17:37:59,140 - train -  33/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/3.0/0.01/traces_brightclust_Nov2020_D3.0_set005.csv
2022-02-28 17:38:03,933 - train -  34/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.069/0.1/traces_brightclust_Nov2020_D0.069_set003.csv
2022-02-28 17:38:07,415 - train -  35/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.2/0.01/traces_brightclust_Nov2020_D0.2_set003.csv
2022-02-28 17:38:15,509 - train -  36/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/50/0.01/traces_brightclust_Nov2020_D50_set006.csv
2022-02-28 17:38:20,075 - train -  37/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.6/0.1/traces_brightclust_Nov2020_D0.6_set004.csv
2022-02-28 17:38:24,146 - train -  38/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.08/1.0/traces_brightclust_Nov2020_D0.08_set004.csv
2022-02-28 17:38:38,735 - train -  39/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.6/0.01/traces_brightclust_Nov2020_D0.6_set010.csv
2022-02-28 17:38:41,894 - train -  40/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/10/0.1/traces_brightclust_Nov2020_D10_set007.csv
2022-02-28 17:38:45,710 - train -  41/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.4/1.0/traces_brightclust_Nov2020_D0.4_set006.csv
2022-02-28 17:38:49,786 - train -  42/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.4/0.1/traces_brightclust_Nov2020_D0.4_set002.csv
2022-02-28 17:38:53,505 - train -  43/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.1/0.01/traces_brightclust_Nov2020_D0.1_set006.csv
2022-02-28 17:38:58,205 - train -  44/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/3.0/0.01/traces_brightclust_Nov2020_D3.0_set006.csv
2022-02-28 17:39:02,031 - train -  45/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/50/0.1/traces_brightclust_Nov2020_D50_set010.csv
2022-02-28 17:39:06,190 - train -  46/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.08/0.01/traces_brightclust_Nov2020_D0.08_set007.csv
2022-02-28 17:39:09,521 - train -  47/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.069/0.1/traces_brightclust_Nov2020_D0.069_set002.csv
2022-02-28 17:39:14,557 - train -  48/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/50/0.1/traces_brightclust_Nov2020_D50_set009.csv
2022-02-28 17:39:18,060 - train -  1/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/1.0/0.1/traces_brightclust_Nov2020_D1.0_set009.csv
2022-02-28 17:39:31,842 - train -  2/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/50/1.0/traces_brightclust_Nov2020_D50_set007.csv
2022-02-28 17:39:51,088 - train -  3/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/0.4/0.1/traces_brightclust_Nov2020_D0.4_set009.csv
2022-02-28 17:40:02,789 - train -  4/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/3.0/1.0/traces_brightclust_Nov2020_D3.0_set009.csv
2022-02-28 17:40:06,696 - train -  5/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/0.1/0.01/traces_brightclust_Nov2020_D0.1_set008.csv
2022-02-28 17:40:10,118 - train -  6/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/10/0.01/traces_brightclust_Nov2020_D10_set008.csv
2022-02-28 17:40:24,593 - train -  7/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/0.08/0.1/traces_brightclust_Nov2020_D0.08_set008.csv
2022-02-28 17:40:28,308 - train -  8/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/1.0/1.0/traces_brightclust_Nov2020_D1.0_set008.csv
2022-02-28 17:40:37,143 - train -  9/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/3.0/0.01/traces_brightclust_Nov2020_D3.0_set008.csv
2022-02-28 17:40:41,060 - train -  10/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/0.2/0.1/traces_brightclust_Nov2020_D0.2_set006.csv
2022-02-28 17:40:59,911 - train -  11/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/0.069/0.1/traces_brightclust_Nov2020_D0.069_set006.csv
2022-02-28 17:41:19,363 - train -  12/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/0.6/0.1/traces_brightclust_Nov2020_D0.6_set006.csv
2022-02-28 17:41:19,570 - train -  The given DataFrame was split into 3 parts with shapes: [(16384, 4800), (16384, 4800), (16384, 4800)]
2022-02-28 17:41:19,659 - train -  The given DataFrame was split into 3 parts with shapes: [(16384, 1200), (16384, 1200), (16384, 1200)]
2022-02-28 17:41:19.824149: I tensorflow/core/platform/cpu_feature_guard.cc:142] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operatio
ns:  AVX2 FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
2022-02-28 17:41:19.827704: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1733] Found device 0 with properties:
pciBusID: 0000:82:00.0 name: Tesla P100-PCIE-16GB computeCapability: 6.0
coreClock: 1.3285GHz coreCount: 56 deviceMemorySize: 15.90GiB deviceMemoryBandwidth: 681.88GiB/s
2022-02-28 17:41:19.831605: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1871] Adding visible gpu devices: 0
2022-02-28 17:41:19.831748: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcudart.so.11.0
2022-02-28 17:41:20.290008: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1258] Device interconnect StreamExecutor with strength 1 edge matrix:
2022-02-28 17:41:20.290081: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1264]      0
2022-02-28 17:41:20.290096: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1277] 0:   N
2022-02-28 17:41:20.292984: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1418] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 15403 MB memory) -&gt; physical GPU (device: 0, name: Tesla P100-PCIE-16GB, p
ci bus id: 0000:82:00.0, compute capability: 6.0)
2022-02-28 17:41:22,312 - train -  number of examples: 4800
2022-02-28 17:41:22,698 - train -  number of examples: 1200
2022-02-28 17:41:26,203 - train -  unet: input shape: (None, None, 1), output shape: (None, None, 1)
2022/02/28 17:41:26 WARNING mlflow.utils.autologging_utils: Encountered unexpected error during tensorflow autologging: Changing param values is not allowed. Param with key='batch_size' was already logged with value='20' for run ID='fe8
1d71c52404ed790b3a32051258da9'. Attempted logging new value 'None'.
Epoch 1/100
2022-02-28 17:41:34.119597: I tensorflow/compiler/mlir/mlir_graph_optimization_pass.cc:176] None of the MLIR Optimization Passes are enabled (registered 2)
2022-02-28 17:41:34.266024: I tensorflow/core/platform/profile_utils/cpu_utils.cc:114] CPU Frequency: 2199895000 Hz
2022-02-28 17:41:42.993902: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcudnn.so.8
2022-02-28 17:41:43.305956: I tensorflow/stream_executor/cuda/cuda_dnn.cc:359] Loaded cuDNN version 8101
2022-02-28 17:41:43.787015: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcublas.so.11
2022-02-28 17:41:44.068827: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcublasLt.so.11
240/240 [==============================] - 146s 532ms/step - loss: 0.8392 - tp0.1: 8747285.0000 - fp0.1: 10445142.0000 - tn0.1: 57962008.0000 - fn0.1: 1488778.0000 - precision0.1: 0.4558 - recall0.1: 0.8546 - tp0.3: 7896000.0000 - fp0.3
: 5233157.0000 - tn0.3: 63173976.0000 - fn0.3: 2340063.0000 - precision0.3: 0.6014 - recall0.3: 0.7714 - tp0.5: 6575708.0000 - fp0.5: 2263621.0000 - tn0.5: 66143520.0000 - fn0.5: 3660355.0000 - precision0.5: 0.7439 - recall0.5: 0.6424 -
 tp0.7: 5154156.0000 - fp0.7: 920133.0000 - tn0.7: 67487000.0000 - fn0.7: 5081907.0000 - precision0.7: 0.8485 - recall0.7: 0.5035 - tp0.9: 3283109.0000 - fp0.9: 213358.0000 - tn0.9: 68193792.0000 - fn0.9: 6952954.0000 - precision0.9: 0.
9390 - recall0.9: 0.3207 - accuracy: 0.9247 - auc: 0.9073 - f1: 0.6894 - val_loss: 1.7768 - val_tp0.1: 2543119.0000 - val_fp0.1: 9378664.0000 - val_tn0.1: 7559641.0000 - val_fn0.1: 179376.0000 - val_precision0.1: 0.2133 - val_recall0.1:
 0.9341 - val_tp0.3: 2504900.0000 - val_fp0.3: 7161614.0000 - val_tn0.3: 9776691.0000 - val_fn0.3: 217595.0000 - val_precision0.3: 0.2591 - val_recall0.3: 0.9201 - val_tp0.5: 2470794.0000 - val_fp0.5: 5614724.0000 - val_tn0.5: 11323581.
0000 - val_fn0.5: 251701.0000 - val_precision0.5: 0.3056 - val_recall0.5: 0.9075 - val_tp0.7: 2416278.0000 - val_fp0.7: 4187348.0000 - val_tn0.7: 12750957.0000 - val_fn0.7: 306217.0000 - val_precision0.7: 0.3659 - val_recall0.7: 0.8875
- val_tp0.9: 2331726.0000 - val_fp0.9: 2968486.0000 - val_tn0.9: 13969819.0000 - val_fn0.9: 390769.0000 - val_precision0.9: 0.4399 - val_recall0.9: 0.8565 - val_accuracy: 0.7016 - val_auc: 0.8807 - val_f1: 0.4572

...

Epoch 100/100
240/240 [==============================] - 124s 515ms/step - loss: 0.0941 - tp0.1: 10073753.0000 - fp0.1: 1908290.0000 - tn0.1: 66498824.0000 - fn0.1: 162310.0000 - precision0.1: 0.8407 - recall0.1: 0.9841 - tp0.3: 9929412.0000 - fp0.3:
 1163791.0000 - tn0.3: 67243336.0000 - fn0.3: 306651.0000 - precision0.3: 0.8951 - recall0.3: 0.9700 - tp0.5: 9693885.0000 - fp0.5: 672284.0000 - tn0.5: 67734840.0000 - fn0.5: 542178.0000 - precision0.5: 0.9351 - recall0.5: 0.9470 - tp0
.7: 9345709.0000 - fp0.7: 339542.0000 - tn0.7: 68067608.0000 - fn0.7: 890354.0000 - precision0.7: 0.9649 - recall0.7: 0.9130 - tp0.9: 8608433.0000 - fp0.9: 86583.0000 - tn0.9: 68320560.0000 - fn0.9: 1627630.0000 - precision0.9: 0.9900 -
 recall0.9: 0.8410 - accuracy: 0.9846 - auc: 0.9912 - f1: 0.9411 - val_loss: 0.1372 - val_tp0.1: 2648989.0000 - val_fp0.1: 600014.0000 - val_tn0.1: 16338291.0000 - val_fn0.1: 73506.0000 - val_precision0.1: 0.8153 - val_recall0.1: 0.9730
 - val_tp0.3: 2604739.0000 - val_fp0.3: 372047.0000 - val_tn0.3: 16566258.0000 - val_fn0.3: 117756.0000 - val_precision0.3: 0.8750 - val_recall0.3: 0.9567 - val_tp0.5: 2542400.0000 - val_fp0.5: 225996.0000 - val_tn0.5: 16712309.0000 - v
al_fn0.5: 180095.0000 - val_precision0.5: 0.9184 - val_recall0.5: 0.9338 - val_tp0.7: 2459692.0000 - val_fp0.7: 126768.0000 - val_tn0.7: 16811536.0000 - val_fn0.7: 262803.0000 - val_precision0.7: 0.9510 - val_recall0.7: 0.9035 - val_tp0
.9: 2288921.0000 - val_fp0.9: 43449.0000 - val_tn0.9: 16894856.0000 - val_fn0.9: 433574.0000 - val_precision0.9: 0.9814 - val_recall0.9: 0.8407 - val_accuracy: 0.9793 - val_auc: 0.9849 - val_f1: 0.9260
2022-02-28 21:13:24.522272: W tensorflow/python/util/util.cc:348] Sets are not currently considered sequences, but this may change in the future, so consider avoiding using them.
2022/02/28 21:13:37 INFO mlflow.projects: === Run (ID 'fe81d71c52404ed790b3a32051258da9') succeeded ===
(tf) [ye53nis@node128 drmed-git]$
</pre>
</details>
<ul class="org-ul">
<li>name of run: <code>fe81d71c52404ed790b3a32051258da9</code>
</li>
<li>metrics after 100th epoch:
<ul class="org-ul">
<li>precision<sub>val,0.5</sub>: 0.9184 - recall<sub>val,0.5</sub>: 0.9338 - f1<sub>val,0.5</sub>: 0.9260
</li>
<li>auc<sub>val</sub>: 0.9849
</li>
</ul>
</li>
</ul>
</li>

<li>run training of <code>(00f2635d9fa2463c9a066722163405be,
      d0a8e1748b194f3290d471b6b44f19f8)</code> with hparams from above

<div class="org-src-container">

<pre class="src src-tmux"><span style="color: #5e7837;">mlflow</span> <span style="color: #784437;">run</span> <span style="color: #513f78;">.</span> <span style="color: #3f7178;">-e</span> <span style="color: #5e7837;">main</span> <span style="color: #374478;">-P</span> <span style="color: #268bd2;">fluotracify_path</span>=<span style="color: #783778;">/beegfs/ye53nis/drmed-git/src/</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">batch_size</span>=<span style="color: #783778;">28</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">first_filters</span>=<span style="color: #513f78;">6</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">input_size</span>=<span style="color: #7e544f;">14000</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">lr_start</span>=<span style="color: #7a4f7e;">0.0553313915596308</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">lr_power</span>=<span style="color: #5e7837;">1</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">epochs</span>=<span style="color: #783778;">100</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">csv_path_train</span>=<span style="color: #374478;">/beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">csv_path_val</span>=<span style="color: #783f5a;">/beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">scaler</span>=<span style="color: #707e4f;">minmax</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">n_levels</span>=<span style="color: #783778;">5</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">pool_size</span>=<span style="color: #784437;">4</span>
</pre>
</div>
<details>
<pre class="example">
2022/03/01 01:02:32 INFO mlflow.projects.utils: === Created directory /tmp/tmpscsw8dai for downloading remote URIs passed to arguments of type 'path' ===
2022/03/01 01:02:32 INFO mlflow.projects.backend.local: === Running command 'source /cluster/miniconda3/bin/../etc/profile.d/conda.sh &amp;&amp; conda activate mlflow-eaf130b8edd83d20d4f1e0db4286dabd625893fe 1&gt;&amp;2 &amp;&amp; python src/fluotracify/train
ing/train.py --fluotracify_path /beegfs/ye53nis/drmed-git/src --batch_size 28 --input_size 14000 --lr_start 0.0553313915596308 --lr_power 1 --epochs 100 --csv_path_train /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets --csv_p
ath_val /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN --col_per_example 3 --scaler minmax --n_levels 5 --first_filters 6 --pool_size 4' in run with ID 'ff67be0b68e540a9a29a36a2d0c7a5be' ===
2022-03-01 01:02:49.062309: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcudart.so.11.0
2022-03-01 01:03:02,012 - train -  Python version: 3.9.6 (default, Jul 30 2021, 16:35:19)
[GCC 7.5.0]
2022-03-01 01:03:02,013 - train -  Tensorflow version: 2.5.0
2022-03-01 01:03:02,013 - train -  tf.keras version: 2.5.0
2022-03-01 01:03:02,013 - train -  Cudnn version: 8
2022-03-01 01:03:02,013 - train -  Cuda version: 11.2
2022-03-01 01:03:02.017849: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcuda.so.1
2022-03-01 01:03:02.070568: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1733] Found device 0 with properties:
pciBusID: 0000:82:00.0 name: Tesla P100-PCIE-16GB computeCapability: 6.0
coreClock: 1.3285GHz coreCount: 56 deviceMemorySize: 15.90GiB deviceMemoryBandwidth: 681.88GiB/s
2022-03-01 01:03:02.070675: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcudart.so.11.0
2022-03-01 01:03:02.081043: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcublas.so.11
2022-03-01 01:03:02.081139: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcublasLt.so.11
2022-03-01 01:03:02.085346: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcufft.so.10
2022-03-01 01:03:02.088350: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcurand.so.10
2022-03-01 01:03:02.097715: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcusolver.so.11
2022-03-01 01:03:02.100867: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcusparse.so.11
2022-03-01 01:03:02.103117: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcudnn.so.8
2022-03-01 01:03:02.106443: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1871] Adding visible gpu devices: 0
2022-03-01 01:03:02,106 - train -  GPUs: [PhysicalDevice(name='/physical_device:GPU:0', device_type='GPU')]. Trying to set memory growth to "True"...
2022-03-01 01:03:02,107 - train -  Setting memory growth successful.
2022-03-01 01:03:08,710 - train -  1/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/1.0/0.1/traces_brightclust_Nov2020_D1.0_set004.csv
2022-03-01 01:03:17,500 - train -  2/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.08/0.1/traces_brightclust_Nov2020_D0.08_set002.csv
2022-03-01 01:03:21,523 - train -  3/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.6/1.0/traces_brightclust_Nov2020_D0.6_set001.csv
2022-03-01 01:03:25,810 - train -  4/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/1.0/0.1/traces_brightclust_Nov2020_D1.0_set007.csv
2022-03-01 01:03:29,726 - train -  5/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/1.0/1.0/traces_brightclust_Nov2020_D1.0_set002.csv
2022-03-01 01:03:35,702 - train -  6/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/10/1.0/traces_brightclust_Nov2020_D10_set010.csv
2022-03-01 01:03:39,927 - train -  7/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/10/0.01/traces_brightclust_Nov2020_D10_set004.csv
2022-03-01 01:03:44,978 - train -  8/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/3.0/0.1/traces_brightclust_Nov2020_D3.0_set010.csv
2022-03-01 01:03:49,851 - train -  9/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.08/1.0/traces_brightclust_Nov2020_D0.08_set009.csv
2022-03-01 01:03:54,065 - train -  10/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.1/1.0/traces_brightclust_Nov2020_D0.1_set003.csv
2022-03-01 01:03:57,914 - train -  11/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.1/1.0/traces_brightclust_Nov2020_D0.1_set007.csv
2022-03-01 01:04:09,148 - train -  12/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/1.0/1.0/traces_brightclust_Nov2020_D1.0_set001.csv
2022-03-01 01:04:14,246 - train -  13/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/10/0.01/traces_brightclust_Nov2020_D10_set003.csv
2022-03-01 01:04:17,776 - train -  14/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.6/1.0/traces_brightclust_Nov2020_D0.6_set002.csv
2022-03-01 01:04:24,334 - train -  15/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/50/1.0/traces_brightclust_Nov2020_D50_set005.csv
2022-03-01 01:04:28,494 - train -  16/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.069/1.0/traces_brightclust_Nov2020_D0.069_set009.csv
2022-03-01 01:04:31,978 - train -  17/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/50/1.0/traces_brightclust_Nov2020_D50_set004.csv
2022-03-01 01:04:35,535 - train -  18/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.4/0.01/traces_brightclust_Nov2020_D0.4_set010.csv
2022-03-01 01:04:39,104 - train -  19/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.2/1.0/traces_brightclust_Nov2020_D0.2_set009.csv
2022-03-01 01:04:42,753 - train -  20/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/1.0/0.01/traces_brightclust_Nov2020_D1.0_set010.csv
2022-03-01 01:04:46,786 - train -  21/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.4/1.0/traces_brightclust_Nov2020_D0.4_set007.csv
2022-03-01 01:04:50,549 - train -  22/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.2/1.0/traces_brightclust_Nov2020_D0.2_set010.csv
2022-03-01 01:05:10,273 - train -  23/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/3.0/1.0/traces_brightclust_Nov2020_D3.0_set001.csv
2022-03-01 01:05:14,332 - train -  24/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.4/0.1/traces_brightclust_Nov2020_D0.4_set003.csv
2022-03-01 01:05:17,829 - train -  25/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/3.0/1.0/traces_brightclust_Nov2020_D3.0_set003.csv
2022-03-01 01:05:29,382 - train -  26/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.1/0.01/traces_brightclust_Nov2020_D0.1_set004.csv
2022-03-01 01:05:32,892 - train -  27/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.2/0.1/traces_brightclust_Nov2020_D0.2_set001.csv
2022-03-01 01:05:37,614 - train -  28/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.6/0.1/traces_brightclust_Nov2020_D0.6_set005.csv
2022-03-01 01:05:41,478 - train -  29/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.08/0.1/traces_brightclust_Nov2020_D0.08_set006.csv
2022-03-01 01:05:55,816 - train -  30/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.4/0.01/traces_brightclust_Nov2020_D0.4_set004.csv
2022-03-01 01:06:06,797 - train -  31/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/10/0.1/traces_brightclust_Nov2020_D10_set006.csv
2022-03-01 01:06:10,595 - train -  32/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.2/0.1/traces_brightclust_Nov2020_D0.2_set004.csv
2022-03-01 01:06:15,368 - train -  33/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/3.0/0.01/traces_brightclust_Nov2020_D3.0_set005.csv
2022-03-01 01:06:20,784 - train -  34/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.069/0.1/traces_brightclust_Nov2020_D0.069_set003.csv
2022-03-01 01:06:26,970 - train -  35/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.2/0.01/traces_brightclust_Nov2020_D0.2_set003.csv
2022-03-01 01:06:31,521 - train -  36/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/50/0.01/traces_brightclust_Nov2020_D50_set006.csv
2022-03-01 01:06:35,363 - train -  37/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.6/0.1/traces_brightclust_Nov2020_D0.6_set004.csv
2022-03-01 01:06:39,107 - train -  38/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.08/1.0/traces_brightclust_Nov2020_D0.08_set004.csv
2022-03-01 01:07:01,475 - train -  39/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.6/0.01/traces_brightclust_Nov2020_D0.6_set010.csv
2022-03-01 01:07:05,191 - train -  40/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/10/0.1/traces_brightclust_Nov2020_D10_set007.csv
2022-03-01 01:07:08,941 - train -  41/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.4/1.0/traces_brightclust_Nov2020_D0.4_set006.csv
2022-03-01 01:07:13,043 - train -  42/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.4/0.1/traces_brightclust_Nov2020_D0.4_set002.csv
2022-03-01 01:07:16,874 - train -  43/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.1/0.01/traces_brightclust_Nov2020_D0.1_set006.csv
2022-03-01 01:07:20,478 - train -  44/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/3.0/0.01/traces_brightclust_Nov2020_D3.0_set006.csv
2022-03-01 01:07:24,571 - train -  45/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/50/0.1/traces_brightclust_Nov2020_D50_set010.csv
2022-03-01 01:07:28,090 - train -  46/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.08/0.01/traces_brightclust_Nov2020_D0.08_set007.csv
2022-03-01 01:07:31,811 - train -  47/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.069/0.1/traces_brightclust_Nov2020_D0.069_set002.csv
2022-03-01 01:07:35,574 - train -  48/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/50/0.1/traces_brightclust_Nov2020_D50_set009.csv
2022-03-01 01:07:39,526 - train -  1/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/1.0/0.1/traces_brightclust_Nov2020_D1.0_set009.csv
2022-03-01 01:07:49,139 - train -  2/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/50/1.0/traces_brightclust_Nov2020_D50_set007.csv
2022-03-01 01:08:06,079 - train -  3/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/0.4/0.1/traces_brightclust_Nov2020_D0.4_set009.csv
2022-03-01 01:08:17,384 - train -  4/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/3.0/1.0/traces_brightclust_Nov2020_D3.0_set009.csv
2022-03-01 01:08:21,021 - train -  5/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/0.1/0.01/traces_brightclust_Nov2020_D0.1_set008.csv
2022-03-01 01:08:24,646 - train -  6/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/10/0.01/traces_brightclust_Nov2020_D10_set008.csv
2022-03-01 01:08:33,131 - train -  7/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/0.08/0.1/traces_brightclust_Nov2020_D0.08_set008.csv
2022-03-01 01:08:37,919 - train -  8/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/1.0/1.0/traces_brightclust_Nov2020_D1.0_set008.csv
2022-03-01 01:08:41,923 - train -  9/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/3.0/0.01/traces_brightclust_Nov2020_D3.0_set008.csv
2022-03-01 01:08:45,386 - train -  10/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/0.2/0.1/traces_brightclust_Nov2020_D0.2_set006.csv
2022-03-01 01:08:50,064 - train -  11/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/0.069/0.1/traces_brightclust_Nov2020_D0.069_set006.csv
2022-03-01 01:08:54,537 - train -  12/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/0.6/0.1/traces_brightclust_Nov2020_D0.6_set006.csv
2022-03-01 01:08:54,754 - train -  The given DataFrame was split into 3 parts with shapes: [(16384, 4800), (16384, 4800), (16384, 4800)]
2022-03-01 01:08:54,844 - train -  The given DataFrame was split into 3 parts with shapes: [(16384, 1200), (16384, 1200), (16384, 1200)]
2022-03-01 01:08:54.997694: I tensorflow/core/platform/cpu_feature_guard.cc:142] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operatio
ns:  AVX2 FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
2022-03-01 01:08:55.000062: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1733] Found device 0 with properties:
pciBusID: 0000:82:00.0 name: Tesla P100-PCIE-16GB computeCapability: 6.0
coreClock: 1.3285GHz coreCount: 56 deviceMemorySize: 15.90GiB deviceMemoryBandwidth: 681.88GiB/s
2022-03-01 01:08:55.002040: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1871] Adding visible gpu devices: 0
2022-03-01 01:08:55.002135: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcudart.so.11.0
2022-03-01 01:08:55.428415: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1258] Device interconnect StreamExecutor with strength 1 edge matrix:
2022-03-01 01:08:55.428487: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1264]      0
2022-03-01 01:08:55.428501: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1277] 0:   N
2022-03-01 01:08:55.431349: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1418] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 15403 MB memory) -&gt; physical GPU (device: 0, name: Tesla P100-PCIE-16GB, p
ci bus id: 0000:82:00.0, compute capability: 6.0)
2022-03-01 01:08:57,489 - train -  number of examples: 4800
2022-03-01 01:08:57,859 - train -  number of examples: 1200
2022-03-01 01:09:00,816 - train -  unet: input shape: (None, None, 1), output shape: (None, None, 1)
2022/03/01 01:09:00 WARNING mlflow.utils.autologging_utils: Encountered unexpected error during tensorflow autologging: Changing param values is not allowed. Param with key='batch_size' was already logged with value='28' for run ID='ff6
7be0b68e540a9a29a36a2d0c7a5be'. Attempted logging new value 'None'.
Epoch 1/100
2022-03-01 01:09:09.470355: I tensorflow/compiler/mlir/mlir_graph_optimization_pass.cc:176] None of the MLIR Optimization Passes are enabled (registered 2)
2022-03-01 01:09:09.627221: I tensorflow/core/platform/profile_utils/cpu_utils.cc:114] CPU Frequency: 2199895000 Hz
2022-03-01 01:09:19.253073: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcudnn.so.8
2022-03-01 01:09:19.568134: I tensorflow/stream_executor/cuda/cuda_dnn.cc:359] Loaded cuDNN version 8101
2022-03-01 01:09:20.032500: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcublas.so.11
2022-03-01 01:09:20.318967: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcublasLt.so.11
171/171 [==============================] - 38s 111ms/step - loss: 0.6328 - tp0.1: 9097064.0000 - fp0.1: 12967912.0000 - tn0.1: 55269208.0000 - fn0.1: 1112405.0000 - precision0.1: 0.4123 - recall0.1: 0.8910 - tp0.3: 8278749.0000 - fp0.3:
 7308225.0000 - tn0.3: 60928896.0000 - fn0.3: 1930720.0000 - precision0.3: 0.5311 - recall0.3: 0.8109 - tp0.5: 6546144.0000 - fp0.5: 2745102.0000 - tn0.5: 65492008.0000 - fn0.5: 3663325.0000 - precision0.5: 0.7045 - recall0.5: 0.6412 -
tp0.7: 5069917.0000 - fp0.7: 1036309.0000 - tn0.7: 67200816.0000 - fn0.7: 5139552.0000 - precision0.7: 0.8303 - recall0.7: 0.4966 - tp0.9: 2806365.0000 - fp0.9: 200542.0000 - tn0.9: 68036592.0000 - fn0.9: 7403104.0000 - precision0.9: 0.
9333 - recall0.9: 0.2749 - accuracy: 0.9183 - auc: 0.9138 - f1: 0.6714 - val_loss: 100.5511 - val_tp0.1: 2677947.0000 - val_fp0.1: 16589637.0000 - val_tn0.1: 0.0000e+00 - val_fn0.1: 0.0000e+00 - val_precision0.1: 0.1390 - val_recall0.1:
 1.0000 - val_tp0.3: 2677947.0000 - val_fp0.3: 16589563.0000 - val_tn0.3: 74.0000 - val_fn0.3: 0.0000e+00 - val_precision0.3: 0.1390 - val_recall0.3: 1.0000 - val_tp0.5: 2677947.0000 - val_fp0.5: 16589315.0000 - val_tn0.5: 322.0000 - va
l_fn0.5: 0.0000e+00 - val_precision0.5: 0.1390 - val_recall0.5: 1.0000 - val_tp0.7: 2677947.0000 - val_fp0.7: 16589042.0000 - val_tn0.7: 595.0000 - val_fn0.7: 0.0000e+00 - val_precision0.7: 0.1390 - val_recall0.7: 1.0000 - val_tp0.9: 26
77947.0000 - val_fp0.9: 16588561.0000 - val_tn0.9: 1076.0000 - val_fn0.9: 0.0000e+00 - val_precision0.9: 0.1390 - val_recall0.9: 1.0000 - val_accuracy: 0.1390 - val_auc: 0.5001 - val_f1: 0.2441

...

Epoch 100/100
171/171 [==============================] - 15s 89ms/step - loss: 0.0890 - tp0.1: 10079569.0000 - fp0.1: 1892418.0000 - tn0.1: 66332504.0000 - fn0.1: 142100.0000 - precision0.1: 0.8419 - recall0.1: 0.9861 - tp0.3: 9939857.0000 - fp0.3: 1
140232.0000 - tn0.3: 67084692.0000 - fn0.3: 281812.0000 - precision0.3: 0.8971 - recall0.3: 0.9724 - tp0.5: 9703286.0000 - fp0.5: 647685.0000 - tn0.5: 67577248.0000 - fn0.5: 518383.0000 - precision0.5: 0.9374 - recall0.5: 0.9493 - tp0.7
: 9385401.0000 - fp0.7: 340758.0000 - tn0.7: 67884160.0000 - fn0.7: 836268.0000 - precision0.7: 0.9650 - recall0.7: 0.9182 - tp0.9: 8688940.0000 - fp0.9: 89880.0000 - tn0.9: 68135024.0000 - fn0.9: 1532729.0000 - precision0.9: 0.9898 - r
ecall0.9: 0.8501 - accuracy: 0.9851 - auc: 0.9922 - f1: 0.9433 - val_loss: 0.1286 - val_tp0.1: 2593533.0000 - val_fp0.1: 546329.0000 - val_tn0.1: 16060347.0000 - val_fn0.1: 67375.0000 - val_precision0.1: 0.8260 - val_recall0.1: 0.9747 -
 val_tp0.3: 2548361.0000 - val_fp0.3: 333669.0000 - val_tn0.3: 16273007.0000 - val_fn0.3: 112547.0000 - val_precision0.3: 0.8842 - val_recall0.3: 0.9577 - val_tp0.5: 2492439.0000 - val_fp0.5: 208035.0000 - val_tn0.5: 16398641.0000 - val
_fn0.5: 168469.0000 - val_precision0.5: 0.9230 - val_recall0.5: 0.9367 - val_tp0.7: 2414912.0000 - val_fp0.7: 119511.0000 - val_tn0.7: 16487165.0000 - val_fn0.7: 245996.0000 - val_precision0.7: 0.9528 - val_recall0.7: 0.9076 - val_tp0.9
: 2250009.0000 - val_fp0.9: 39723.0000 - val_tn0.9: 16566953.0000 - val_fn0.9: 410899.0000 - val_precision0.9: 0.9827 - val_recall0.9: 0.8456 - val_accuracy: 0.9805 - val_auc: 0.9859 - val_f1: 0.9298
2022-03-01 01:40:07.449069: W tensorflow/python/util/util.cc:348] Sets are not currently considered sequences, but this may change in the future, so consider avoiding using them.
2022/03/01 01:40:21 INFO mlflow.projects: === Run (ID 'ff67be0b68e540a9a29a36a2d0c7a5be') succeeded ===

</pre>
</details>
<ul class="org-ul">
<li>name of run: <code>ff67be0b68e540a9a29a36a2d0c7a5be</code>
</li>
<li>metrics after 100th epoch:
<ul class="org-ul">
<li>loss: 0.0890 vs loss<sub>val</sub>: 0.1286
</li>
<li>precision<sub>val,0.5</sub>: 0.9230 - recall<sub>val,0.5</sub>: 0.9367 - f1<sub>val,0.5</sub>: 0.9298
</li>
<li>auc<sub>val</sub>: 0.9859
</li>
</ul>
</li>
</ul>
</li>

<li>run training of <code>(5604d43c1ece461b8e6eaa0dfb65d6dc,
      3612536a77f34f22bc83d1d809140aa6)</code> with hparams from above

<div class="org-src-container">

<pre class="src src-tmux"><span style="color: #5e7837;">mlflow</span> <span style="color: #784437;">run</span> <span style="color: #513f78;">.</span> <span style="color: #3f7178;">-e</span> <span style="color: #5e7837;">main</span> <span style="color: #374478;">-P</span> <span style="color: #268bd2;">fluotracify_path</span>=<span style="color: #783778;">/beegfs/ye53nis/drmed-git/src/</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">batch_size</span>=<span style="color: #513f78;">20</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">first_filters</span>=<span style="color: #7e544f;">128</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">input_size</span>=<span style="color: #7e544f;">14000</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">lr_start</span>=<span style="color: #7e544f;">0.043549707353273</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">lr_power</span>=<span style="color: #5e7837;">1</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">epochs</span>=<span style="color: #783778;">100</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">csv_path_train</span>=<span style="color: #374478;">/beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">csv_path_val</span>=<span style="color: #783f5a;">/beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">scaler</span>=<span style="color: #513f78;">standard</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">n_levels</span>=<span style="color: #7e544f;">3</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">pool_size</span>=<span style="color: #784437;">4</span>
</pre>
</div>
<details>
<pre class="example">
2022/03/01 12:32:44 INFO mlflow.projects.utils: === Created directory /tmp/tmpuaqmbl4a for downloading remote URIs passed to arguments of type 'path' ===
2022/03/01 12:32:44 INFO mlflow.projects.backend.local: === Running command 'source /cluster/miniconda3/bin/../etc/profile.d/conda.sh &amp;&amp; conda activate mlflow-eaf130b8edd83d20d4f1e0db4286dabd625893fe 1&gt;&amp;2 &amp;&amp; python src/fluotracify/train
ing/train.py --fluotracify_path /beegfs/ye53nis/drmed-git/src --batch_size 20 --input_size 14000 --lr_start 0.043549707353273 --lr_power 1 --epochs 100 --csv_path_train /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets --csv_pa
th_val /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN --col_per_example 3 --scaler standard --n_levels 3 --first_filters 128 --pool_size 4' in run with ID '19e3e786e1bc4e2b93856f5dc9de8216' ===
2022-03-01 12:32:58.514798: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcudart.so.11.0
2022-03-01 12:33:09,490 - train -  Python version: 3.9.6 (default, Jul 30 2021, 16:35:19)
[GCC 7.5.0]
2022-03-01 12:33:09,490 - train -  Tensorflow version: 2.5.0
2022-03-01 12:33:09,490 - train -  tf.keras version: 2.5.0
2022-03-01 12:33:09,490 - train -  Cudnn version: 8
2022-03-01 12:33:09,490 - train -  Cuda version: 11.2
2022-03-01 12:33:09.493303: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcuda.so.1
2022-03-01 12:33:09.550241: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1733] Found device 0 with properties:
pciBusID: 0000:82:00.0 name: Tesla P100-PCIE-16GB computeCapability: 6.0
coreClock: 1.3285GHz coreCount: 56 deviceMemorySize: 15.90GiB deviceMemoryBandwidth: 681.88GiB/s
2022-03-01 12:33:09.550350: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcudart.so.11.0
2022-03-01 12:33:09.561190: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcublas.so.11
2022-03-01 12:33:09.561299: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcublasLt.so.11
2022-03-01 12:33:09.565126: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcufft.so.10
2022-03-01 12:33:09.567931: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcurand.so.10
2022-03-01 12:33:09.576981: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcusolver.so.11
2022-03-01 12:33:09.597335: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcusparse.so.11
2022-03-01 12:33:09.599375: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcudnn.so.8
2022-03-01 12:33:09.602568: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1871] Adding visible gpu devices: 0
2022-03-01 12:33:09,602 - train -  GPUs: [PhysicalDevice(name='/physical_device:GPU:0', device_type='GPU')]. Trying to set memory growth to "True"...
2022-03-01 12:33:09,603 - train -  Setting memory growth successful.
2022-03-01 12:33:15,918 - train -  1/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/1.0/0.1/traces_brightclust_Nov2020_D1.0_set004.csv
2022-03-01 12:33:19,510 - train -  2/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.08/0.1/traces_brightclust_Nov2020_D0.08_set002.csv
2022-03-01 12:33:23,436 - train -  3/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.6/1.0/traces_brightclust_Nov2020_D0.6_set001.csv
2022-03-01 12:33:27,059 - train -  4/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/1.0/0.1/traces_brightclust_Nov2020_D1.0_set007.csv
2022-03-01 12:33:31,773 - train -  5/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/1.0/1.0/traces_brightclust_Nov2020_D1.0_set002.csv
2022-03-01 12:33:35,876 - train -  6/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/10/1.0/traces_brightclust_Nov2020_D10_set010.csv
2022-03-01 12:33:39,462 - train -  7/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/10/0.01/traces_brightclust_Nov2020_D10_set004.csv
2022-03-01 12:33:42,942 - train -  8/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/3.0/0.1/traces_brightclust_Nov2020_D3.0_set010.csv
2022-03-01 12:33:46,757 - train -  9/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.08/1.0/traces_brightclust_Nov2020_D0.08_set009.csv
2022-03-01 12:33:51,064 - train -  10/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.1/1.0/traces_brightclust_Nov2020_D0.1_set003.csv
2022-03-01 12:33:56,528 - train -  11/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.1/1.0/traces_brightclust_Nov2020_D0.1_set007.csv
2022-03-01 12:34:00,572 - train -  12/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/1.0/1.0/traces_brightclust_Nov2020_D1.0_set001.csv
2022-03-01 12:34:04,069 - train -  13/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/10/0.01/traces_brightclust_Nov2020_D10_set003.csv
2022-03-01 12:34:07,965 - train -  14/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.6/1.0/traces_brightclust_Nov2020_D0.6_set002.csv
2022-03-01 12:34:18,633 - train -  15/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/50/1.0/traces_brightclust_Nov2020_D50_set005.csv
2022-03-01 12:34:21,910 - train -  16/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.069/1.0/traces_brightclust_Nov2020_D0.069_set009.csv
2022-03-01 12:34:25,641 - train -  17/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/50/1.0/traces_brightclust_Nov2020_D50_set004.csv
2022-03-01 12:34:30,386 - train -  18/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.4/0.01/traces_brightclust_Nov2020_D0.4_set010.csv
2022-03-01 12:34:34,226 - train -  19/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.2/1.0/traces_brightclust_Nov2020_D0.2_set009.csv
2022-03-01 12:34:37,740 - train -  20/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/1.0/0.01/traces_brightclust_Nov2020_D1.0_set010.csv
2022-03-01 12:34:43,348 - train -  21/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.4/1.0/traces_brightclust_Nov2020_D0.4_set007.csv
2022-03-01 12:34:46,797 - train -  22/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.2/1.0/traces_brightclust_Nov2020_D0.2_set010.csv
2022-03-01 12:34:50,435 - train -  23/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/3.0/1.0/traces_brightclust_Nov2020_D3.0_set001.csv
2022-03-01 12:34:54,778 - train -  24/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.4/0.1/traces_brightclust_Nov2020_D0.4_set003.csv
2022-03-01 12:34:58,764 - train -  25/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/3.0/1.0/traces_brightclust_Nov2020_D3.0_set003.csv
2022-03-01 12:35:02,693 - train -  26/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.1/0.01/traces_brightclust_Nov2020_D0.1_set004.csv
2022-03-01 12:35:15,387 - train -  27/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.2/0.1/traces_brightclust_Nov2020_D0.2_set001.csv
2022-03-01 12:35:19,459 - train -  28/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.6/0.1/traces_brightclust_Nov2020_D0.6_set005.csv
2022-03-01 12:35:23,164 - train -  29/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.08/0.1/traces_brightclust_Nov2020_D0.08_set006.csv
2022-03-01 12:35:27,345 - train -  30/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.4/0.01/traces_brightclust_Nov2020_D0.4_set004.csv
2022-03-01 12:35:30,844 - train -  31/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/10/0.1/traces_brightclust_Nov2020_D10_set006.csv
2022-03-01 12:35:34,995 - train -  32/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.2/0.1/traces_brightclust_Nov2020_D0.2_set004.csv
2022-03-01 12:35:38,565 - train -  33/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/3.0/0.01/traces_brightclust_Nov2020_D3.0_set005.csv
2022-03-01 12:35:43,358 - train -  34/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.069/0.1/traces_brightclust_Nov2020_D0.069_set003.csv
2022-03-01 12:35:48,209 - train -  35/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.2/0.01/traces_brightclust_Nov2020_D0.2_set003.csv
2022-03-01 12:35:52,885 - train -  36/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/50/0.01/traces_brightclust_Nov2020_D50_set006.csv
2022-03-01 12:35:57,900 - train -  37/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.6/0.1/traces_brightclust_Nov2020_D0.6_set004.csv
2022-03-01 12:36:01,708 - train -  38/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.08/1.0/traces_brightclust_Nov2020_D0.08_set004.csv
2022-03-01 12:36:05,386 - train -  39/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.6/0.01/traces_brightclust_Nov2020_D0.6_set010.csv
2022-03-01 12:36:09,008 - train -  40/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/10/0.1/traces_brightclust_Nov2020_D10_set007.csv
2022-03-01 12:36:13,039 - train -  41/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.4/1.0/traces_brightclust_Nov2020_D0.4_set006.csv
2022-03-01 12:36:16,946 - train -  42/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.4/0.1/traces_brightclust_Nov2020_D0.4_set002.csv
2022-03-01 12:36:20,517 - train -  43/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.1/0.01/traces_brightclust_Nov2020_D0.1_set006.csv
2022-03-01 12:36:24,115 - train -  44/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/3.0/0.01/traces_brightclust_Nov2020_D3.0_set006.csv
2022-03-01 12:36:27,768 - train -  45/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/50/0.1/traces_brightclust_Nov2020_D50_set010.csv
2022-03-01 12:36:32,136 - train -  46/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.08/0.01/traces_brightclust_Nov2020_D0.08_set007.csv
2022-03-01 12:36:36,005 - train -  47/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.069/0.1/traces_brightclust_Nov2020_D0.069_set002.csv
2022-03-01 12:36:39,799 - train -  48/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/50/0.1/traces_brightclust_Nov2020_D50_set009.csv
2022-03-01 12:36:43,465 - train -  1/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/1.0/0.1/traces_brightclust_Nov2020_D1.0_set009.csv
2022-03-01 12:36:47,166 - train -  2/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/50/1.0/traces_brightclust_Nov2020_D50_set007.csv
2022-03-01 12:36:50,897 - train -  3/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/0.4/0.1/traces_brightclust_Nov2020_D0.4_set009.csv
2022-03-01 12:36:56,421 - train -  4/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/3.0/1.0/traces_brightclust_Nov2020_D3.0_set009.csv
2022-03-01 12:36:59,926 - train -  5/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/0.1/0.01/traces_brightclust_Nov2020_D0.1_set008.csv
2022-03-01 12:37:03,654 - train -  6/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/10/0.01/traces_brightclust_Nov2020_D10_set008.csv
2022-03-01 12:37:07,675 - train -  7/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/0.08/0.1/traces_brightclust_Nov2020_D0.08_set008.csv
2022-03-01 12:37:11,784 - train -  8/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/1.0/1.0/traces_brightclust_Nov2020_D1.0_set008.csv
2022-03-01 12:37:18,953 - train -  9/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/3.0/0.01/traces_brightclust_Nov2020_D3.0_set008.csv
2022-03-01 12:37:22,467 - train -  10/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/0.2/0.1/traces_brightclust_Nov2020_D0.2_set006.csv
2022-03-01 12:37:26,203 - train -  11/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/0.069/0.1/traces_brightclust_Nov2020_D0.069_set006.csv
2022-03-01 12:37:31,518 - train -  12/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/0.6/0.1/traces_brightclust_Nov2020_D0.6_set006.csv
2022-03-01 12:37:31,732 - train -  The given DataFrame was split into 3 parts with shapes: [(16384, 4800), (16384, 4800), (16384, 4800)]
2022-03-01 12:37:31,822 - train -  The given DataFrame was split into 3 parts with shapes: [(16384, 1200), (16384, 1200), (16384, 1200)]
2022-03-01 12:37:32.029003: I tensorflow/core/platform/cpu_feature_guard.cc:142] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operatio
ns:  AVX2 FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
2022-03-01 12:37:32.031379: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1733] Found device 0 with properties:
pciBusID: 0000:82:00.0 name: Tesla P100-PCIE-16GB computeCapability: 6.0
coreClock: 1.3285GHz coreCount: 56 deviceMemorySize: 15.90GiB deviceMemoryBandwidth: 681.88GiB/s
2022-03-01 12:37:32.033418: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1871] Adding visible gpu devices: 0
2022-03-01 12:37:32.033500: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcudart.so.11.0
2022-03-01 12:37:32.469006: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1258] Device interconnect StreamExecutor with strength 1 edge matrix:
2022-03-01 12:37:32.469079: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1264]      0
2022-03-01 12:37:32.469093: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1277] 0:   N
2022-03-01 12:37:32.471972: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1418] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 15403 MB memory) -&gt; physical GPU (device: 0, name: Tesla P100-PCIE-16GB, p
ci bus id: 0000:82:00.0, compute capability: 6.0)
2022-03-01 12:37:34,440 - train -  number of examples: 4800
2022-03-01 12:37:34,767 - train -  number of examples: 1200
2022-03-01 12:37:36,587 - train -  unet: input shape: (None, None, 1), output shape: (None, None, 1)
2022/03/01 12:37:36 WARNING mlflow.utils.autologging_utils: Encountered unexpected error during tensorflow autologging: Changing param values is not allowed. Param with key='batch_size' was already logged with value='20' for run ID='19e
3e786e1bc4e2b93856f5dc9de8216'. Attempted logging new value 'None'.
Epoch 1/100
2022-03-01 12:37:44.731191: I tensorflow/compiler/mlir/mlir_graph_optimization_pass.cc:176] None of the MLIR Optimization Passes are enabled (registered 2)
2022-03-01 12:37:44.863807: I tensorflow/core/platform/profile_utils/cpu_utils.cc:114] CPU Frequency: 2199895000 Hz
2022-03-01 12:37:53.275302: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcudnn.so.8
2022-03-01 12:37:53.580058: I tensorflow/stream_executor/cuda/cuda_dnn.cc:359] Loaded cuDNN version 8101
2022-03-01 12:37:54.077952: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcublas.so.11
2022-03-01 12:37:54.363640: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcublasLt.so.11
240/240 [==============================] - 220s 838ms/step - loss: 1.1221 - tp0.1: 8540565.0000 - fp0.1: 11192430.0000 - tn0.1: 57214708.0000 - fn0.1: 1695498.0000 - precision0.1: 0.4328 - recall0.1: 0.8344 - tp0.3: 7522117.0000 - fp0.3
: 4392113.0000 - tn0.3: 64015032.0000 - fn0.3: 2713946.0000 - precision0.3: 0.6314 - recall0.3: 0.7349 - tp0.5: 6672931.0000 - fp0.5: 2324779.0000 - tn0.5: 66082352.0000 - fn0.5: 3563132.0000 - precision0.5: 0.7416 - recall0.5: 0.6519 -
 tp0.7: 5275458.0000 - fp0.7: 916716.0000 - tn0.7: 67490392.0000 - fn0.7: 4960605.0000 - precision0.7: 0.8520 - recall0.7: 0.5154 - tp0.9: 3246371.0000 - fp0.9: 199829.0000 - tn0.9: 68207312.0000 - fn0.9: 6989692.0000 - precision0.9: 0.
9420 - recall0.9: 0.3172 - accuracy: 0.9251 - auc: 0.9067 - f1: 0.6939 - val_loss: 1.4857 - val_tp0.1: 978503.0000 - val_fp0.1: 435953.0000 - val_tn0.1: 16502352.0000 - val_fn0.1: 1743992.0000 - val_precision0.1: 0.6918 - val_recall0.1:
 0.3594 - val_tp0.3: 873592.0000 - val_fp0.3: 222905.0000 - val_tn0.3: 16715400.0000 - val_fn0.3: 1848903.0000 - val_precision0.3: 0.7967 - val_recall0.3: 0.3209 - val_tp0.5: 816820.0000 - val_fp0.5: 140072.0000 - val_tn0.5: 16798232.00
00 - val_fn0.5: 1905675.0000 - val_precision0.5: 0.8536 - val_recall0.5: 0.3000 - val_tp0.7: 747818.0000 - val_fp0.7: 84156.0000 - val_tn0.7: 16854148.0000 - val_fn0.7: 1974677.0000 - val_precision0.7: 0.8988 - val_recall0.7: 0.2747 - v
al_tp0.9: 619063.0000 - val_fp0.9: 32598.0000 - val_tn0.9: 16905708.0000 - val_fn0.9: 2103432.0000 - val_precision0.9: 0.9500 - val_recall0.9: 0.2274 - val_accuracy: 0.8959 - val_auc: 0.7267 - val_f1: 0.4440

...

Epoch 100/100
240/240 [==============================] - 197s 821ms/step - loss: 0.0929 - tp0.1: 10067403.0000 - fp0.1: 1713493.0000 - tn0.1: 66693648.0000 - fn0.1: 168660.0000 - precision0.1: 0.8546 - recall0.1: 0.9835 - tp0.3: 9949382.0000 - fp0.3:
 1087364.0000 - tn0.3: 67319792.0000 - fn0.3: 286681.0000 - precision0.3: 0.9015 - recall0.3: 0.9720 - tp0.5: 9760046.0000 - fp0.5: 690436.0000 - tn0.5: 67716696.0000 - fn0.5: 476017.0000 - precision0.5: 0.9339 - recall0.5: 0.9535 - tp0
.7: 9431582.0000 - fp0.7: 374056.0000 - tn0.7: 68033088.0000 - fn0.7: 804481.0000 - precision0.7: 0.9619 - recall0.7: 0.9214 - tp0.9: 8660415.0000 - fp0.9: 112381.0000 - tn0.9: 68294768.0000 - fn0.9: 1575648.0000 - precision0.9: 0.9872
- recall0.9: 0.8461 - accuracy: 0.9852 - auc: 0.9906 - f1: 0.9436 - val_loss: 0.2611 - val_tp0.1: 2521251.0000 - val_fp0.1: 602159.0000 - val_tn0.1: 16336146.0000 - val_fn0.1: 201244.0000 - val_precision0.1: 0.8072 - val_recall0.1: 0.92
61 - val_tp0.3: 2463263.0000 - val_fp0.3: 387212.0000 - val_tn0.3: 16551093.0000 - val_fn0.3: 259232.0000 - val_precision0.3: 0.8642 - val_recall0.3: 0.9048 - val_tp0.5: 2406415.0000 - val_fp0.5: 272305.0000 - val_tn0.5: 16666000.0000 -
 val_fn0.5: 316080.0000 - val_precision0.5: 0.8983 - val_recall0.5: 0.8839 - val_tp0.7: 2314277.0000 - val_fp0.7: 168490.0000 - val_tn0.7: 16769815.0000 - val_fn0.7: 408218.0000 - val_precision0.7: 0.9321 - val_recall0.7: 0.8501 - val_t
p0.9: 2130323.0000 - val_fp0.9: 72929.0000 - val_tn0.9: 16865376.0000 - val_fn0.9: 592172.0000 - val_precision0.9: 0.9669 - val_recall0.9: 0.7825 - val_accuracy: 0.9701 - val_auc: 0.9595 - val_f1: 0.8911
2022-03-01 18:11:37.935237: W tensorflow/python/util/util.cc:348] Sets are not currently considered sequences, but this may change in the future, so consider avoiding using them.
2022/03/01 18:11:48 INFO mlflow.projects: === Run (ID '19e3e786e1bc4e2b93856f5dc9de8216') succeeded ===

</pre>
</details>
<ul class="org-ul">
<li>name of run: <code>19e3e786e1bc4e2b93856f5dc9de8216</code>
</li>
<li>metrics after 100th epoch:
<ul class="org-ul">
<li>precision<sub>val,0.5</sub>: 0.8983 - recall<sub>val,0.5</sub>: 0.8839 - f1<sub>val,0.5</sub>: 0.8911
</li>
<li>auc<sub>val</sub>: 0.9595
</li>
</ul>
</li>
</ul>
</li>

<li>run training of <code>(7cafab027cdd4fc9bf20a43e989df510,
      16dff15d935f45e2a836b1f41b07b4e3)</code> with hparams from above

<div class="org-src-container">

<pre class="src src-tmux"><span style="color: #5e7837;">mlflow</span> <span style="color: #784437;">run</span> <span style="color: #513f78;">.</span> <span style="color: #3f7178;">-e</span> <span style="color: #5e7837;">main</span> <span style="color: #374478;">-P</span> <span style="color: #268bd2;">fluotracify_path</span>=<span style="color: #783778;">/beegfs/ye53nis/drmed-git/src/</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">batch_size</span>=<span style="color: #784437;">10</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">first_filters</span>=<span style="color: #707e4f;">16</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">input_size</span>=<span style="color: #7e544f;">14000</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">lr_start</span>=<span style="color: #7a4f7e;">0.0627676336651573</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">lr_power</span>=<span style="color: #5e7837;">1</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">epochs</span>=<span style="color: #783778;">100</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">csv_path_train</span>=<span style="color: #374478;">/beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">csv_path_val</span>=<span style="color: #783f5a;">/beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">scaler</span>=<span style="color: #784437;">robust</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">n_levels</span>=<span style="color: #783778;">5</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">pool_size</span>=<span style="color: #784437;">4</span>
</pre>
</div>
<details>
<pre class="example">
2022/03/01 19:36:22 INFO mlflow.projects.utils: === Created directory /tmp/tmpzbcp4g1j for downloading remote URIs passed to arguments of type 'path' ===
2022/03/01 19:36:22 INFO mlflow.projects.backend.local: === Running command 'source /cluster/miniconda3/bin/../etc/profile.d/conda.sh &amp;&amp; conda activate mlflow-eaf130b8edd83d20d4f1e0db4286dabd625893fe 1&gt;&amp;2 &amp;&amp; python src/fluotracify/train
ing/train.py --fluotracify_path /beegfs/ye53nis/drmed-git/src --batch_size 10 --input_size 14000 --lr_start 0.0627676336651573 --lr_power 1 --epochs 100 --csv_path_train /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets --csv_p
ath_val /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN --col_per_example 3 --scaler robust --n_levels 5 --first_filters 16 --pool_size 4' in run with ID '347669d050f344ad9fb9e480c814f727' ===
2022-03-01 19:36:34.348943: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcudart.so.11.0
2022-03-01 19:36:46,433 - train -  Python version: 3.9.6 (default, Jul 30 2021, 16:35:19)
[GCC 7.5.0]
2022-03-01 19:36:46,434 - train -  Tensorflow version: 2.5.0
2022-03-01 19:36:46,434 - train -  tf.keras version: 2.5.0
2022-03-01 19:36:46,434 - train -  Cudnn version: 8
2022-03-01 19:36:46,434 - train -  Cuda version: 11.2
2022-03-01 19:36:46.437417: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcuda.so.1
2022-03-01 19:36:46.506267: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1733] Found device 0 with properties:
pciBusID: 0000:82:00.0 name: Tesla P100-PCIE-16GB computeCapability: 6.0
coreClock: 1.3285GHz coreCount: 56 deviceMemorySize: 15.90GiB deviceMemoryBandwidth: 681.88GiB/s
2022-03-01 19:36:46.506409: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcudart.so.11.0
2022-03-01 19:36:46.516098: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcublas.so.11
2022-03-01 19:36:46.516211: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcublasLt.so.11
2022-03-01 19:36:46.519627: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcufft.so.10
2022-03-01 19:36:46.522117: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcurand.so.10
2022-03-01 19:36:46.531350: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcusolver.so.11
2022-03-01 19:36:46.534380: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcusparse.so.11
2022-03-01 19:36:46.536313: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcudnn.so.8
2022-03-01 19:36:46.539533: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1871] Adding visible gpu devices: 0
2022-03-01 19:36:46,539 - train -  GPUs: [PhysicalDevice(name='/physical_device:GPU:0', device_type='GPU')]. Trying to set memory growth to "True"...
2022-03-01 19:36:46,540 - train -  Setting memory growth successful.
2022-03-01 19:36:53,495 - train -  1/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/1.0/0.1/traces_brightclust_Nov2020_D1.0_set004.csv
2022-03-01 19:36:59,518 - train -  2/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.08/0.1/traces_brightclust_Nov2020_D0.08_set002.csv
2022-03-01 19:37:03,152 - train -  3/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.6/1.0/traces_brightclust_Nov2020_D0.6_set001.csv
2022-03-01 19:37:06,774 - train -  4/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/1.0/0.1/traces_brightclust_Nov2020_D1.0_set007.csv
2022-03-01 19:37:10,319 - train -  5/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/1.0/1.0/traces_brightclust_Nov2020_D1.0_set002.csv
2022-03-01 19:37:16,051 - train -  6/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/10/1.0/traces_brightclust_Nov2020_D10_set010.csv
2022-03-01 19:37:20,347 - train -  7/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/10/0.01/traces_brightclust_Nov2020_D10_set004.csv
2022-03-01 19:37:28,839 - train -  8/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/3.0/0.1/traces_brightclust_Nov2020_D3.0_set010.csv
2022-03-01 19:37:32,240 - train -  9/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.08/1.0/traces_brightclust_Nov2020_D0.08_set009.csv
2022-03-01 19:37:36,494 - train -  10/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.1/1.0/traces_brightclust_Nov2020_D0.1_set003.csv
2022-03-01 19:37:40,435 - train -  11/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.1/1.0/traces_brightclust_Nov2020_D0.1_set007.csv
2022-03-01 19:37:45,646 - train -  12/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/1.0/1.0/traces_brightclust_Nov2020_D1.0_set001.csv
2022-03-01 19:37:49,090 - train -  13/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/10/0.01/traces_brightclust_Nov2020_D10_set003.csv
2022-03-01 19:37:53,145 - train -  14/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.6/1.0/traces_brightclust_Nov2020_D0.6_set002.csv
2022-03-01 19:37:56,818 - train -  15/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/50/1.0/traces_brightclust_Nov2020_D50_set005.csv
2022-03-01 19:38:00,166 - train -  16/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.069/1.0/traces_brightclust_Nov2020_D0.069_set009.csv
2022-03-01 19:38:03,643 - train -  17/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/50/1.0/traces_brightclust_Nov2020_D50_set004.csv
2022-03-01 19:38:07,281 - train -  18/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.4/0.01/traces_brightclust_Nov2020_D0.4_set010.csv
2022-03-01 19:38:10,928 - train -  19/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.2/1.0/traces_brightclust_Nov2020_D0.2_set009.csv
2022-03-01 19:38:14,614 - train -  20/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/1.0/0.01/traces_brightclust_Nov2020_D1.0_set010.csv
2022-03-01 19:38:18,136 - train -  21/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.4/1.0/traces_brightclust_Nov2020_D0.4_set007.csv
2022-03-01 19:38:21,832 - train -  22/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.2/1.0/traces_brightclust_Nov2020_D0.2_set010.csv
2022-03-01 19:38:27,731 - train -  23/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/3.0/1.0/traces_brightclust_Nov2020_D3.0_set001.csv
2022-03-01 19:38:31,406 - train -  24/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.4/0.1/traces_brightclust_Nov2020_D0.4_set003.csv
2022-03-01 19:38:34,819 - train -  25/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/3.0/1.0/traces_brightclust_Nov2020_D3.0_set003.csv
2022-03-01 19:38:38,249 - train -  26/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.1/0.01/traces_brightclust_Nov2020_D0.1_set004.csv
2022-03-01 19:38:41,695 - train -  27/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.2/0.1/traces_brightclust_Nov2020_D0.2_set001.csv
2022-03-01 19:38:45,025 - train -  28/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.6/0.1/traces_brightclust_Nov2020_D0.6_set005.csv
2022-03-01 19:38:48,758 - train -  29/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.08/0.1/traces_brightclust_Nov2020_D0.08_set006.csv
2022-03-01 19:38:52,913 - train -  30/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.4/0.01/traces_brightclust_Nov2020_D0.4_set004.csv
2022-03-01 19:38:56,358 - train -  31/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/10/0.1/traces_brightclust_Nov2020_D10_set006.csv
2022-03-01 19:39:00,987 - train -  32/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.2/0.1/traces_brightclust_Nov2020_D0.2_set004.csv
2022-03-01 19:39:04,634 - train -  33/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/3.0/0.01/traces_brightclust_Nov2020_D3.0_set005.csv
2022-03-01 19:39:08,400 - train -  34/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.069/0.1/traces_brightclust_Nov2020_D0.069_set003.csv
2022-03-01 19:39:11,867 - train -  35/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.2/0.01/traces_brightclust_Nov2020_D0.2_set003.csv
2022-03-01 19:39:15,951 - train -  36/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/50/0.01/traces_brightclust_Nov2020_D50_set006.csv
2022-03-01 19:39:19,638 - train -  37/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.6/0.1/traces_brightclust_Nov2020_D0.6_set004.csv
2022-03-01 19:39:23,207 - train -  38/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.08/1.0/traces_brightclust_Nov2020_D0.08_set004.csv
2022-03-01 19:39:30,739 - train -  39/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.6/0.01/traces_brightclust_Nov2020_D0.6_set010.csv
2022-03-01 19:39:34,471 - train -  40/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/10/0.1/traces_brightclust_Nov2020_D10_set007.csv
2022-03-01 19:39:38,619 - train -  41/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.4/1.0/traces_brightclust_Nov2020_D0.4_set006.csv
2022-03-01 19:39:42,300 - train -  42/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.4/0.1/traces_brightclust_Nov2020_D0.4_set002.csv
2022-03-01 19:39:45,973 - train -  43/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.1/0.01/traces_brightclust_Nov2020_D0.1_set006.csv
2022-03-01 19:39:49,635 - train -  44/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/3.0/0.01/traces_brightclust_Nov2020_D3.0_set006.csv
2022-03-01 19:39:53,835 - train -  45/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/50/0.1/traces_brightclust_Nov2020_D50_set010.csv
2022-03-01 19:39:57,292 - train -  46/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.08/0.01/traces_brightclust_Nov2020_D0.08_set007.csv
2022-03-01 19:40:01,084 - train -  47/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.069/0.1/traces_brightclust_Nov2020_D0.069_set002.csv
2022-03-01 19:40:04,949 - train -  48/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/50/0.1/traces_brightclust_Nov2020_D50_set009.csv
2022-03-01 19:40:08,522 - train -  1/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/1.0/0.1/traces_brightclust_Nov2020_D1.0_set009.csv
2022-03-01 19:40:11,907 - train -  2/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/50/1.0/traces_brightclust_Nov2020_D50_set007.csv
2022-03-01 19:40:15,721 - train -  3/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/0.4/0.1/traces_brightclust_Nov2020_D0.4_set009.csv
2022-03-01 19:40:19,221 - train -  4/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/3.0/1.0/traces_brightclust_Nov2020_D3.0_set009.csv
2022-03-01 19:40:22,982 - train -  5/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/0.1/0.01/traces_brightclust_Nov2020_D0.1_set008.csv
2022-03-01 19:40:26,520 - train -  6/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/10/0.01/traces_brightclust_Nov2020_D10_set008.csv
2022-03-01 19:40:30,083 - train -  7/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/0.08/0.1/traces_brightclust_Nov2020_D0.08_set008.csv
2022-03-01 19:40:33,515 - train -  8/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/1.0/1.0/traces_brightclust_Nov2020_D1.0_set008.csv
2022-03-01 19:40:36,862 - train -  9/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/3.0/0.01/traces_brightclust_Nov2020_D3.0_set008.csv
2022-03-01 19:40:40,692 - train -  10/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/0.2/0.1/traces_brightclust_Nov2020_D0.2_set006.csv
2022-03-01 19:40:44,478 - train -  11/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/0.069/0.1/traces_brightclust_Nov2020_D0.069_set006.csv
2022-03-01 19:40:47,736 - train -  12/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/0.6/0.1/traces_brightclust_Nov2020_D0.6_set006.csv
2022-03-01 19:40:47,939 - train -  The given DataFrame was split into 3 parts with shapes: [(16384, 4800), (16384, 4800), (16384, 4800)]
2022-03-01 19:40:48,032 - train -  The given DataFrame was split into 3 parts with shapes: [(16384, 1200), (16384, 1200), (16384, 1200)]
2022-03-01 19:40:48.195482: I tensorflow/core/platform/cpu_feature_guard.cc:142] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operatio
ns:  AVX2 FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
2022-03-01 19:40:48.198562: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1733] Found device 0 with properties:
pciBusID: 0000:82:00.0 name: Tesla P100-PCIE-16GB computeCapability: 6.0
coreClock: 1.3285GHz coreCount: 56 deviceMemorySize: 15.90GiB deviceMemoryBandwidth: 681.88GiB/s
2022-03-01 19:40:48.200594: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1871] Adding visible gpu devices: 0
2022-03-01 19:40:48.200695: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcudart.so.11.0
2022-03-01 19:40:48.635293: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1258] Device interconnect StreamExecutor with strength 1 edge matrix:
2022-03-01 19:40:48.635366: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1264]      0
2022-03-01 19:40:48.635382: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1277] 0:   N
2022-03-01 19:40:48.638373: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1418] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 15403 MB memory) -&gt; physical GPU (device: 0, name: Tesla P100-PCIE-16GB, p
ci bus id: 0000:82:00.0, compute capability: 6.0)
2022-03-01 19:40:51,863 - train -  number of examples: 4800
2022-03-01 19:40:52,254 - train -  number of examples: 1200
2022-03-01 19:40:54,716 - train -  unet: input shape: (None, None, 1), output shape: (None, None, 1)
2022/03/01 19:40:54 WARNING mlflow.utils.autologging_utils: Encountered unexpected error during tensorflow autologging: Changing param values is not allowed. Param with key='batch_size' was already logged with value='10' for run ID='347
669d050f344ad9fb9e480c814f727'. Attempted logging new value 'None'.
Epoch 1/100
2022-03-01 19:41:04.464586: I tensorflow/compiler/mlir/mlir_graph_optimization_pass.cc:176] None of the MLIR Optimization Passes are enabled (registered 2)
2022-03-01 19:41:04.627492: I tensorflow/core/platform/profile_utils/cpu_utils.cc:114] CPU Frequency: 2199895000 Hz
2022-03-01 19:41:14.720330: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcudnn.so.8
2022-03-01 19:41:15.055044: I tensorflow/stream_executor/cuda/cuda_dnn.cc:359] Loaded cuDNN version 8101
2022-03-01 19:41:15.546433: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcublas.so.11
2022-03-01 19:41:15.832893: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcublasLt.so.11
480/480 [==============================] - 60s 82ms/step - loss: 0.5773 - tp0.1: 8880905.0000 - fp0.1: 10094803.0000 - tn0.1: 58312352.0000 - fn0.1: 1355158.0000 - precision0.1: 0.4680 - recall0.1: 0.8676 - tp0.3: 7871045.0000 - fp0.3:
4514511.0000 - tn0.3: 63892572.0000 - fn0.3: 2365018.0000 - precision0.3: 0.6355 - recall0.3: 0.7690 - tp0.5: 6608273.0000 - fp0.5: 1693677.0000 - tn0.5: 66713460.0000 - fn0.5: 3627790.0000 - precision0.5: 0.7960 - recall0.5: 0.6456 - t
p0.7: 5575527.0000 - fp0.7: 626556.0000 - tn0.7: 67780600.0000 - fn0.7: 4660536.0000 - precision0.7: 0.8990 - recall0.7: 0.5447 - tp0.9: 4341516.0000 - fp0.9: 163073.0000 - tn0.9: 68244088.0000 - fn0.9: 5894547.0000 - precision0.9: 0.96
38 - recall0.9: 0.4241 - accuracy: 0.9323 - auc: 0.9124 - f1: 0.7129 - val_loss: 0.6884 - val_tp0.1: 2348236.0000 - val_fp0.1: 3299237.0000 - val_tn0.1: 13639068.0000 - val_fn0.1: 374259.0000 - val_precision0.1: 0.4158 - val_recall0.1:
0.8625 - val_tp0.3: 2180062.0000 - val_fp0.3: 2146157.0000 - val_tn0.3: 14792148.0000 - val_fn0.3: 542433.0000 - val_precision0.3: 0.5039 - val_recall0.3: 0.8008 - val_tp0.5: 1966718.0000 - val_fp0.5: 1074503.0000 - val_tn0.5: 15863802.
0000 - val_fn0.5: 755777.0000 - val_precision0.5: 0.6467 - val_recall0.5: 0.7224 - val_tp0.7: 1647155.0000 - val_fp0.7: 270297.0000 - val_tn0.7: 16668008.0000 - val_fn0.7: 1075340.0000 - val_precision0.7: 0.8590 - val_recall0.7: 0.6050
- val_tp0.9: 1346781.0000 - val_fp0.9: 48532.0000 - val_tn0.9: 16889772.0000 - val_fn0.9: 1375714.0000 - val_precision0.9: 0.9652 - val_recall0.9: 0.4947 - val_accuracy: 0.9069 - val_auc: 0.8983 - val_f1: 0.6824

...

Epoch 100/100
480/480 [==============================] - 36s 75ms/step - loss: 0.0973 - tp0.1: 10083866.0000 - fp0.1: 2150370.0000 - tn0.1: 66256776.0000 - fn0.1: 152197.0000 - precision0.1: 0.8242 - recall0.1: 0.9851 - tp0.3: 9911194.0000 - fp0.3: 1
217280.0000 - tn0.3: 67189872.0000 - fn0.3: 324869.0000 - precision0.3: 0.8906 - recall0.3: 0.9683 - tp0.5: 9675199.0000 - fp0.5: 716243.0000 - tn0.5: 67690904.0000 - fn0.5: 560864.0000 - precision0.5: 0.9311 - recall0.5: 0.9452 - tp0.7
: 9261235.0000 - fp0.7: 330050.0000 - tn0.7: 68077096.0000 - fn0.7: 974828.0000 - precision0.7: 0.9656 - recall0.7: 0.9048 - tp0.9: 8585163.0000 - fp0.9: 94613.0000 - tn0.9: 68312512.0000 - fn0.9: 1650900.0000 - precision0.9: 0.9891 - r
ecall0.9: 0.8387 - accuracy: 0.9838 - auc: 0.9915 - f1: 0.9381 - val_loss: 0.1400 - val_tp0.1: 2648521.0000 - val_fp0.1: 631749.0000 - val_tn0.1: 16306556.0000 - val_fn0.1: 73974.0000 - val_precision0.1: 0.8074 - val_recall0.1: 0.9728 -
 val_tp0.3: 2586061.0000 - val_fp0.3: 344848.0000 - val_tn0.3: 16593457.0000 - val_fn0.3: 136434.0000 - val_precision0.3: 0.8823 - val_recall0.3: 0.9499 - val_tp0.5: 2514973.0000 - val_fp0.5: 202882.0000 - val_tn0.5: 16735423.0000 - val
_fn0.5: 207522.0000 - val_precision0.5: 0.9254 - val_recall0.5: 0.9238 - val_tp0.7: 2409626.0000 - val_fp0.7: 97831.0000 - val_tn0.7: 16840474.0000 - val_fn0.7: 312869.0000 - val_precision0.7: 0.9610 - val_recall0.7: 0.8851 - val_tp0.9:
 2228029.0000 - val_fp0.9: 30092.0000 - val_tn0.9: 16908212.0000 - val_fn0.9: 494466.0000 - val_precision0.9: 0.9867 - val_recall0.9: 0.8184 - val_accuracy: 0.9791 - val_auc: 0.9848 - val_f1: 0.9246
2022-03-01 20:46:33.038541: W tensorflow/python/util/util.cc:348] Sets are not currently considered sequences, but this may change in the future, so consider avoiding using them.
2022/03/01 20:46:47 INFO mlflow.projects: === Run (ID '347669d050f344ad9fb9e480c814f727') succeeded ===

</pre>
</details>
<ul class="org-ul">
<li>name of run: <code>347669d050f344ad9fb9e480c814f727</code>
</li>
<li>metrics after 100th epoch:
<ul class="org-ul">
<li>precision<sub>val,0.5</sub>: 0.9254 - recall<sub>val,0.5</sub>: 0.9238 - f1<sub>val,0.5</sub>: 0.9246
</li>
<li>auc<sub>val</sub>: 0.9848
</li>
</ul>
</li>
</ul>
</li>

<li>run training of <code>(0e328920e86049928202db95e8cfb7be,
      bf9d2725eb16462d9a101f0a077ce2b5)</code> with hparams from above

<div class="org-src-container">

<pre class="src src-tmux"><span style="color: #5e7837;">mlflow</span> <span style="color: #784437;">run</span> <span style="color: #513f78;">.</span> <span style="color: #3f7178;">-e</span> <span style="color: #5e7837;">main</span> <span style="color: #374478;">-P</span> <span style="color: #268bd2;">fluotracify_path</span>=<span style="color: #783778;">/beegfs/ye53nis/drmed-git/src/</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">batch_size</span>=<span style="color: #707e4f;">14</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">first_filters</span>=<span style="color: #707e4f;">16</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">input_size</span>=<span style="color: #7e544f;">14000</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">lr_start</span>=<span style="color: #374478;">0.0192390310290551</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">lr_power</span>=<span style="color: #783778;">5</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">epochs</span>=<span style="color: #783778;">100</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">csv_path_train</span>=<span style="color: #374478;">/beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">csv_path_val</span>=<span style="color: #783f5a;">/beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">scaler</span>=<span style="color: #784437;">robust</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">n_levels</span>=<span style="color: #374478;">9</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">pool_size</span>=<span style="color: #78683f;">2</span>
</pre>
</div>
<details>
<pre class="example">
2022/03/01 22:12:06 INFO mlflow.projects.utils: === Created directory /tmp/tmpgcmidltj for downloading remote URIs passed to arguments of type 'path' ===
2022/03/01 22:12:06 INFO mlflow.projects.backend.local: === Running command 'source /cluster/miniconda3/bin/../etc/profile.d/conda.sh &amp;&amp; conda activate mlflow-eaf130b8edd83d20d4f1e0db4286dabd625893fe 1&gt;&amp;2 &amp;&amp; python src/fluotracify/train
ing/train.py --fluotracify_path /beegfs/ye53nis/drmed-git/src --batch_size 14 --input_size 14000 --lr_start 0.0192390310290551 --lr_power 5 --epochs 100 --csv_path_train /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets --csv_p
ath_val /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN --col_per_example 3 --scaler robust --n_levels 9 --first_filters 16 --pool_size 2' in run with ID 'c1204e3a8a1e4c40a35b5b7b1922d1ce' ===
2022-03-01 22:12:20.335142: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcudart.so.11.0
2022-03-01 22:12:33,450 - train -  Python version: 3.9.6 (default, Jul 30 2021, 16:35:19)
[GCC 7.5.0]
2022-03-01 22:12:33,451 - train -  Tensorflow version: 2.5.0
2022-03-01 22:12:33,451 - train -  tf.keras version: 2.5.0
2022-03-01 22:12:33,451 - train -  Cudnn version: 8
2022-03-01 22:12:33,451 - train -  Cuda version: 11.2
2022-03-01 22:12:33.453876: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcuda.so.1
2022-03-01 22:12:33.508402: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1733] Found device 0 with properties:
pciBusID: 0000:82:00.0 name: Tesla P100-PCIE-16GB computeCapability: 6.0
coreClock: 1.3285GHz coreCount: 56 deviceMemorySize: 15.90GiB deviceMemoryBandwidth: 681.88GiB/s
2022-03-01 22:12:33.508543: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcudart.so.11.0
2022-03-01 22:12:33.518297: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcublas.so.11
2022-03-01 22:12:33.518392: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcublasLt.so.11
2022-03-01 22:12:33.521775: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcufft.so.10
2022-03-01 22:12:33.523563: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcurand.so.10
2022-03-01 22:12:33.532074: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcusolver.so.11
2022-03-01 22:12:33.534870: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcusparse.so.11
2022-03-01 22:12:33.536502: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcudnn.so.8
2022-03-01 22:12:33.539631: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1871] Adding visible gpu devices: 0
2022-03-01 22:12:33,539 - train -  GPUs: [PhysicalDevice(name='/physical_device:GPU:0', device_type='GPU')]. Trying to set memory growth to "True"...
2022-03-01 22:12:33,540 - train -  Setting memory growth successful.
2022-03-01 22:12:39,562 - train -  1/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/1.0/0.1/traces_brightclust_Nov2020_D1.0_set004.csv
2022-03-01 22:12:42,849 - train -  2/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.08/0.1/traces_brightclust_Nov2020_D0.08_set002.csv
2022-03-01 22:12:46,207 - train -  3/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.6/1.0/traces_brightclust_Nov2020_D0.6_set001.csv
2022-03-01 22:12:50,855 - train -  4/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/1.0/0.1/traces_brightclust_Nov2020_D1.0_set007.csv
2022-03-01 22:12:55,527 - train -  5/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/1.0/1.0/traces_brightclust_Nov2020_D1.0_set002.csv
2022-03-01 22:12:58,713 - train -  6/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/10/1.0/traces_brightclust_Nov2020_D10_set010.csv
2022-03-01 22:13:02,325 - train -  7/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/10/0.01/traces_brightclust_Nov2020_D10_set004.csv
2022-03-01 22:13:05,461 - train -  8/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/3.0/0.1/traces_brightclust_Nov2020_D3.0_set010.csv
2022-03-01 22:13:08,927 - train -  9/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.08/1.0/traces_brightclust_Nov2020_D0.08_set009.csv
2022-03-01 22:13:14,609 - train -  10/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.1/1.0/traces_brightclust_Nov2020_D0.1_set003.csv
2022-03-01 22:13:17,983 - train -  11/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.1/1.0/traces_brightclust_Nov2020_D0.1_set007.csv
2022-03-01 22:13:21,031 - train -  12/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/1.0/1.0/traces_brightclust_Nov2020_D1.0_set001.csv
2022-03-01 22:13:24,219 - train -  13/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/10/0.01/traces_brightclust_Nov2020_D10_set003.csv
2022-03-01 22:13:27,321 - train -  14/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.6/1.0/traces_brightclust_Nov2020_D0.6_set002.csv
2022-03-01 22:13:30,784 - train -  15/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/50/1.0/traces_brightclust_Nov2020_D50_set005.csv
2022-03-01 22:13:34,829 - train -  16/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.069/1.0/traces_brightclust_Nov2020_D0.069_set009.csv
2022-03-01 22:13:38,078 - train -  17/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/50/1.0/traces_brightclust_Nov2020_D50_set004.csv
2022-03-01 22:13:41,302 - train -  18/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.4/0.01/traces_brightclust_Nov2020_D0.4_set010.csv
2022-03-01 22:13:45,845 - train -  19/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.2/1.0/traces_brightclust_Nov2020_D0.2_set009.csv
2022-03-01 22:13:49,546 - train -  20/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/1.0/0.01/traces_brightclust_Nov2020_D1.0_set010.csv
2022-03-01 22:13:53,591 - train -  21/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.4/1.0/traces_brightclust_Nov2020_D0.4_set007.csv
2022-03-01 22:13:56,776 - train -  22/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.2/1.0/traces_brightclust_Nov2020_D0.2_set010.csv
2022-03-01 22:14:00,326 - train -  23/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/3.0/1.0/traces_brightclust_Nov2020_D3.0_set001.csv
2022-03-01 22:14:03,666 - train -  24/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.4/0.1/traces_brightclust_Nov2020_D0.4_set003.csv
2022-03-01 22:14:06,840 - train -  25/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/3.0/1.0/traces_brightclust_Nov2020_D3.0_set003.csv
2022-03-01 22:14:12,440 - train -  26/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.1/0.01/traces_brightclust_Nov2020_D0.1_set004.csv
2022-03-01 22:14:15,561 - train -  27/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.2/0.1/traces_brightclust_Nov2020_D0.2_set001.csv
2022-03-01 22:14:18,839 - train -  28/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.6/0.1/traces_brightclust_Nov2020_D0.6_set005.csv
2022-03-01 22:14:22,240 - train -  29/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.08/0.1/traces_brightclust_Nov2020_D0.08_set006.csv
2022-03-01 22:14:25,355 - train -  30/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.4/0.01/traces_brightclust_Nov2020_D0.4_set004.csv
2022-03-01 22:14:28,483 - train -  31/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/10/0.1/traces_brightclust_Nov2020_D10_set006.csv
2022-03-01 22:14:31,960 - train -  32/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.2/0.1/traces_brightclust_Nov2020_D0.2_set004.csv
2022-03-01 22:14:35,186 - train -  33/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/3.0/0.01/traces_brightclust_Nov2020_D3.0_set005.csv
2022-03-01 22:14:38,725 - train -  34/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.069/0.1/traces_brightclust_Nov2020_D0.069_set003.csv
2022-03-01 22:14:42,022 - train -  35/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.2/0.01/traces_brightclust_Nov2020_D0.2_set003.csv
2022-03-01 22:14:45,344 - train -  36/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/50/0.01/traces_brightclust_Nov2020_D50_set006.csv
2022-03-01 22:14:48,717 - train -  37/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.6/0.1/traces_brightclust_Nov2020_D0.6_set004.csv
2022-03-01 22:14:52,459 - train -  38/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.08/1.0/traces_brightclust_Nov2020_D0.08_set004.csv
2022-03-01 22:14:57,077 - train -  39/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.6/0.01/traces_brightclust_Nov2020_D0.6_set010.csv
2022-03-01 22:15:00,330 - train -  40/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/10/0.1/traces_brightclust_Nov2020_D10_set007.csv
2022-03-01 22:15:03,675 - train -  41/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.4/1.0/traces_brightclust_Nov2020_D0.4_set006.csv
2022-03-01 22:15:07,194 - train -  42/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.4/0.1/traces_brightclust_Nov2020_D0.4_set002.csv
2022-03-01 22:15:10,373 - train -  43/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.1/0.01/traces_brightclust_Nov2020_D0.1_set006.csv
2022-03-01 22:15:13,913 - train -  44/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/3.0/0.01/traces_brightclust_Nov2020_D3.0_set006.csv
2022-03-01 22:15:17,100 - train -  45/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/50/0.1/traces_brightclust_Nov2020_D50_set010.csv
2022-03-01 22:15:20,452 - train -  46/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.08/0.01/traces_brightclust_Nov2020_D0.08_set007.csv
2022-03-01 22:15:23,646 - train -  47/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.069/0.1/traces_brightclust_Nov2020_D0.069_set002.csv
2022-03-01 22:15:27,210 - train -  48/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/50/0.1/traces_brightclust_Nov2020_D50_set009.csv
2022-03-01 22:15:31,036 - train -  1/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/1.0/0.1/traces_brightclust_Nov2020_D1.0_set009.csv
2022-03-01 22:15:35,097 - train -  2/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/50/1.0/traces_brightclust_Nov2020_D50_set007.csv
2022-03-01 22:15:38,379 - train -  3/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/0.4/0.1/traces_brightclust_Nov2020_D0.4_set009.csv
2022-03-01 22:15:41,484 - train -  4/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/3.0/1.0/traces_brightclust_Nov2020_D3.0_set009.csv
2022-03-01 22:15:44,853 - train -  5/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/0.1/0.01/traces_brightclust_Nov2020_D0.1_set008.csv
2022-03-01 22:15:50,250 - train -  6/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/10/0.01/traces_brightclust_Nov2020_D10_set008.csv
2022-03-01 22:15:54,918 - train -  7/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/0.08/0.1/traces_brightclust_Nov2020_D0.08_set008.csv
2022-03-01 22:15:58,298 - train -  8/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/1.0/1.0/traces_brightclust_Nov2020_D1.0_set008.csv
2022-03-01 22:16:02,901 - train -  9/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/3.0/0.01/traces_brightclust_Nov2020_D3.0_set008.csv
2022-03-01 22:16:06,154 - train -  10/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/0.2/0.1/traces_brightclust_Nov2020_D0.2_set006.csv
2022-03-01 22:16:09,817 - train -  11/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/0.069/0.1/traces_brightclust_Nov2020_D0.069_set006.csv
2022-03-01 22:16:12,969 - train -  12/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/0.6/0.1/traces_brightclust_Nov2020_D0.6_set006.csv
2022-03-01 22:16:13,193 - train -  The given DataFrame was split into 3 parts with shapes: [(16384, 4800), (16384, 4800), (16384, 4800)]
2022-03-01 22:16:13,282 - train -  The given DataFrame was split into 3 parts with shapes: [(16384, 1200), (16384, 1200), (16384, 1200)]
2022-03-01 22:16:13.549849: I tensorflow/core/platform/cpu_feature_guard.cc:142] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operatio
ns:  AVX2 FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
2022-03-01 22:16:13.552236: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1733] Found device 0 with properties:
pciBusID: 0000:82:00.0 name: Tesla P100-PCIE-16GB computeCapability: 6.0
coreClock: 1.3285GHz coreCount: 56 deviceMemorySize: 15.90GiB deviceMemoryBandwidth: 681.88GiB/s
2022-03-01 22:16:13.554196: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1871] Adding visible gpu devices: 0
2022-03-01 22:16:13.554316: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcudart.so.11.0
2022-03-01 22:16:13.976589: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1258] Device interconnect StreamExecutor with strength 1 edge matrix:
2022-03-01 22:16:13.976661: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1264]      0
2022-03-01 22:16:13.976674: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1277] 0:   N
2022-03-01 22:16:13.979482: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1418] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 15403 MB memory) -&gt; physical GPU (device: 0, name: Tesla P100-PCIE-16GB, p
ci bus id: 0000:82:00.0, compute capability: 6.0)
2022-03-01 22:16:15,961 - train -  number of examples: 4800
2022-03-01 22:16:16,380 - train -  number of examples: 1200
2022-03-01 22:16:19,293 - train -  unet: input shape: (None, None, 1), output shape: (None, None, 1)
2022/03/01 22:16:19 WARNING mlflow.utils.autologging_utils: Encountered unexpected error during tensorflow autologging: Changing param values is not allowed. Param with key='batch_size' was already logged with value='14' for run ID='c12
04e3a8a1e4c40a35b5b7b1922d1ce'. Attempted logging new value 'None'.
Epoch 1/100
2022-03-01 22:16:30.776559: I tensorflow/compiler/mlir/mlir_graph_optimization_pass.cc:176] None of the MLIR Optimization Passes are enabled (registered 2)
2022-03-01 22:16:30.983303: I tensorflow/core/platform/profile_utils/cpu_utils.cc:114] CPU Frequency: 2199895000 Hz
2022-03-01 22:16:42.127026: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcudnn.so.8
2022-03-01 22:16:42.439526: I tensorflow/stream_executor/cuda/cuda_dnn.cc:359] Loaded cuDNN version 8101
2022-03-01 22:16:42.928881: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcublas.so.11
2022-03-01 22:16:43.210835: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcublasLt.so.11
342/342 [==============================] - 124s 292ms/step - loss: 0.7070 - tp0.1: 8568535.0000 - fp0.1: 13083853.0000 - tn0.1: 55158168.0000 - fn0.1: 1636041.0000 - precision0.1: 0.3957 - recall0.1: 0.8397 - tp0.3: 6954119.0000 - fp0.3
: 4121236.0000 - tn0.3: 64120780.0000 - fn0.3: 3250457.0000 - precision0.3: 0.6279 - recall0.3: 0.6815 - tp0.5: 5914618.0000 - fp0.5: 1373295.0000 - tn0.5: 66868700.0000 - fn0.5: 4289958.0000 - precision0.5: 0.8116 - recall0.5: 0.5796 -
 tp0.7: 5157583.0000 - fp0.7: 495656.0000 - tn0.7: 67746344.0000 - fn0.7: 5046993.0000 - precision0.7: 0.9123 - recall0.7: 0.5054 - tp0.9: 4126657.0000 - fp0.9: 91030.0000 - tn0.9: 68151000.0000 - fn0.9: 6077919.0000 - precision0.9: 0.9
784 - recall0.9: 0.4044 - accuracy: 0.9278 - auc: 0.8844 - f1: 0.6762 - val_loss: 0.6968 - val_tp0.1: 2338956.0000 - val_fp0.1: 2679424.0000 - val_tn0.1: 14116949.0000 - val_fn0.1: 361631.0000 - val_precision0.1: 0.4661 - val_recall0.1:
 0.8661 - val_tp0.3: 2156286.0000 - val_fp0.3: 1498035.0000 - val_tn0.3: 15298338.0000 - val_fn0.3: 544301.0000 - val_precision0.3: 0.5901 - val_recall0.3: 0.7985 - val_tp0.5: 1886303.0000 - val_fp0.5: 688918.0000 - val_tn0.5: 16107455.
0000 - val_fn0.5: 814284.0000 - val_precision0.5: 0.7325 - val_recall0.5: 0.6985 - val_tp0.7: 1720047.0000 - val_fp0.7: 358918.0000 - val_tn0.7: 16437455.0000 - val_fn0.7: 980540.0000 - val_precision0.7: 0.8274 - val_recall0.7: 0.6369 -
 val_tp0.9: 1536712.0000 - val_fp0.9: 146022.0000 - val_tn0.9: 16650351.0000 - val_fn0.9: 1163875.0000 - val_precision0.9: 0.9132 - val_recall0.9: 0.5690 - val_accuracy: 0.9229 - val_auc: 0.9057 - val_f1: 0.7151

...

Epoch 100/100
342/342 [==============================] - 96s 282ms/step - loss: 0.1201 - tp0.1: 9816720.0000 - fp0.1: 2613299.0000 - tn0.1: 65809824.0000 - fn0.1: 206742.0000 - precision0.1: 0.7898 - recall0.1: 0.9794 - tp0.3: 9593189.0000 - fp0.3: 1
365697.0000 - tn0.3: 67057408.0000 - fn0.3: 430273.0000 - precision0.3: 0.8754 - recall0.3: 0.9571 - tp0.5: 9310282.0000 - fp0.5: 760248.0000 - tn0.5: 67662912.0000 - fn0.5: 713180.0000 - precision0.5: 0.9245 - recall0.5: 0.9288 - tp0.7
: 8896402.0000 - fp0.7: 359466.0000 - tn0.7: 68063680.0000 - fn0.7: 1127060.0000 - precision0.7: 0.9612 - recall0.7: 0.8876 - tp0.9: 8125429.0000 - fp0.9: 93565.0000 - tn0.9: 68329576.0000 - fn0.9: 1898033.0000 - precision0.9: 0.9886 -
recall0.9: 0.8106 - accuracy: 0.9812 - auc: 0.9882 - f1: 0.9267 - val_loss: 0.1429 - val_tp0.1: 2631773.0000 - val_fp0.1: 731922.0000 - val_tn0.1: 16067311.0000 - val_fn0.1: 65954.0000 - val_precision0.1: 0.7824 - val_recall0.1: 0.9756
- val_tp0.3: 2571221.0000 - val_fp0.3: 390541.0000 - val_tn0.3: 16408692.0000 - val_fn0.3: 126506.0000 - val_precision0.3: 0.8681 - val_recall0.3: 0.9531 - val_tp0.5: 2491171.0000 - val_fp0.5: 222824.0000 - val_tn0.5: 16576409.0000 - va
l_fn0.5: 206556.0000 - val_precision0.5: 0.9179 - val_recall0.5: 0.9234 - val_tp0.7: 2379767.0000 - val_fp0.7: 112408.0000 - val_tn0.7: 16686825.0000 - val_fn0.7: 317960.0000 - val_precision0.7: 0.9549 - val_recall0.7: 0.8821 - val_tp0.
9: 2166171.0000 - val_fp0.9: 33767.0000 - val_tn0.9: 16765466.0000 - val_fn0.9: 531556.0000 - val_precision0.9: 0.9847 - val_recall0.9: 0.8030 - val_accuracy: 0.9780 -
2022-03-02 01:02:37.643121: W tensorflow/python/util/util.cc:348] Sets are not currently considered sequences, but this may change in the future, so consider avoiding using them.
2022/03/02 01:03:00 INFO mlflow.projects: === Run (ID 'c1204e3a8a1e4c40a35b5b7b1922d1ce') succeeded ===
(tf) [ye53nis@node128 drmed-git]$
</pre>
</details>
<ul class="org-ul">
<li>name of run: <code>c1204e3a8a1e4c40a35b5b7b1922d1ce</code>
</li>
<li>metrics after 100th epoch:
<ul class="org-ul">
<li>precision<sub>val,0.5</sub>: 0.9179 - recall<sub>val,0.5</sub>: 0.9234 - f1<sub>val,0.5</sub>: 0.9207
</li>
<li>auc<sub>val</sub>: 0.9858
</li>
</ul>
</li>
</ul>
</li>

<li>run training of <code>(3cbd945b62ec4634839372e403f6f377,
      458b36a70db843719d202a8eda448f17)</code> with hparams from above

<div class="org-src-container">

<pre class="src src-tmux"><span style="color: #5e7837;">mlflow</span> <span style="color: #784437;">run</span> <span style="color: #513f78;">.</span> <span style="color: #3f7178;">-e</span> <span style="color: #5e7837;">main</span> <span style="color: #374478;">-P</span> <span style="color: #268bd2;">fluotracify_path</span>=<span style="color: #783778;">/beegfs/ye53nis/drmed-git/src/</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">batch_size</span>=<span style="color: #374478;">9</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">first_filters</span>=<span style="color: #784437;">64</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">input_size</span>=<span style="color: #7e544f;">14000</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">lr_start</span>=<span style="color: #3f7178;">0.0100697459464075</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">lr_power</span>=<span style="color: #5e7837;">1</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">epochs</span>=<span style="color: #783778;">100</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">csv_path_train</span>=<span style="color: #374478;">/beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">csv_path_val</span>=<span style="color: #783f5a;">/beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">scaler</span>=<span style="color: #78683f;">maxabs</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">n_levels</span>=<span style="color: #783778;">5</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">pool_size</span>=<span style="color: #784437;">4</span>
</pre>
</div>
<details>
<pre class="example">
2022/03/02 01:11:44 INFO mlflow.projects.utils: === Created directory /tmp/tmpx4epxfnm for downloading remote URIs passed to arguments of type 'path' ===
2022/03/02 01:11:44 INFO mlflow.projects.backend.local: === Running command 'source /cluster/miniconda3/bin/../etc/profile.d/conda.sh &amp;&amp; conda activate mlflow-eaf130b8edd83d20d4f1e0db4286dabd625893fe 1&gt;&amp;2 &amp;&amp; python src/fluotracify/train
ing/train.py --fluotracify_path /beegfs/ye53nis/drmed-git/src --batch_size 9 --input_size 14000 --lr_start 0.0100697459464075 --lr_power 1 --epochs 100 --csv_path_train /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets --csv_pa
th_val /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN --col_per_example 3 --scaler maxabs --n_levels 5 --first_filters 64 --pool_size 4' in run with ID '714af8cd12c1441eac4ca980e8c20070' ===
2022-03-02 01:11:56.803319: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcudart.so.11.0
2022-03-02 01:12:07,546 - train -  Python version: 3.9.6 (default, Jul 30 2021, 16:35:19)
[GCC 7.5.0]
2022-03-02 01:12:07,546 - train -  Tensorflow version: 2.5.0
2022-03-02 01:12:07,546 - train -  tf.keras version: 2.5.0
2022-03-02 01:12:07,547 - train -  Cudnn version: 8
2022-03-02 01:12:07,547 - train -  Cuda version: 11.2
2022-03-02 01:12:07.550455: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcuda.so.1
2022-03-02 01:12:07.628356: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1733] Found device 0 with properties:
pciBusID: 0000:82:00.0 name: Tesla P100-PCIE-16GB computeCapability: 6.0
coreClock: 1.3285GHz coreCount: 56 deviceMemorySize: 15.90GiB deviceMemoryBandwidth: 681.88GiB/s
2022-03-02 01:12:07.628511: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcudart.so.11.0
2022-03-02 01:12:07.638859: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcublas.so.11
2022-03-02 01:12:07.638985: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcublasLt.so.11
2022-03-02 01:12:07.643056: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcufft.so.10
2022-03-02 01:12:07.646183: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcurand.so.10
2022-03-02 01:12:07.656023: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcusolver.so.11
2022-03-02 01:12:07.659075: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcusparse.so.11
2022-03-02 01:12:07.661143: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcudnn.so.8
2022-03-02 01:12:07.664383: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1871] Adding visible gpu devices: 0
2022-03-02 01:12:07,664 - train -  GPUs: [PhysicalDevice(name='/physical_device:GPU:0', device_type='GPU')]. Trying to set memory growth to "True"...
2022-03-02 01:12:07,665 - train -  Setting memory growth successful.
2022-03-02 01:12:13,856 - train -  1/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/1.0/0.1/traces_brightclust_Nov2020_D1.0_set004.csv
2022-03-02 01:12:17,659 - train -  2/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.08/0.1/traces_brightclust_Nov2020_D0.08_set002.csv
2022-03-02 01:12:21,236 - train -  3/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.6/1.0/traces_brightclust_Nov2020_D0.6_set001.csv
2022-03-02 01:12:24,720 - train -  4/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/1.0/0.1/traces_brightclust_Nov2020_D1.0_set007.csv
2022-03-02 01:12:27,968 - train -  5/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/1.0/1.0/traces_brightclust_Nov2020_D1.0_set002.csv
2022-03-02 01:12:31,066 - train -  6/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/10/1.0/traces_brightclust_Nov2020_D10_set010.csv
2022-03-02 01:12:34,437 - train -  7/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/10/0.01/traces_brightclust_Nov2020_D10_set004.csv
2022-03-02 01:12:37,504 - train -  8/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/3.0/0.1/traces_brightclust_Nov2020_D3.0_set010.csv
2022-03-02 01:12:42,706 - train -  9/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.08/1.0/traces_brightclust_Nov2020_D0.08_set009.csv
2022-03-02 01:12:46,132 - train -  10/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.1/1.0/traces_brightclust_Nov2020_D0.1_set003.csv
2022-03-02 01:12:49,635 - train -  11/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.1/1.0/traces_brightclust_Nov2020_D0.1_set007.csv
2022-03-02 01:12:53,763 - train -  12/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/1.0/1.0/traces_brightclust_Nov2020_D1.0_set001.csv
2022-03-02 01:12:57,006 - train -  13/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/10/0.01/traces_brightclust_Nov2020_D10_set003.csv
2022-03-02 01:13:00,289 - train -  14/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.6/1.0/traces_brightclust_Nov2020_D0.6_set002.csv
2022-03-02 01:13:03,628 - train -  15/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/50/1.0/traces_brightclust_Nov2020_D50_set005.csv
2022-03-02 01:13:07,750 - train -  16/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.069/1.0/traces_brightclust_Nov2020_D0.069_set009.csv
2022-03-02 01:13:11,178 - train -  17/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/50/1.0/traces_brightclust_Nov2020_D50_set004.csv
2022-03-02 01:13:14,491 - train -  18/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.4/0.01/traces_brightclust_Nov2020_D0.4_set010.csv
2022-03-02 01:13:17,835 - train -  19/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.2/1.0/traces_brightclust_Nov2020_D0.2_set009.csv
2022-03-02 01:13:21,243 - train -  20/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/1.0/0.01/traces_brightclust_Nov2020_D1.0_set010.csv
2022-03-02 01:13:24,830 - train -  21/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.4/1.0/traces_brightclust_Nov2020_D0.4_set007.csv
2022-03-02 01:13:28,194 - train -  22/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.2/1.0/traces_brightclust_Nov2020_D0.2_set010.csv
2022-03-02 01:13:31,658 - train -  23/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/3.0/1.0/traces_brightclust_Nov2020_D3.0_set001.csv
2022-03-02 01:13:35,112 - train -  24/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.4/0.1/traces_brightclust_Nov2020_D0.4_set003.csv
2022-03-02 01:13:38,261 - train -  25/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/3.0/1.0/traces_brightclust_Nov2020_D3.0_set003.csv
2022-03-02 01:13:41,634 - train -  26/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.1/0.01/traces_brightclust_Nov2020_D0.1_set004.csv
2022-03-02 01:13:44,894 - train -  27/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.2/0.1/traces_brightclust_Nov2020_D0.2_set001.csv
2022-03-02 01:13:48,172 - train -  28/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.6/0.1/traces_brightclust_Nov2020_D0.6_set005.csv
2022-03-02 01:13:51,792 - train -  29/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.08/0.1/traces_brightclust_Nov2020_D0.08_set006.csv
2022-03-02 01:13:55,890 - train -  30/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.4/0.01/traces_brightclust_Nov2020_D0.4_set004.csv
2022-03-02 01:13:59,226 - train -  31/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/10/0.1/traces_brightclust_Nov2020_D10_set006.csv
2022-03-02 01:14:03,473 - train -  32/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.2/0.1/traces_brightclust_Nov2020_D0.2_set004.csv
2022-03-02 01:14:06,889 - train -  33/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/3.0/0.01/traces_brightclust_Nov2020_D3.0_set005.csv
2022-03-02 01:14:11,194 - train -  34/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.069/0.1/traces_brightclust_Nov2020_D0.069_set003.csv
2022-03-02 01:14:14,602 - train -  35/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.2/0.01/traces_brightclust_Nov2020_D0.2_set003.csv
2022-03-02 01:14:18,195 - train -  36/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/50/0.01/traces_brightclust_Nov2020_D50_set006.csv
2022-03-02 01:14:23,874 - train -  37/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.6/0.1/traces_brightclust_Nov2020_D0.6_set004.csv
2022-03-02 01:14:27,349 - train -  38/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.08/1.0/traces_brightclust_Nov2020_D0.08_set004.csv
2022-03-02 01:14:30,931 - train -  39/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.6/0.01/traces_brightclust_Nov2020_D0.6_set010.csv
2022-03-02 01:14:39,147 - train -  40/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/10/0.1/traces_brightclust_Nov2020_D10_set007.csv
2022-03-02 01:14:42,631 - train -  41/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.4/1.0/traces_brightclust_Nov2020_D0.4_set006.csv
2022-03-02 01:14:46,112 - train -  42/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.4/0.1/traces_brightclust_Nov2020_D0.4_set002.csv
2022-03-02 01:14:49,382 - train -  43/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.1/0.01/traces_brightclust_Nov2020_D0.1_set006.csv
2022-03-02 01:14:54,801 - train -  44/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/3.0/0.01/traces_brightclust_Nov2020_D3.0_set006.csv
2022-03-02 01:14:58,059 - train -  45/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/50/0.1/traces_brightclust_Nov2020_D50_set010.csv
2022-03-02 01:15:01,699 - train -  46/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.08/0.01/traces_brightclust_Nov2020_D0.08_set007.csv
2022-03-02 01:15:04,960 - train -  47/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.069/0.1/traces_brightclust_Nov2020_D0.069_set002.csv
2022-03-02 01:15:08,548 - train -  48/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/50/0.1/traces_brightclust_Nov2020_D50_set009.csv
2022-03-02 01:15:11,862 - train -  1/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/1.0/0.1/traces_brightclust_Nov2020_D1.0_set009.csv
2022-03-02 01:15:15,127 - train -  2/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/50/1.0/traces_brightclust_Nov2020_D50_set007.csv
2022-03-02 01:15:18,793 - train -  3/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/0.4/0.1/traces_brightclust_Nov2020_D0.4_set009.csv
2022-03-02 01:15:24,397 - train -  4/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/3.0/1.0/traces_brightclust_Nov2020_D3.0_set009.csv
2022-03-02 01:15:27,879 - train -  5/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/0.1/0.01/traces_brightclust_Nov2020_D0.1_set008.csv
2022-03-02 01:15:31,270 - train -  6/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/10/0.01/traces_brightclust_Nov2020_D10_set008.csv
2022-03-02 01:15:34,589 - train -  7/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/0.08/0.1/traces_brightclust_Nov2020_D0.08_set008.csv
2022-03-02 01:15:38,546 - train -  8/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/1.0/1.0/traces_brightclust_Nov2020_D1.0_set008.csv
2022-03-02 01:15:42,044 - train -  9/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/3.0/0.01/traces_brightclust_Nov2020_D3.0_set008.csv
2022-03-02 01:15:45,426 - train -  10/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/0.2/0.1/traces_brightclust_Nov2020_D0.2_set006.csv
2022-03-02 01:15:49,033 - train -  11/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/0.069/0.1/traces_brightclust_Nov2020_D0.069_set006.csv
2022-03-02 01:15:52,325 - train -  12/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/0.6/0.1/traces_brightclust_Nov2020_D0.6_set006.csv
2022-03-02 01:15:52,527 - train -  The given DataFrame was split into 3 parts with shapes: [(16384, 4800), (16384, 4800), (16384, 4800)]
2022-03-02 01:15:52,616 - train -  The given DataFrame was split into 3 parts with shapes: [(16384, 1200), (16384, 1200), (16384, 1200)]
2022-03-02 01:15:52.773335: I tensorflow/core/platform/cpu_feature_guard.cc:142] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operatio
ns:  AVX2 FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
2022-03-02 01:15:52.775655: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1733] Found device 0 with properties:
pciBusID: 0000:82:00.0 name: Tesla P100-PCIE-16GB computeCapability: 6.0
coreClock: 1.3285GHz coreCount: 56 deviceMemorySize: 15.90GiB deviceMemoryBandwidth: 681.88GiB/s
2022-03-02 01:15:52.777670: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1871] Adding visible gpu devices: 0
2022-03-02 01:15:52.777752: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcudart.so.11.0
2022-03-02 01:15:53.202763: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1258] Device interconnect StreamExecutor with strength 1 edge matrix:
2022-03-02 01:15:53.202835: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1264]      0
2022-03-02 01:15:53.202850: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1277] 0:   N
2022-03-02 01:15:53.205744: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1418] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 15403 MB memory) -&gt; physical GPU (device: 0, name: Tesla P100-PCIE-16GB, p
ci bus id: 0000:82:00.0, compute capability: 6.0)
2022-03-02 01:15:55,214 - train -  number of examples: 4800
2022-03-02 01:15:55,624 - train -  number of examples: 1200
2022-03-02 01:15:57,731 - train -  unet: input shape: (None, None, 1), output shape: (None, None, 1)
2022/03/02 01:15:57 WARNING mlflow.utils.autologging_utils: Encountered unexpected error during tensorflow autologging: Changing param values is not allowed. Param with key='batch_size' was already logged with value='9' for run ID='714a
f8cd12c1441eac4ca980e8c20070'. Attempted logging new value 'None'.
Epoch 1/100
2022-03-02 01:16:06.204044: I tensorflow/compiler/mlir/mlir_graph_optimization_pass.cc:176] None of the MLIR Optimization Passes are enabled (registered 2)
2022-03-02 01:16:06.363399: I tensorflow/core/platform/profile_utils/cpu_utils.cc:114] CPU Frequency: 2199895000 Hz
2022-03-02 01:16:14.227408: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcudnn.so.8
2022-03-02 01:16:14.534785: I tensorflow/stream_executor/cuda/cuda_dnn.cc:359] Loaded cuDNN version 8101
2022-03-02 01:16:15.007638: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcublas.so.11
2022-03-02 01:16:15.294778: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcublasLt.so.11
533/533 [==============================] - 129s 209ms/step - loss: 0.9630 - tp0.1: 8826943.0000 - fp0.1: 17028400.0000 - tn0.1: 51333204.0000 - fn0.1: 1405497.0000 - precision0.1: 0.3414 - recall0.1: 0.8626 - tp0.3: 7038448.0000 - fp0.3
: 7003701.0000 - tn0.3: 61357888.0000 - fn0.3: 3193992.0000 - precision0.3: 0.5012 - recall0.3: 0.6879 - tp0.5: 4980151.0000 - fp0.5: 2201947.0000 - tn0.5: 66159680.0000 - fn0.5: 5252289.0000 - precision0.5: 0.6934 - recall0.5: 0.4867 -
 tp0.7: 3822069.0000 - fp0.7: 917042.0000 - tn0.7: 67444552.0000 - fn0.7: 6410371.0000 - precision0.7: 0.8065 - recall0.7: 0.3735 - tp0.9: 2341770.0000 - fp0.9: 282920.0000 - tn0.9: 68078696.0000 - fn0.9: 7890670.0000 - precision0.9: 0.
8922 - recall0.9: 0.2289 - accuracy: 0.9052 - auc: 0.8844 - f1: 0.5720 - val_loss: 17.7890 - val_tp0.1: 2710616.0000 - val_fp0.1: 15396795.0000 - val_tn0.1: 1498695.0000 - val_fn0.1: 5542.0000 - val_precision0.1: 0.1497 - val_recall0.1:
 0.9980 - val_tp0.3: 2709922.0000 - val_fp0.3: 15341678.0000 - val_tn0.3: 1553812.0000 - val_fn0.3: 6236.0000 - val_precision0.3: 0.1501 - val_recall0.3: 0.9977 - val_tp0.5: 2709375.0000 - val_fp0.5: 15293665.0000 - val_tn0.5: 1601825.0
000 - val_fn0.5: 6783.0000 - val_precision0.5: 0.1505 - val_recall0.5: 0.9975 - val_tp0.7: 2708822.0000 - val_fp0.7: 15242876.0000 - val_tn0.7: 1652614.0000 - val_fn0.7: 7336.0000 - val_precision0.7: 0.1509 - val_recall0.7: 0.9973 - val
_tp0.9: 2707532.0000 - val_fp0.9: 15151973.0000 - val_tn0.9: 1743517.0000 - val_fn0.9: 8626.0000 - val_precision0.9: 0.1516 - val_recall0.9: 0.9968 - val_accuracy: 0.2198 - val_auc: 0.5561 - val_f1: 0.2615

...

Epoch 100/100
533/533 [==============================] - 108s 202ms/step - loss: 0.0724 - tp0.1: 10196374.0000 - fp0.1: 1589491.0000 - tn0.1: 66701600.0000 - fn0.1: 106580.0000 - precision0.1: 0.8651 - recall0.1: 0.9897 - tp0.3: 10080835.0000 - fp0.3
: 986714.0000 - tn0.3: 67304368.0000 - fn0.3: 222119.0000 - precision0.3: 0.9108 - recall0.3: 0.9784 - tp0.5: 9895952.0000 - fp0.5: 600682.0000 - tn0.5: 67690432.0000 - fn0.5: 407002.0000 - precision0.5: 0.9428 - recall0.5: 0.9605 - tp0
.7: 9574784.0000 - fp0.7: 291406.0000 - tn0.7: 67999680.0000 - fn0.7: 728170.0000 - precision0.7: 0.9705 - recall0.7: 0.9293 - tp0.9: 8942531.0000 - fp0.9: 72576.0000 - tn0.9: 68218544.0000 - fn0.9: 1360423.0000 - precision0.9: 0.9919 -
 recall0.9: 0.8680 - accuracy: 0.9872 - auc: 0.9942 - f1: 0.9516 - val_loss: 0.1303 - val_tp0.1: 2631957.0000 - val_fp0.1: 478568.0000 - val_tn0.1: 16426044.0000 - val_fn0.1: 75079.0000 - val_precision0.1: 0.8461 - val_recall0.1: 0.9723
 - val_tp0.3: 2587183.0000 - val_fp0.3: 308683.0000 - val_tn0.3: 16595929.0000 - val_fn0.3: 119853.0000 - val_precision0.3: 0.8934 - val_recall0.3: 0.9557 - val_tp0.5: 2531594.0000 - val_fp0.5: 203214.0000 - val_tn0.5: 16701398.0000 - v
al_fn0.5: 175442.0000 - val_precision0.5: 0.9257 - val_recall0.5: 0.9352 - val_tp0.7: 2448316.0000 - val_fp0.7: 118418.0000 - val_tn0.7: 16786194.0000 - val_fn0.7: 258720.0000 - val_precision0.7: 0.9539 - val_recall0.7: 0.9044 - val_tp0
.9: 2283631.0000 - val_fp0.9: 49167.0000 - val_tn0.9: 16855444.0000 - val_fn0.9: 423405.0000 - val_precision0.9: 0.9789 - val_recall0.9: 0.8436 - val_accuracy: 0.9807 - val_auc: 0.9843 - val_f1: 0.9304
2022-03-02 04:20:37.604740: W tensorflow/python/util/util.cc:348] Sets are not currently considered sequences, but this may change in the future, so consider avoiding using them.
2022/03/02 04:20:52 INFO mlflow.projects: === Run (ID '714af8cd12c1441eac4ca980e8c20070') succeeded ===

</pre>
</details>

<ul class="org-ul">
<li>name of run: <code>714af8cd12c1441eac4ca980e8c20070</code>
</li>
<li>metrics after 100th epoch:
<ul class="org-ul">
<li>loss: 0.0724 - loss<sub>val</sub>: 0.1303
</li>
<li>precision<sub>val,0.5</sub>: 0.9257 - recall<sub>val,0.5</sub>: 0.9352 - f1<sub>val,0.5</sub>: 0.9304
</li>
<li>auc<sub>val</sub>: 0.9843
</li>
</ul>
</li>
</ul>
</li>

<li>run training of <code>(3cbd945b62ec4634839372e403f6f377,
      458b36a70db843719d202a8eda448f17)</code> with hparams from above

<div class="org-src-container">

<pre class="src src-tmux"><span style="color: #5e7837;">mlflow</span> <span style="color: #784437;">run</span> <span style="color: #513f78;">.</span> <span style="color: #3f7178;">-e</span> <span style="color: #5e7837;">main</span> <span style="color: #374478;">-P</span> <span style="color: #268bd2;">fluotracify_path</span>=<span style="color: #783778;">/beegfs/ye53nis/drmed-git/src/</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">batch_size</span>=<span style="color: #3f7178;">17</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">first_filters</span>=<span style="color: #707e4f;">16</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">input_size</span>=<span style="color: #7e544f;">14000</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">lr_start</span>=<span style="color: #3f7178;">0.0101590069352232</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">lr_power</span>=<span style="color: #783778;">5</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">epochs</span>=<span style="color: #783778;">100</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">csv_path_train</span>=<span style="color: #374478;">/beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">csv_path_val</span>=<span style="color: #783f5a;">/beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">scaler</span>=<span style="color: #7a4f7e;">l2</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">n_levels</span>=<span style="color: #7e544f;">3</span> <span style="color: #b58900; font-weight: bold;">\</span>
       <span style="color: #374478;">-P</span> <span style="color: #268bd2;">pool_size</span>=<span style="color: #784437;">4</span>
</pre>
</div>

<details>
<pre class="example">
2022/03/03 14:24:46 INFO mlflow.projects.utils: === Created directory /tmp/tmp7c_e9yu1 for downloading remote URIs passed to arguments of type 'path' ===
2022/03/03 14:24:46 INFO mlflow.projects.backend.local: === Running command 'source /cluster/miniconda3/bin/../etc/profile.d/conda.sh &amp;&amp; conda activate mlflow-eaf130b8edd83d20d4f1e0db4286dabd625893fe 1&gt;&amp;2 &amp;&amp; python src/fluotracify/train
ing/train.py --fluotracify_path /beegfs/ye53nis/drmed-git/src --batch_size 17 --input_size 14000 --lr_start 0.0101590069352232 --lr_power 5 --epochs 100 --csv_path_train /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets --csv_p
ath_val /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN --col_per_example 3 --scaler l2 --n_levels 3 --first_filters 16 --pool_size 4' in run with ID '34a6d207ac594035b1009c330fb67a65' ===
2022-03-03 14:24:50.057413: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcudart.so.11.0
2022-03-03 14:24:54,004 - train -  Python version: 3.9.6 (default, Jul 30 2021, 16:35:19)
[GCC 7.5.0]
2022-03-03 14:24:54,004 - train -  Tensorflow version: 2.5.0
2022-03-03 14:24:54,004 - train -  tf.keras version: 2.5.0
2022-03-03 14:24:54,004 - train -  Cudnn version: 8
2022-03-03 14:24:54,004 - train -  Cuda version: 11.2
2022-03-03 14:24:54.006301: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcuda.so.1
2022-03-03 14:24:54.030317: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1733] Found device 0 with properties:
pciBusID: 0000:82:00.0 name: Tesla P100-PCIE-16GB computeCapability: 6.0
coreClock: 1.3285GHz coreCount: 56 deviceMemorySize: 15.90GiB deviceMemoryBandwidth: 681.88GiB/s
2022-03-03 14:24:54.030405: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcudart.so.11.0
2022-03-03 14:24:54.038110: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcublas.so.11
2022-03-03 14:24:54.038189: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcublasLt.so.11
2022-03-03 14:24:54.041129: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcufft.so.10
2022-03-03 14:24:54.042988: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcurand.so.10
2022-03-03 14:24:54.050220: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcusolver.so.11
2022-03-03 14:24:54.052310: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcusparse.so.11
2022-03-03 14:24:54.053334: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcudnn.so.8
2022-03-03 14:24:54.056200: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1871] Adding visible gpu devices: 0
2022-03-03 14:24:54,056 - train -  GPUs: [PhysicalDevice(name='/physical_device:GPU:0', device_type='GPU')]. Trying to set memory growth to "True"...
2022-03-03 14:24:54,056 - train -  Setting memory growth successful.
2022-03-03 14:25:01,220 - train -  1/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/1.0/0.1/traces_brightclust_Nov2020_D1.0_set004.csv
2022-03-03 14:25:05,184 - train -  2/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.08/0.1/traces_brightclust_Nov2020_D0.08_set002.csv
2022-03-03 14:25:08,951 - train -  3/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.6/1.0/traces_brightclust_Nov2020_D0.6_set001.csv
2022-03-03 14:25:15,413 - train -  4/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/1.0/0.1/traces_brightclust_Nov2020_D1.0_set007.csv
2022-03-03 14:25:33,960 - train -  5/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/1.0/1.0/traces_brightclust_Nov2020_D1.0_set002.csv
2022-03-03 14:25:37,427 - train -  6/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/10/1.0/traces_brightclust_Nov2020_D10_set010.csv
2022-03-03 14:25:41,118 - train -  7/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/10/0.01/traces_brightclust_Nov2020_D10_set004.csv
2022-03-03 14:25:49,655 - train -  8/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/3.0/0.1/traces_brightclust_Nov2020_D3.0_set010.csv
2022-03-03 14:25:54,052 - train -  9/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.08/1.0/traces_brightclust_Nov2020_D0.08_set009.csv
2022-03-03 14:25:57,575 - train -  10/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.1/1.0/traces_brightclust_Nov2020_D0.1_set003.csv
2022-03-03 14:26:01,255 - train -  11/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.1/1.0/traces_brightclust_Nov2020_D0.1_set007.csv
2022-03-03 14:26:04,485 - train -  12/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/1.0/1.0/traces_brightclust_Nov2020_D1.0_set001.csv
2022-03-03 14:26:08,073 - train -  13/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/10/0.01/traces_brightclust_Nov2020_D10_set003.csv
2022-03-03 14:26:11,768 - train -  14/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.6/1.0/traces_brightclust_Nov2020_D0.6_set002.csv
2022-03-03 14:26:19,400 - train -  15/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/50/1.0/traces_brightclust_Nov2020_D50_set005.csv
2022-03-03 14:26:23,640 - train -  16/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.069/1.0/traces_brightclust_Nov2020_D0.069_set009.csv
2022-03-03 14:26:27,567 - train -  17/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/50/1.0/traces_brightclust_Nov2020_D50_set004.csv
2022-03-03 14:26:31,999 - train -  18/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.4/0.01/traces_brightclust_Nov2020_D0.4_set010.csv
2022-03-03 14:26:36,569 - train -  19/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.2/1.0/traces_brightclust_Nov2020_D0.2_set009.csv
2022-03-03 14:26:40,326 - train -  20/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/1.0/0.01/traces_brightclust_Nov2020_D1.0_set010.csv
2022-03-03 14:26:43,920 - train -  21/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.4/1.0/traces_brightclust_Nov2020_D0.4_set007.csv
2022-03-03 14:26:48,619 - train -  22/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.2/1.0/traces_brightclust_Nov2020_D0.2_set010.csv
2022-03-03 14:26:53,742 - train -  23/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/3.0/1.0/traces_brightclust_Nov2020_D3.0_set001.csv
2022-03-03 14:26:57,605 - train -  24/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.4/0.1/traces_brightclust_Nov2020_D0.4_set003.csv
2022-03-03 14:27:01,008 - train -  25/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/3.0/1.0/traces_brightclust_Nov2020_D3.0_set003.csv
2022-03-03 14:27:04,458 - train -  26/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.1/0.01/traces_brightclust_Nov2020_D0.1_set004.csv
2022-03-03 14:27:07,860 - train -  27/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.2/0.1/traces_brightclust_Nov2020_D0.2_set001.csv
2022-03-03 14:27:11,489 - train -  28/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.6/0.1/traces_brightclust_Nov2020_D0.6_set005.csv
2022-03-03 14:27:15,309 - train -  29/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.08/0.1/traces_brightclust_Nov2020_D0.08_set006.csv
2022-03-03 14:27:18,677 - train -  30/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.4/0.01/traces_brightclust_Nov2020_D0.4_set004.csv
2022-03-03 14:27:22,854 - train -  31/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/10/0.1/traces_brightclust_Nov2020_D10_set006.csv
2022-03-03 14:27:26,667 - train -  32/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.2/0.1/traces_brightclust_Nov2020_D0.2_set004.csv
2022-03-03 14:27:30,369 - train -  33/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/3.0/0.01/traces_brightclust_Nov2020_D3.0_set005.csv
2022-03-03 14:27:34,196 - train -  34/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.069/0.1/traces_brightclust_Nov2020_D0.069_set003.csv
2022-03-03 14:27:37,882 - train -  35/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.2/0.01/traces_brightclust_Nov2020_D0.2_set003.csv
2022-03-03 14:27:41,437 - train -  36/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/50/0.01/traces_brightclust_Nov2020_D50_set006.csv
2022-03-03 14:27:45,344 - train -  37/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.6/0.1/traces_brightclust_Nov2020_D0.6_set004.csv
2022-03-03 14:27:48,979 - train -  38/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.08/1.0/traces_brightclust_Nov2020_D0.08_set004.csv
2022-03-03 14:27:52,611 - train -  39/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.6/0.01/traces_brightclust_Nov2020_D0.6_set010.csv
2022-03-03 14:27:56,754 - train -  40/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/10/0.1/traces_brightclust_Nov2020_D10_set007.csv
2022-03-03 14:28:00,273 - train -  41/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.4/1.0/traces_brightclust_Nov2020_D0.4_set006.csv
2022-03-03 14:28:03,971 - train -  42/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.4/0.1/traces_brightclust_Nov2020_D0.4_set002.csv
2022-03-03 14:28:07,564 - train -  43/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.1/0.01/traces_brightclust_Nov2020_D0.1_set006.csv
2022-03-03 14:28:11,272 - train -  44/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/3.0/0.01/traces_brightclust_Nov2020_D3.0_set006.csv
2022-03-03 14:28:15,163 - train -  45/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/50/0.1/traces_brightclust_Nov2020_D50_set010.csv
2022-03-03 14:28:18,794 - train -  46/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.08/0.01/traces_brightclust_Nov2020_D0.08_set007.csv
2022-03-03 14:28:22,428 - train -  47/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/0.069/0.1/traces_brightclust_Nov2020_D0.069_set002.csv
2022-03-03 14:28:26,334 - train -  48/48: /beegfs/ye53nis/saves/firstartifact_Nov2020_train_max2sets/50/0.1/traces_brightclust_Nov2020_D50_set009.csv
2022-03-03 14:28:30,056 - train -  1/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/1.0/0.1/traces_brightclust_Nov2020_D1.0_set009.csv
2022-03-03 14:28:33,687 - train -  2/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/50/1.0/traces_brightclust_Nov2020_D50_set007.csv
2022-03-03 14:28:37,128 - train -  3/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/0.4/0.1/traces_brightclust_Nov2020_D0.4_set009.csv
2022-03-03 14:28:40,617 - train -  4/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/3.0/1.0/traces_brightclust_Nov2020_D3.0_set009.csv
2022-03-03 14:28:44,105 - train -  5/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/0.1/0.01/traces_brightclust_Nov2020_D0.1_set008.csv
2022-03-03 14:28:47,594 - train -  6/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/10/0.01/traces_brightclust_Nov2020_D10_set008.csv
2022-03-03 14:28:51,273 - train -  7/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/0.08/0.1/traces_brightclust_Nov2020_D0.08_set008.csv
2022-03-03 14:28:56,181 - train -  8/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/1.0/1.0/traces_brightclust_Nov2020_D1.0_set008.csv
2022-03-03 14:28:59,593 - train -  9/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/3.0/0.01/traces_brightclust_Nov2020_D3.0_set008.csv
2022-03-03 14:29:03,237 - train -  10/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/0.2/0.1/traces_brightclust_Nov2020_D0.2_set006.csv
2022-03-03 14:29:07,571 - train -  11/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/0.069/0.1/traces_brightclust_Nov2020_D0.069_set006.csv
2022-03-03 14:29:11,901 - train -  12/12: /beegfs/ye53nis/saves/firstartifact_Nov2020_val_max2sets_SORTEDIN/0.6/0.1/traces_brightclust_Nov2020_D0.6_set006.csv
2022-03-03 14:29:12,117 - train -  The given DataFrame was split into 3 parts with shapes: [(16384, 4800), (16384, 4800), (16384, 4800)]
2022-03-03 14:29:12,206 - train -  The given DataFrame was split into 3 parts with shapes: [(16384, 1200), (16384, 1200), (16384, 1200)]
2022-03-03 14:29:12.413198: I tensorflow/core/platform/cpu_feature_guard.cc:142] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operatio
ns:  AVX2 FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
2022-03-03 14:29:12.417391: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1733] Found device 0 with properties:
pciBusID: 0000:82:00.0 name: Tesla P100-PCIE-16GB computeCapability: 6.0
coreClock: 1.3285GHz coreCount: 56 deviceMemorySize: 15.90GiB deviceMemoryBandwidth: 681.88GiB/s
2022-03-03 14:29:12.419377: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1871] Adding visible gpu devices: 0
2022-03-03 14:29:12.419477: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcudart.so.11.0
2022-03-03 14:29:12.833057: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1258] Device interconnect StreamExecutor with strength 1 edge matrix:
2022-03-03 14:29:12.833127: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1264]      0
2022-03-03 14:29:12.833141: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1277] 0:   N
2022-03-03 14:29:12.835995: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1418] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 15403 MB memory) -&gt; physical GPU (device: 0, name: Tesla P100-PCIE-16GB, p
ci bus id: 0000:82:00.0, compute capability: 6.0)
2022-03-03 14:29:14,768 - train -  number of examples: 4800
2022-03-03 14:29:15,107 - train -  number of examples: 1200
2022-03-03 14:29:16,570 - train -  unet: input shape: (None, None, 1), output shape: (None, None, 1)
2022/03/03 14:29:16 WARNING mlflow.utils.autologging_utils: Encountered unexpected error during tensorflow autologging: Changing param values is not allowed. Param with key='batch_size' was already logged with value='17' for run ID='34a
6d207ac594035b1009c330fb67a65'. Attempted logging new value 'None'.
Epoch 1/100
2022-03-03 14:29:23.930177: I tensorflow/compiler/mlir/mlir_graph_optimization_pass.cc:176] None of the MLIR Optimization Passes are enabled (registered 2)
2022-03-03 14:29:24.066046: I tensorflow/core/platform/profile_utils/cpu_utils.cc:114] CPU Frequency: 2199895000 Hz
2022-03-03 14:29:33.256586: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcudnn.so.8
2022-03-03 14:29:33.572296: I tensorflow/stream_executor/cuda/cuda_dnn.cc:359] Loaded cuDNN version 8101
2022-03-03 14:29:34.075599: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcublas.so.11
2022-03-03 14:29:34.363317: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcublasLt.so.11
282/282 [==============================] - 45s 98ms/step - loss: 1.0922 - tp0.1: 8529810.0000 - fp0.1: 10393289.0000 - tn0.1: 57940184.0000 - fn0.1: 1681616.0000 - precision0.1: 0.4508 - recall0.1: 0.8353 - tp0.3: 7724105.0000 - fp0.3:
3960382.0000 - tn0.3: 64373080.0000 - fn0.3: 2487321.0000 - precision0.3: 0.6611 - recall0.3: 0.7564 - tp0.5: 7024685.0000 - fp0.5: 1630985.0000 - tn0.5: 66702492.0000 - fn0.5: 3186741.0000 - precision0.5: 0.8116 - recall0.5: 0.6879 - t
p0.7: 6159487.0000 - fp0.7: 585291.0000 - tn0.7: 67748208.0000 - fn0.7: 4051939.0000 - precision0.7: 0.9132 - recall0.7: 0.6032 - tp0.9: 4931800.0000 - fp0.9: 143363.0000 - tn0.9: 68190096.0000 - fn0.9: 5279626.0000 - precision0.9: 0.97
18 - recall0.9: 0.4830 - accuracy: 0.9387 - auc: 0.9142 - f1: 0.7446 - val_loss: 3.2432 - val_tp0.1: 2699606.0000 - val_fp0.1: 16783988.0000 - val_tn0.1: 12739.0000 - val_fn0.1: 627.0000 - val_precision0.1: 0.1386 - val_recall0.1: 0.999
8 - val_tp0.3: 2697002.0000 - val_fp0.3: 16748206.0000 - val_tn0.3: 48521.0000 - val_fn0.3: 3231.0000 - val_precision0.3: 0.1387 - val_recall0.3: 0.9988 - val_tp0.5: 2695536.0000 - val_fp0.5: 16737605.0000 - val_tn0.5: 59122.0000 - val_
fn0.5: 4697.0000 - val_precision0.5: 0.1387 - val_recall0.5: 0.9983 - val_tp0.7: 2689329.0000 - val_fp0.7: 16678401.0000 - val_tn0.7: 118326.0000 - val_fn0.7: 10904.0000 - val_precision0.7: 0.1389 - val_recall0.7: 0.9960 - val_tp0.9: 22
37862.0000 - val_fp0.9: 12480955.0000 - val_tn0.9: 4315772.0000 - val_fn0.9: 462371.0000 - val_precision0.9: 0.1520 - val_recall0.9: 0.8288 - val_accuracy: 0.1413 - val_auc: 0.5907 - val_f1: 0.2436

...

Epoch 100/100
282/282 [==============================] - 25s 88ms/step - loss: 0.2009 - tp0.1: 9736541.0000 - fp0.1: 3605117.0000 - tn0.1: 64740432.0000 - fn0.1: 462821.0000 - precision0.1: 0.7298 - recall0.1: 0.9546 - tp0.3: 9402084.0000 - fp0.3: 17
39716.0000 - tn0.3: 66605812.0000 - fn0.3: 797278.0000 - precision0.3: 0.8439 - recall0.3: 0.9218 - tp0.5: 9016887.0000 - fp0.5: 920615.0000 - tn0.5: 67424920.0000 - fn0.5: 1182475.0000 - precision0.5: 0.9074 - recall0.5: 0.8841 - tp0.7
: 8513773.0000 - fp0.7: 435436.0000 - tn0.7: 67910080.0000 - fn0.7: 1685589.0000 - precision0.7: 0.9513 - recall0.7: 0.8347 - tp0.9: 7585158.0000 - fp0.9: 106557.0000 - tn0.9: 68238992.0000 - fn0.9: 2614204.0000 - precision0.9: 0.9861 -
 recall0.9: 0.7437 - accuracy: 0.9732 - auc: 0.9746 - f1: 0.8956 - val_loss: 0.2670 - val_tp0.1: 2538570.0000 - val_fp0.1: 1039161.0000 - val_tn0.1: 15761772.0000 - val_fn0.1: 157457.0000 - val_precision0.1: 0.7095 - val_recall0.1: 0.94
16 - val_tp0.3: 2435718.0000 - val_fp0.3: 590706.0000 - val_tn0.3: 16210227.0000 - val_fn0.3: 260309.0000 - val_precision0.3: 0.8048 - val_recall0.3: 0.9034 - val_tp0.5: 2326279.0000 - val_fp0.5: 379342.0000 - val_tn0.5: 16421591.0000 -
 val_fn0.5: 369748.0000 - val_precision0.5: 0.8598 - val_recall0.5: 0.8629 - val_tp0.7: 2189825.0000 - val_fp0.7: 228353.0000 - val_tn0.7: 16572580.0000 - val_fn0.7: 506202.0000 - val_precision0.7: 0.9056 - val_recall0.7: 0.8122 - val_t
p0.9: 1947380.0000 - val_fp0.9: 92879.0000 - val_tn0.9: 16708054.0000 - val_fn0.9: 748647.0000 - val_precision0.9: 0.9545 - val_recall0.9: 0.7223 - val_accuracy: 0.9616 - val_auc: 0.9652 - val_f1: 0.8613
2022-03-03 15:16:02.951715: W tensorflow/python/util/util.cc:348] Sets are not currently considered sequences, but this may change in the future, so consider avoiding using them.
2022/03/03 15:16:13 INFO mlflow.projects: === Run (ID '34a6d207ac594035b1009c330fb67a65') succeeded ===

</pre>
</details>

<ul class="org-ul">
<li>name of run: <code>34a6d207ac594035b1009c330fb67a65</code>
</li>
<li>metrics after 100th epoch:
<ul class="org-ul">
<li>precision<sub>val,0.5</sub>: 0.8598 - recall<sub>val,0.5</sub>: 0.8629 - f1<sub>val,0.5</sub>: 0.8613
</li>
<li>auc<sub>val</sub>: 0.9652
</li>
</ul>
</li>
</ul>
</li>

<li>all metrics after 100th epoch with hparams
<table class="table table-striped table-bordered table-hover table-condensed">


<colgroup>
<col  class="left">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="left">

<col  class="right">

<col  class="right">

<col  class="left">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="left">
</colgroup>
<thead>
<tr>
<th scope="col" class="text-left">run</th>
<th scope="col" class="text-right">auc<sub>val</sub></th>
<th scope="col" class="text-right">f1<sub>val,0.5</sub></th>
<th scope="col" class="text-right">prec<sub>val,0.5</sub></th>
<th scope="col" class="text-right">recall<sub>val,0.5</sub></th>
<th scope="col" class="text-left">model size</th>
<th scope="col" class="text-right">hp<sub>batch</sub><sub>size</sub></th>
<th scope="col" class="text-right">hp<sub>first</sub><sub>filters</sub></th>
<th scope="col" class="text-left">hp<sub>input</sub><sub>size</sub></th>
<th scope="col" class="text-right">hp<sub>lr</sub><sub>power</sub></th>
<th scope="col" class="text-right">hp<sub>lr</sub><sub>start</sub></th>
<th scope="col" class="text-right">hp<sub>n</sub><sub>levels</sub></th>
<th scope="col" class="text-right">hp<sub>pool</sub><sub>size</sub></th>
<th scope="col" class="text-left">hp<sub>scaler</sub></th>
</tr>
</thead>
<tbody>
<tr>
<td class="text-left">484af471c61943fa90e5f78e78a229f0</td>
<td class="text-right">0.9814</td>
<td class="text-right">0.9187</td>
<td class="text-right">0.9091</td>
<td class="text-right">0.9285</td>
<td class="text-left">275 MB</td>
<td class="text-right">26</td>
<td class="text-right">44</td>
<td class="text-left">16384 (here: 14000)</td>
<td class="text-right">1</td>
<td class="text-right">0.0136170138242663</td>
<td class="text-right">7</td>
<td class="text-right">2</td>
<td class="text-left">standard</td>
</tr>

<tr>
<td class="text-left">0cd2023eeaf745aca0d3e8ad5e1fc653</td>
<td class="text-right">0.9818</td>
<td class="text-right">0.9069</td>
<td class="text-right">0.8955</td>
<td class="text-right">0.9185</td>
<td class="text-left">200 MB</td>
<td class="text-right">15</td>
<td class="text-right">23</td>
<td class="text-left">16384 (here: 14000)</td>
<td class="text-right">7</td>
<td class="text-right">0.0305060808685107</td>
<td class="text-right">6</td>
<td class="text-right">4</td>
<td class="text-left">quant<sub>g</sub></td>
</tr>

<tr>
<td class="text-left">fe81d71c52404ed790b3a32051258da9</td>
<td class="text-right">0.9849</td>
<td class="text-right">0.9260</td>
<td class="text-right">0.9184</td>
<td class="text-right">0.9338</td>
<td class="text-left">186 MB</td>
<td class="text-right">20</td>
<td class="text-right">78</td>
<td class="text-left">16384 (here: 14000)</td>
<td class="text-right">4</td>
<td class="text-right">0.0584071108418767</td>
<td class="text-right">4</td>
<td class="text-right">4</td>
<td class="text-left">standard</td>
</tr>

<tr>
<td class="text-left">ff67be0b68e540a9a29a36a2d0c7a5be</td>
<td class="text-right"><b>0.9859</b></td>
<td class="text-right">0.9298</td>
<td class="text-right">0.9230</td>
<td class="text-right"><b>0.9367</b></td>
<td class="text-left">14 MB</td>
<td class="text-right">28</td>
<td class="text-right">6</td>
<td class="text-left">16384 (here: 14000)</td>
<td class="text-right">1</td>
<td class="text-right">0.0553313915596308</td>
<td class="text-right">5</td>
<td class="text-right">4</td>
<td class="text-left">minmax</td>
</tr>

<tr>
<td class="text-left">19e3e786e1bc4e2b93856f5dc9de8216</td>
<td class="text-right">0.9595</td>
<td class="text-right">0.8911</td>
<td class="text-right">0.8983</td>
<td class="text-right">0.8839</td>
<td class="text-left">172 MB</td>
<td class="text-right">20</td>
<td class="text-right">128</td>
<td class="text-left">16384 (here: 14000)</td>
<td class="text-right">1</td>
<td class="text-right">0.043549707353273</td>
<td class="text-right">3</td>
<td class="text-right">4</td>
<td class="text-left">standard</td>
</tr>

<tr>
<td class="text-left">347669d050f344ad9fb9e480c814f727</td>
<td class="text-right">0.9848</td>
<td class="text-right">0.9246</td>
<td class="text-right">0.9254</td>
<td class="text-right">0.9238</td>
<td class="text-left">73 MB</td>
<td class="text-right">10</td>
<td class="text-right">16</td>
<td class="text-left">8192 (here: 14000)</td>
<td class="text-right">1</td>
<td class="text-right">0.0627676336651573</td>
<td class="text-right">5</td>
<td class="text-right">4</td>
<td class="text-left">robust</td>
</tr>

<tr>
<td class="text-left">c1204e3a8a1e4c40a35b5b7b1922d1ce</td>
<td class="text-right">0.9858</td>
<td class="text-right">0.9207</td>
<td class="text-right">0.9179</td>
<td class="text-right">0.9234</td>
<td class="text-left">312 MB</td>
<td class="text-right">14</td>
<td class="text-right">16</td>
<td class="text-left">16384 (here: 14000)</td>
<td class="text-right">5</td>
<td class="text-right">0.0192390310290551</td>
<td class="text-right">9</td>
<td class="text-right">2</td>
<td class="text-left">robust</td>
</tr>

<tr>
<td class="text-left">714af8cd12c1441eac4ca980e8c20070</td>
<td class="text-right">0.9843</td>
<td class="text-right"><b>0.9304</b></td>
<td class="text-right"><b>0.9257</b></td>
<td class="text-right">0.9352</td>
<td class="text-left">234 MB</td>
<td class="text-right">9</td>
<td class="text-right">64</td>
<td class="text-left">4096 (here: 14000)</td>
<td class="text-right">1</td>
<td class="text-right">0.0100697459464075</td>
<td class="text-right">5</td>
<td class="text-right">4</td>
<td class="text-left">maxabs</td>
</tr>

<tr>
<td class="text-left">34a6d207ac594035b1009c330fb67a65</td>
<td class="text-right">0.9652</td>
<td class="text-right">0.8613</td>
<td class="text-right">0.8598</td>
<td class="text-right">0.8629</td>
<td class="text-left">7 MB</td>
<td class="text-right">17</td>
<td class="text-right">16</td>
<td class="text-left">16384 (here: 14000)</td>
<td class="text-right">5</td>
<td class="text-right">0.0101590069352232</td>
<td class="text-right">3</td>
<td class="text-right">4</td>
<td class="text-left">l2</td>
</tr>
</tbody>
</table>
<p>
:END:
</p>
</li>
</ol>
</div>
</div>

<div id="outline-container-sec-2-1-9" class="outline-4">
<h4 id="sec-2-1-9"><span class="section-number-4">2.1.9</span> Analysis 1: show model architecture and loss plots</h4>
<div class="outline-text-4" id="text-2-1-9">
<ul class="org-ul">
<li>first load modules and define model lists and dictionaries to connect
hparam runs and final runs.
<details>
<div class="org-src-container">

<pre class="src src-jupyter-python">%<span style="color: #707e4f;">cd</span> ~/<span style="color: #784437;">Programme</span>/<span style="color: #784437;">drmed</span>-<span style="color: #784437;">git</span>
</pre>
</div>

<pre class="example">
/home/lex/Programme/drmed-git
</pre>


<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #859900; font-weight: bold;">import</span> <span style="color: #7e544f;">datetime</span>
<span style="color: #859900; font-weight: bold;">import</span> <span style="color: #7a4f7e;">logging</span>
<span style="color: #859900; font-weight: bold;">import</span> <span style="color: #37785e;">multipletau</span>
<span style="color: #859900; font-weight: bold;">import</span> <span style="color: #7e544f;">os</span>
<span style="color: #859900; font-weight: bold;">import</span> <span style="color: #513f78;">sys</span>

<span style="color: #859900; font-weight: bold;">import</span> <span style="color: #37785e;">matplotlib</span>.<span style="color: #4f7e67;">pyplot</span> <span style="color: #859900; font-weight: bold;">as</span> <span style="color: #4f7e67;">plt</span>
<span style="color: #859900; font-weight: bold;">import</span> <span style="color: #4f5c7e;">numpy</span> <span style="color: #859900; font-weight: bold;">as</span> <span style="color: #707e4f;">np</span>
<span style="color: #859900; font-weight: bold;">import</span> <span style="color: #5e7837;">pandas</span> <span style="color: #859900; font-weight: bold;">as</span> <span style="color: #783778;">pd</span>
<span style="color: #859900; font-weight: bold;">import</span> <span style="color: #78683f;">seaborn</span> <span style="color: #859900; font-weight: bold;">as</span> <span style="color: #4f5c7e;">sns</span>
<span style="color: #859900; font-weight: bold;">import</span> <span style="color: #513f78;">tensorflow</span> <span style="color: #859900; font-weight: bold;">as</span> <span style="color: #37785e;">tf</span>

<span style="color: #859900; font-weight: bold;">from</span> <span style="color: #43783f;">pathlib</span> <span style="color: #859900; font-weight: bold;">import</span> <span style="color: #78683f;">Path</span>
<span style="color: #859900; font-weight: bold;">from</span> <span style="color: #4f7e67;">pprint</span> <span style="color: #859900; font-weight: bold;">import</span> <span style="color: #4f7e67;">pprint</span>
<span style="color: #859900; font-weight: bold;">from</span> <span style="color: #513f78;">tensorflow</span>.<span style="color: #784437;">keras</span>.<span style="color: #43783f;">optimizers</span> <span style="color: #859900; font-weight: bold;">import</span> <span style="color: #783778;">Adam</span>
<span style="color: #859900; font-weight: bold;">from</span> <span style="color: #5e7837;">mlflow</span>.<span style="color: #784437;">keras</span> <span style="color: #859900; font-weight: bold;">import</span> <span style="color: #783f5a;">load_model</span>

<span style="color: #268bd2;">FLUOTRACIFY_PATH</span> = <span style="color: #2aa198;">'/home/lex/Programme/drmed-git/src/'</span>
<span style="color: #513f78;">sys</span>.<span style="color: #513f78;">path</span>.<span style="color: #5e7837;">append</span>(<span style="color: #784437;">FLUOTRACIFY_PATH</span>)
<span style="color: #859900; font-weight: bold;">from</span> <span style="color: #783778;">fluotracify</span>.<span style="color: #3f7178;">training</span> <span style="color: #859900; font-weight: bold;">import</span> (<span style="color: #783778;">build_model</span> <span style="color: #859900; font-weight: bold;">as</span> <span style="color: #374478;">bm</span>)

<span style="color: #268bd2;">model_ls</span> = [<span style="color: #2aa198;">'ff67be0b68e540a9a29a36a2d0c7a5be'</span>, <span style="color: #2aa198;">'347669d050f344ad9fb9e480c814f727'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">'714af8cd12c1441eac4ca980e8c20070'</span>, <span style="color: #2aa198;">'34a6d207ac594035b1009c330fb67a65'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">'484af471c61943fa90e5f78e78a229f0'</span>, <span style="color: #2aa198;">'0cd2023eeaf745aca0d3e8ad5e1fc653'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">'fe81d71c52404ed790b3a32051258da9'</span>, <span style="color: #2aa198;">'19e3e786e1bc4e2b93856f5dc9de8216'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">'c1204e3a8a1e4c40a35b5b7b1922d1ce'</span>]
<span style="color: #268bd2;">model_dict</span> = {
<span style="background-color: #eee8d5;"> </span>   (<span style="color: #2aa198;">'9051e32b87d84f3485b980067addec30'</span>, <span style="color: #2aa198;">'61ff87bdb89b4e2ba64f8dacc774992d'</span>) :  <span style="color: #2aa198;">'484af471c61943fa90e5f78e78a229f0'</span>,
<span style="background-color: #eee8d5;"> </span>   (<span style="color: #2aa198;">'93b168c0ff7942c8a908a94129daf973'</span>, <span style="color: #2aa198;">'f243b3b742de4dbcb7ccfbd4244706f8'</span>) :  <span style="color: #2aa198;">'0cd2023eeaf745aca0d3e8ad5e1fc653'</span>,
<span style="background-color: #eee8d5;"> </span>   (<span style="color: #2aa198;">'a5b8551144ff46e697a39cd1551e1475'</span>, <span style="color: #2aa198;">'98cf8cdef9c54b5286e277e75e2ab8c1'</span>) :  <span style="color: #2aa198;">'fe81d71c52404ed790b3a32051258da9'</span>,
<span style="background-color: #eee8d5;"> </span>   (<span style="color: #2aa198;">'00f2635d9fa2463c9a066722163405be'</span>, <span style="color: #2aa198;">'d0a8e1748b194f3290d471b6b44f19f8'</span>) :  <span style="color: #2aa198;">'ff67be0b68e540a9a29a36a2d0c7a5be'</span>,
<span style="background-color: #eee8d5;"> </span>   (<span style="color: #2aa198;">'5604d43c1ece461b8e6eaa0dfb65d6dc'</span>, <span style="color: #2aa198;">'3612536a77f34f22bc83d1d809140aa6'</span>) :  <span style="color: #2aa198;">'19e3e786e1bc4e2b93856f5dc9de8216'</span>,
<span style="background-color: #eee8d5;"> </span>   (<span style="color: #2aa198;">'7cafab027cdd4fc9bf20a43e989df510'</span>, <span style="color: #2aa198;">'16dff15d935f45e2a836b1f41b07b4e3'</span>) :  <span style="color: #2aa198;">'347669d050f344ad9fb9e480c814f727'</span>,
<span style="background-color: #eee8d5;"> </span>   (<span style="color: #2aa198;">'0e328920e86049928202db95e8cfb7be'</span>, <span style="color: #2aa198;">'bf9d2725eb16462d9a101f0a077ce2b5'</span>) :  <span style="color: #2aa198;">'c1204e3a8a1e4c40a35b5b7b1922d1ce'</span>,
<span style="background-color: #eee8d5;"> </span>   (<span style="color: #2aa198;">'1c954fbc02b747bc813c587ac703c74a'</span>, <span style="color: #2aa198;">'ba49a80c2616407a8f1fe1fd12096fe0'</span>) :  <span style="color: #2aa198;">'714af8cd12c1441eac4ca980e8c20070'</span>,
<span style="background-color: #eee8d5;"> </span>   (<span style="color: #2aa198;">'3cbd945b62ec4634839372e403f6f377'</span>, <span style="color: #2aa198;">'458b36a70db843719d202a8eda448f17'</span>) :  <span style="color: #2aa198;">'34a6d207ac594035b1009c330fb67a65'</span>}

<span style="color: #268bd2;">model_name_ls</span> = [<span style="color: #43783f;">f</span><span style="color: #2aa198;">'</span><span style="color: #268bd2;">{s:.5}</span><span style="color: #2aa198;">'</span> <span style="color: #859900; font-weight: bold;">for</span> <span style="color: #784437;">s</span> <span style="color: #859900; font-weight: bold;">in</span> <span style="color: #513f78;">model_ls</span>]

<span style="color: #268bd2;">pred_thresh</span> = 0.5

</pre>
</div>
</details>
</li>
<li>now print model details for each model where it was saved
<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #859900; font-weight: bold;">for</span> <span style="color: #707e4f;">i</span> <span style="color: #859900; font-weight: bold;">in</span> <span style="color: #268bd2;">model_ls</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">print</span>(<span style="color: #43783f;">f</span><span style="color: #2aa198;">'model: </span><span style="color: #268bd2;">{i}</span><span style="color: #2aa198;">'</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">try</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">logged_scaler</span> = <span style="color: #78683f;">Path</span>(<span style="color: #43783f;">f</span><span style="color: #2aa198;">'/home/lex/Programme/drmed-git/data/mlruns/10/{i}/params/scaler'</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">logged_scaler</span> = !<span style="color: #4f7e67;">cat</span> $<span style="color: #783f5a;">logged_scaler</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">logged_scaler</span> = <span style="color: #783f5a;">logged_scaler</span>[0]

<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">logged_model</span> = <span style="color: #78683f;">Path</span>(<span style="color: #43783f;">f</span><span style="color: #2aa198;">'/home/lex/Programme/drmed-git/data/mlruns/10/{i}/artifacts/model'</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">logged_model</span> = <span style="color: #783f5a;">load_model</span>(<span style="color: #783f5a;">logged_model</span>, <span style="color: #657b83; font-weight: bold;">compile</span>=<span style="color: #859900; font-weight: bold;">False</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #783f5a;">logged_model</span>.<span style="color: #374478;">compile</span>(<span style="color: #783f5a;">loss</span>=<span style="color: #374478;">bm</span>.<span style="color: #783f5a;">binary_ce_dice_loss</span>(),
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #7a4f7e;">optimizer</span>=<span style="color: #783778;">Adam</span>(),
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #43783f;">metrics</span> = <span style="color: #374478;">bm</span>.<span style="color: #374478;">unet_metrics</span>([0.1, 0.3, 0.5, 0.7, 0.9]))
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">print</span>(<span style="color: #783f5a;">logged_model</span>.<span style="color: #5e7837;">summary</span>())

<span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">except</span> <span style="color: #657b83; font-weight: bold;">AttributeError</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">pass</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">print</span>(<span style="color: #2aa198;">'----------------------------------------'</span>)
</pre>
</div>

<details>
<pre class="example">
model: ff67be0b68e540a9a29a36a2d0c7a5be
WARNING:tensorflow:Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
2022-08-23 14:27:17,992 - build model -  Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
Model: "unet_depth5"
__________________________________________________________________________________________________
 Layer (type)                   Output Shape         Param #     Connected to
==================================================================================================
 input_1 (InputLayer)           [(None, None, 1)]    0           []

 encode0 (Sequential)           (None, None, 6)      186         ['input_1[0][0]']

 mp_encode0 (MaxPooling1D)      (None, None, 6)      0           ['encode0[0][0]']

 encode1 (Sequential)           (None, None, 12)     768         ['mp_encode0[0][0]']

 mp_encode1 (MaxPooling1D)      (None, None, 12)     0           ['encode1[0][0]']

 encode2 (Sequential)           (None, None, 24)     2832        ['mp_encode1[0][0]']

 mp_encode2 (MaxPooling1D)      (None, None, 24)     0           ['encode2[0][0]']

 encode3 (Sequential)           (None, None, 48)     10848       ['mp_encode2[0][0]']

 mp_encode3 (MaxPooling1D)      (None, None, 48)     0           ['encode3[0][0]']

 encode4 (Sequential)           (None, None, 96)     42432       ['mp_encode3[0][0]']

 mp_encode4 (MaxPooling1D)      (None, None, 96)     0           ['encode4[0][0]']

 two_conv_center (Sequential)   (None, None, 192)    167808      ['mp_encode4[0][0]']

 conv_transpose_decoder4 (Seque  (None, None, 192)   148416      ['two_conv_center[0][0]']
 ntial)

 decoder4 (Concatenate)         (None, None, 288)    0           ['encode4[0][0]',
                                                                  'conv_transpose_decoder4[0][0]']

 two_conv_decoder4 (Sequential)  (None, None, 192)   278400      ['decoder4[0][0]']

 conv_transpose_decoder3 (Seque  (None, None, 96)    74208       ['two_conv_decoder4[0][0]']
 ntial)

 decoder3 (Concatenate)         (None, None, 144)    0           ['encode3[0][0]',
                                                                  'conv_transpose_decoder3[0][0]']

 two_conv_decoder3 (Sequential)  (None, None, 96)    70080       ['decoder3[0][0]']

 conv_transpose_decoder2 (Seque  (None, None, 48)    18672       ['two_conv_decoder3[0][0]']
 ntial)

 decoder2 (Concatenate)         (None, None, 72)     0           ['encode2[0][0]',
                                                                  'conv_transpose_decoder2[0][0]']

 two_conv_decoder2 (Sequential)  (None, None, 48)    17760       ['decoder2[0][0]']

 conv_transpose_decoder1 (Seque  (None, None, 24)    4728        ['two_conv_decoder2[0][0]']
 ntial)

 decoder1 (Concatenate)         (None, None, 36)     0           ['encode1[0][0]',
                                                                  'conv_transpose_decoder1[0][0]']

 two_conv_decoder1 (Sequential)  (None, None, 24)    4560        ['decoder1[0][0]']

 conv_transpose_decoder0 (Seque  (None, None, 12)    1212        ['two_conv_decoder1[0][0]']
 ntial)

 decoder0 (Concatenate)         (None, None, 18)     0           ['encode0[0][0]',
                                                                  'conv_transpose_decoder0[0][0]']

 two_conv_decoder0 (Sequential)  (None, None, 12)    1200        ['decoder0[0][0]']

 conv1d_22 (Conv1D)             (None, None, 1)      13          ['two_conv_decoder0[0][0]']

==================================================================================================
Total params: 844,123
Trainable params: 840,379
Non-trainable params: 3,744
__________________________________________________________________________________________________
None
----------------------------------------
model: 347669d050f344ad9fb9e480c814f727WARNING:tensorflow:Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
2022-08-23 14:27:26,761 - build model -  Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
Model: "unet_depth5"
__________________________________________________________________________________________________
 Layer (type)                   Output Shape         Param #     Connected to
==================================================================================================
 input_1 (InputLayer)           [(None, None, 1)]    0           []

 encode0 (Sequential)           (None, None, 16)     976         ['input_1[0][0]']

 mp_encode0 (MaxPooling1D)      (None, None, 16)     0           ['encode0[0][0]']

 encode1 (Sequential)           (None, None, 32)     4928        ['mp_encode0[0][0]']

 mp_encode1 (MaxPooling1D)      (None, None, 32)     0           ['encode1[0][0]']

 encode2 (Sequential)           (None, None, 64)     19072       ['mp_encode1[0][0]']

 mp_encode2 (MaxPooling1D)      (None, None, 64)     0           ['encode2[0][0]']

 encode3 (Sequential)           (None, None, 128)    75008       ['mp_encode2[0][0]']

 mp_encode3 (MaxPooling1D)      (None, None, 128)    0           ['encode3[0][0]']

 encode4 (Sequential)           (None, None, 256)    297472      ['mp_encode3[0][0]']

 mp_encode4 (MaxPooling1D)      (None, None, 256)    0           ['encode4[0][0]']

 two_conv_center (Sequential)   (None, None, 512)    1184768     ['mp_encode4[0][0]']

 conv_transpose_decoder4 (Seque  (None, None, 512)   1051136     ['two_conv_center[0][0]']
 ntial)

 decoder4 (Concatenate)         (None, None, 768)    0           ['encode4[0][0]',
                                                                  'conv_transpose_decoder4[0][0]']

 two_conv_decoder4 (Sequential)  (None, None, 512)   1971200     ['decoder4[0][0]']

 conv_transpose_decoder3 (Seque  (None, None, 256)   525568      ['two_conv_decoder4[0][0]']
 ntial)

 decoder3 (Concatenate)         (None, None, 384)    0           ['encode3[0][0]',
                                                                  'conv_transpose_decoder3[0][0]']

 two_conv_decoder3 (Sequential)  (None, None, 256)   494080      ['decoder3[0][0]']

 conv_transpose_decoder2 (Seque  (None, None, 128)   131712      ['two_conv_decoder3[0][0]']
 ntial)

 decoder2 (Concatenate)         (None, None, 192)    0           ['encode2[0][0]',
                                                                  'conv_transpose_decoder2[0][0]']

 two_conv_decoder2 (Sequential)  (None, None, 128)   124160      ['decoder2[0][0]']

 conv_transpose_decoder1 (Seque  (None, None, 64)    33088       ['two_conv_decoder2[0][0]']
 ntial)

 decoder1 (Concatenate)         (None, None, 96)     0           ['encode1[0][0]',
                                                                  'conv_transpose_decoder1[0][0]']

 two_conv_decoder1 (Sequential)  (None, None, 64)    31360       ['decoder1[0][0]']

 conv_transpose_decoder0 (Seque  (None, None, 32)    8352        ['two_conv_decoder1[0][0]']
 ntial)

 decoder0 (Concatenate)         (None, None, 48)     0           ['encode0[0][0]',
                                                                  'conv_transpose_decoder0[0][0]']

 two_conv_decoder0 (Sequential)  (None, None, 32)    8000        ['decoder0[0][0]']

 conv1d_22 (Conv1D)             (None, None, 1)      33          ['two_conv_decoder0[0][0]']

==================================================================================================
Total params: 5,960,913
Trainable params: 5,950,929
Non-trainable params: 9,984
__________________________________________________________________________________________________
None
----------------------------------------
model: 714af8cd12c1441eac4ca980e8c20070
WARNING:tensorflow:Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
2022-08-23 14:27:35,085 - build model -  Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
Model: "unet_depth5"
__________________________________________________________________________________________________
 Layer (type)                   Output Shape         Param #     Connected to
==================================================================================================
 input_1 (InputLayer)           [(None, None, 1)]    0           []

 encode0 (Sequential)           (None, None, 64)     13120       ['input_1[0][0]']

 mp_encode0 (MaxPooling1D)      (None, None, 64)     0           ['encode0[0][0]']

 encode1 (Sequential)           (None, None, 128)    75008       ['mp_encode0[0][0]']

 mp_encode1 (MaxPooling1D)      (None, None, 128)    0           ['encode1[0][0]']

 encode2 (Sequential)           (None, None, 256)    297472      ['mp_encode1[0][0]']

 mp_encode2 (MaxPooling1D)      (None, None, 256)    0           ['encode2[0][0]']

 encode3 (Sequential)           (None, None, 512)    1184768     ['mp_encode2[0][0]']

 mp_encode3 (MaxPooling1D)      (None, None, 512)    0           ['encode3[0][0]']

 encode4 (Sequential)           (None, None, 512)    1577984     ['mp_encode3[0][0]']

 mp_encode4 (MaxPooling1D)      (None, None, 512)    0           ['encode4[0][0]']

 two_conv_center (Sequential)   (None, None, 1024)   4728832     ['mp_encode4[0][0]']

 conv_transpose_decoder4 (Seque  (None, None, 512)   2099712     ['two_conv_center[0][0]']
 ntial)

 decoder4 (Concatenate)         (None, None, 1024)   0           ['encode4[0][0]',
                                                                  'conv_transpose_decoder4[0][0]']

 two_conv_decoder4 (Sequential)  (None, None, 512)   2364416     ['decoder4[0][0]']

 conv_transpose_decoder3 (Seque  (None, None, 512)   1051136     ['two_conv_decoder4[0][0]']
 ntial)

 decoder3 (Concatenate)         (None, None, 1024)   0           ['encode3[0][0]',
                                                                  'conv_transpose_decoder3[0][0]']

 two_conv_decoder3 (Sequential)  (None, None, 512)   2364416     ['decoder3[0][0]']

 conv_transpose_decoder2 (Seque  (None, None, 512)   1051136     ['two_conv_decoder3[0][0]']
 ntial)

 decoder2 (Concatenate)         (None, None, 768)    0           ['encode2[0][0]',
                                                                  'conv_transpose_decoder2[0][0]']

 two_conv_decoder2 (Sequential)  (None, None, 512)   1971200     ['decoder2[0][0]']

 conv_transpose_decoder1 (Seque  (None, None, 256)   525568      ['two_conv_decoder2[0][0]']
 ntial)

 decoder1 (Concatenate)         (None, None, 384)    0           ['encode1[0][0]',
                                                                  'conv_transpose_decoder1[0][0]']

 two_conv_decoder1 (Sequential)  (None, None, 256)   494080      ['decoder1[0][0]']

 conv_transpose_decoder0 (Seque  (None, None, 128)   131712      ['two_conv_decoder1[0][0]']
 ntial)

 decoder0 (Concatenate)         (None, None, 192)    0           ['encode0[0][0]',
                                                                  'conv_transpose_decoder0[0][0]']

 two_conv_decoder0 (Sequential)  (None, None, 128)   124160      ['decoder0[0][0]']

 conv1d_22 (Conv1D)             (None, None, 1)      129         ['two_conv_decoder0[0][0]']

==================================================================================================
Total params: 20,054,849
Trainable params: 20,033,345
Non-trainable params: 21,504
__________________________________________________________________________________________________
None
----------------------------------------
model: 34a6d207ac594035b1009c330fb67a65
WARNING:tensorflow:Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
2022-08-23 14:27:43,275 - build model -  Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
Model: "unet_depth3"
__________________________________________________________________________________________________
 Layer (type)                   Output Shape         Param #     Connected to
==================================================================================================
 input_1 (InputLayer)           [(None, None, 1)]    0           []

 encode0 (Sequential)           (None, None, 16)     976         ['input_1[0][0]']

 mp_encode0 (MaxPooling1D)      (None, None, 16)     0           ['encode0[0][0]']

 encode1 (Sequential)           (None, None, 32)     4928        ['mp_encode0[0][0]']

 mp_encode1 (MaxPooling1D)      (None, None, 32)     0           ['encode1[0][0]']

 encode2 (Sequential)           (None, None, 64)     19072       ['mp_encode1[0][0]']

 mp_encode2 (MaxPooling1D)      (None, None, 64)     0           ['encode2[0][0]']

 two_conv_center (Sequential)   (None, None, 128)    75008       ['mp_encode2[0][0]']

 conv_transpose_decoder2 (Seque  (None, None, 128)   66176       ['two_conv_center[0][0]']
 ntial)

 decoder2 (Concatenate)         (None, None, 192)    0           ['encode2[0][0]',
                                                                  'conv_transpose_decoder2[0][0]']

 two_conv_decoder2 (Sequential)  (None, None, 128)   124160      ['decoder2[0][0]']

 conv_transpose_decoder1 (Seque  (None, None, 64)    33088       ['two_conv_decoder2[0][0]']
 ntial)

 decoder1 (Concatenate)         (None, None, 96)     0           ['encode1[0][0]',
                                                                  'conv_transpose_decoder1[0][0]']

 two_conv_decoder1 (Sequential)  (None, None, 64)    31360       ['decoder1[0][0]']

 conv_transpose_decoder0 (Seque  (None, None, 32)    8352        ['two_conv_decoder1[0][0]']
 ntial)

 decoder0 (Concatenate)         (None, None, 48)     0           ['encode0[0][0]',
                                                                  'conv_transpose_decoder0[0][0]']

 two_conv_decoder0 (Sequential)  (None, None, 32)    8000        ['decoder0[0][0]']

 conv1d_14 (Conv1D)             (None, None, 1)      33          ['two_conv_decoder0[0][0]']

==================================================================================================
Total params: 371,153
Trainable params: 368,849
Non-trainable params: 2,304
__________________________________________________________________________________________________
None
----------------------------------------
model: 484af471c61943fa90e5f78e78a229f0
----------------------------------------
model: 0cd2023eeaf745aca0d3e8ad5e1fc653
WARNING:tensorflow:Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
2022-08-23 14:27:49,590 - build model -  Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
Model: "unet_depth6"
__________________________________________________________________________________________________
 Layer (type)                   Output Shape         Param #     Connected to
==================================================================================================
 input_1 (InputLayer)           [(None, None, 1)]    0           []

 encode0 (Sequential)           (None, None, 23)     1886        ['input_1[0][0]']

 mp_encode0 (MaxPooling1D)      (None, None, 23)     0           ['encode0[0][0]']

 encode1 (Sequential)           (None, None, 46)     9982        ['mp_encode0[0][0]']

 mp_encode1 (MaxPooling1D)      (None, None, 46)     0           ['encode1[0][0]']

 encode2 (Sequential)           (None, None, 92)     39008       ['mp_encode1[0][0]']

 mp_encode2 (MaxPooling1D)      (None, None, 92)     0           ['encode2[0][0]']

 encode3 (Sequential)           (None, None, 184)    154192      ['mp_encode2[0][0]']

 mp_encode3 (MaxPooling1D)      (None, None, 184)    0           ['encode3[0][0]']

 encode4 (Sequential)           (None, None, 368)    613088      ['mp_encode3[0][0]']

 mp_encode4 (MaxPooling1D)      (None, None, 368)    0           ['encode4[0][0]']

 encode5 (Sequential)           (None, None, 512)    1356800     ['mp_encode4[0][0]']

 mp_encode5 (MaxPooling1D)      (None, None, 512)    0           ['encode5[0][0]']

 two_conv_center (Sequential)   (None, None, 1024)   4728832     ['mp_encode5[0][0]']

 conv_transpose_decoder5 (Seque  (None, None, 512)   2099712     ['two_conv_center[0][0]']
 ntial)

 decoder5 (Concatenate)         (None, None, 1024)   0           ['encode5[0][0]',
                                                                  'conv_transpose_decoder5[0][0]']

 two_conv_decoder5 (Sequential)  (None, None, 512)   2364416     ['decoder5[0][0]']

 conv_transpose_decoder4 (Seque  (None, None, 512)   1051136     ['two_conv_decoder5[0][0]']
 ntial)

 decoder4 (Concatenate)         (None, None, 880)    0           ['encode4[0][0]',
                                                                  'conv_transpose_decoder4[0][0]']

 two_conv_decoder4 (Sequential)  (None, None, 512)   2143232     ['decoder4[0][0]']

 conv_transpose_decoder3 (Seque  (None, None, 368)   755504      ['two_conv_decoder4[0][0]']
 ntial)

 decoder3 (Concatenate)         (None, None, 552)    0           ['encode3[0][0]',
                                                                  'conv_transpose_decoder3[0][0]']

 two_conv_decoder3 (Sequential)  (None, None, 368)   1019360     ['decoder3[0][0]']

 conv_transpose_decoder2 (Seque  (None, None, 184)   271768      ['two_conv_decoder3[0][0]']
 ntial)

 decoder2 (Concatenate)         (None, None, 276)    0           ['encode2[0][0]',
                                                                  'conv_transpose_decoder2[0][0]']

 two_conv_decoder2 (Sequential)  (None, None, 184)   255760      ['decoder2[0][0]']

 conv_transpose_decoder1 (Seque  (None, None, 92)    68172       ['two_conv_decoder2[0][0]']
 ntial)

 decoder1 (Concatenate)         (None, None, 138)    0           ['encode1[0][0]',
                                                                  'conv_transpose_decoder1[0][0]']

 two_conv_decoder1 (Sequential)  (None, None, 92)    64400       ['decoder1[0][0]']

 conv_transpose_decoder0 (Seque  (None, None, 46)    17158       ['two_conv_decoder1[0][0]']
 ntial)

 decoder0 (Concatenate)         (None, None, 69)     0           ['encode0[0][0]',
                                                                  'conv_transpose_decoder0[0][0]']

 two_conv_decoder0 (Sequential)  (None, None, 46)    16330       ['decoder0[0][0]']

 conv1d_26 (Conv1D)             (None, None, 1)      47          ['two_conv_decoder0[0][0]']

==================================================================================================
Total params: 17,030,783
Trainable params: 17,011,503
Non-trainable params: 19,280
__________________________________________________________________________________________________
None
----------------------------------------
model: fe81d71c52404ed790b3a32051258da9
----------------------------------------
model: 19e3e786e1bc4e2b93856f5dc9de8216
----------------------------------------
model: c1204e3a8a1e4c40a35b5b7b1922d1ce
----------------------------------------
</pre>
</details>
</li>

<li>plot loss vs validation loss for models in hyperparameter training.
Unfortunately, this info was not saved out for the final runs due to a
misconfiguration in mlflow. So for the final runs print the final
train loss and validation loss

<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">hparam</span> = <span style="color: #783f5a;">run1_2_my</span>.<span style="color: #783778;">loc</span>[<span style="color: #374478;">cond2</span> &amp; <span style="color: #783f5a;">cond3</span>]
<span style="color: #4f5c7e;">hparam</span>.<span style="color: #707e4f;">rename</span>(<span style="color: #43783f;">index</span>=<span style="color: #3f7178;">model_dict</span>)

<span style="color: #268bd2;">fig</span>, <span style="color: #268bd2;">axs</span> = <span style="color: #4f7e67;">plt</span>.<span style="color: #7e544f;">subplots</span>(<span style="color: #657b83; font-weight: bold;">len</span>(<span style="color: #4f5c7e;">hparam</span>), 2, <span style="color: #4f7e67;">facecolor</span>=<span style="color: #2aa198;">'white'</span>, <span style="color: #784437;">figsize</span>=(9, <span style="color: #657b83; font-weight: bold;">len</span>(<span style="color: #4f5c7e;">hparam</span>)*3),
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">sharex</span>=<span style="color: #859900; font-weight: bold;">True</span>, <span style="color: #513f78;">tight_layout</span>=<span style="color: #859900; font-weight: bold;">True</span>)
<span style="color: #859900; font-weight: bold;">for</span> <span style="color: #707e4f;">i</span>, <span style="color: #78683f;">idx</span> <span style="color: #859900; font-weight: bold;">in</span> <span style="color: #657b83; font-weight: bold;">enumerate</span>(<span style="color: #4f5c7e;">hparam</span>.<span style="color: #43783f;">index</span>):
<span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">for</span> <span style="color: #783f5a;">j</span> <span style="color: #859900; font-weight: bold;">in</span> <span style="color: #657b83; font-weight: bold;">range</span>(2):
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">print</span>(<span style="color: #707e4f;">i</span>, <span style="color: #78683f;">idx</span>[<span style="color: #783f5a;">j</span>], <span style="color: #3f7178;">model_dict</span>[<span style="color: #78683f;">idx</span>])
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">try</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">logged_val_loss</span> = <span style="color: #78683f;">Path</span>(<span style="color: #43783f;">f</span><span style="color: #2aa198;">'/beegfs/ye53nis/drmed-git/data/mlruns/8/</span><span style="color: #268bd2;">{idx[j]}</span><span style="color: #2aa198;">/metrics/val_loss'</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">logged_val_loss</span> = !<span style="color: #4f7e67;">cat</span> $<span style="color: #4f5c7e;">logged_val_loss</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">logged_val_loss</span> = [<span style="color: #707e4f;">i</span>.<span style="color: #7a4f7e;">split</span>(<span style="color: #2aa198;">' '</span>) <span style="color: #859900; font-weight: bold;">for</span> <span style="color: #707e4f;">i</span> <span style="color: #859900; font-weight: bold;">in</span> <span style="color: #4f5c7e;">logged_val_loss</span>]
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">logged_val_loss</span> = <span style="color: #783778;">pd</span>.<span style="color: #784437;">DataFrame</span>(<span style="color: #4f5c7e;">logged_val_loss</span>, <span style="color: #784437;">columns</span>=[<span style="color: #2aa198;">'time'</span>, <span style="color: #2aa198;">'val_loss'</span>, <span style="color: #2aa198;">'epoch'</span>]).<span style="color: #374478;">astype</span>(<span style="color: #657b83; font-weight: bold;">float</span>)

<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">logged_train_loss</span> = <span style="color: #78683f;">Path</span>(<span style="color: #43783f;">f</span><span style="color: #2aa198;">'/beegfs/ye53nis/drmed-git/data/mlruns/8/</span><span style="color: #268bd2;">{idx[j]}</span><span style="color: #2aa198;">/metrics/loss'</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">logged_train_loss</span> = !<span style="color: #4f7e67;">cat</span> $<span style="color: #783778;">logged_train_loss</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">logged_train_loss</span> = [<span style="color: #707e4f;">i</span>.<span style="color: #7a4f7e;">split</span>(<span style="color: #2aa198;">' '</span>) <span style="color: #859900; font-weight: bold;">for</span> <span style="color: #707e4f;">i</span> <span style="color: #859900; font-weight: bold;">in</span> <span style="color: #783778;">logged_train_loss</span>]
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">logged_train_loss</span> = <span style="color: #783778;">pd</span>.<span style="color: #784437;">DataFrame</span>(<span style="color: #783778;">logged_train_loss</span>, <span style="color: #784437;">columns</span>=[<span style="color: #2aa198;">'time'</span>, <span style="color: #2aa198;">'train_loss'</span>, <span style="color: #2aa198;">'epoch'</span>]).<span style="color: #374478;">astype</span>(<span style="color: #657b83; font-weight: bold;">float</span>)

<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">losses</span> = <span style="color: #783778;">pd</span>.<span style="color: #784437;">DataFrame</span>([<span style="color: #783778;">logged_train_loss</span>.<span style="color: #4f5c7e;">iloc</span>[-1, 1], <span style="color: #4f5c7e;">logged_val_loss</span>.<span style="color: #4f5c7e;">iloc</span>[-1, 1]], <span style="color: #43783f;">index</span>=[<span style="color: #2aa198;">'train loss'</span>, <span style="color: #2aa198;">'val loss'</span>],
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #784437;">columns</span>=[<span style="color: #43783f;">f</span><span style="color: #2aa198;">'</span><span style="color: #268bd2;">{model_dict[idx]}</span><span style="color: #2aa198;">_</span><span style="color: #268bd2;">{j}</span><span style="color: #2aa198;">'</span>])
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #4f7e67;">display</span>(<span style="color: #37785e;">losses</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">last_losses</span> = <span style="color: #783778;">pd</span>.<span style="color: #7e544f;">concat</span>([<span style="color: #7a4f7e;">last_losses</span>, ])
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #4f5c7e;">sns</span>.<span style="color: #4f7e67;">lineplot</span>(<span style="color: #2aa198;">'epoch'</span>, <span style="color: #2aa198;">'train_loss'</span>, <span style="color: #784437;">data</span>=<span style="color: #783778;">logged_train_loss</span>, <span style="color: #7e544f;">ax</span>=<span style="color: #3f7178;">axs</span>[<span style="color: #707e4f;">i</span>, <span style="color: #783f5a;">j</span>], <span style="color: #783f5a;">label</span>=<span style="color: #2aa198;">'train loss'</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #4f5c7e;">sns</span>.<span style="color: #4f7e67;">lineplot</span>(<span style="color: #2aa198;">'epoch'</span>, <span style="color: #2aa198;">'val_loss'</span>, <span style="color: #784437;">data</span>=<span style="color: #4f5c7e;">logged_val_loss</span>, <span style="color: #7e544f;">ax</span>=<span style="color: #3f7178;">axs</span>[<span style="color: #707e4f;">i</span>, <span style="color: #783f5a;">j</span>], <span style="color: #783f5a;">label</span>=<span style="color: #2aa198;">'val loss'</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">if</span> <span style="color: #268bd2;">j</span> == <span style="color: #268bd2;">0</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">axs</span>[<span style="color: #707e4f;">i</span>, <span style="color: #783f5a;">j</span>].<span style="color: #783f5a;">set_title</span>(<span style="color: #3f7178;">model_dict</span>[<span style="color: #78683f;">idx</span>])
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">except</span> <span style="color: #657b83; font-weight: bold;">ValueError</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">pass</span>
<span style="color: #4f7e67;">plt</span>.<span style="color: #3f7178;">setp</span>(<span style="color: #3f7178;">axs</span>, <span style="color: #37785e;">yscale</span>=<span style="color: #2aa198;">'log'</span>, <span style="color: #707e4f;">ylabel</span>=<span style="color: #2aa198;">''</span>)
<span style="color: #4f7e67;">fig</span>.<span style="color: #43783f;">align_ylabels</span>(<span style="color: #3f7178;">axs</span>)
</pre>
</div>
<details>
<pre class="example">
0 9051e32b87d84f3485b980067addec30 484af471c61943fa90e5f78e78a229f0
</pre>

<table class="table table-striped table-bordered table-hover table-condensed">


<colgroup>
<col  class="left">

<col  class="right">
</colgroup>
<thead>
<tr>
<th scope="col" class="text-left">&#xa0;</th>
<th scope="col" class="text-right">484af471c61943fa90e5f78e78a229f0<sub>0</sub></th>
</tr>
</thead>
<tbody>
<tr>
<td class="text-left">train loss</td>
<td class="text-right">0.196100</td>
</tr>

<tr>
<td class="text-left">val loss</td>
<td class="text-right">0.199457</td>
</tr>
</tbody>
</table>
<pre class="example">
0 61ff87bdb89b4e2ba64f8dacc774992d 484af471c61943fa90e5f78e78a229f0
</pre>

<table class="table table-striped table-bordered table-hover table-condensed">


<colgroup>
<col  class="left">

<col  class="right">
</colgroup>
<thead>
<tr>
<th scope="col" class="text-left">&#xa0;</th>
<th scope="col" class="text-right">484af471c61943fa90e5f78e78a229f0<sub>1</sub></th>
</tr>
</thead>
<tbody>
<tr>
<td class="text-left">train loss</td>
<td class="text-right">0.194301</td>
</tr>

<tr>
<td class="text-left">val loss</td>
<td class="text-right">0.197833</td>
</tr>
</tbody>
</table>
<pre class="example">
1 93b168c0ff7942c8a908a94129daf973 0cd2023eeaf745aca0d3e8ad5e1fc653
</pre>

<table class="table table-striped table-bordered table-hover table-condensed">


<colgroup>
<col  class="left">

<col  class="right">
</colgroup>
<thead>
<tr>
<th scope="col" class="text-left">&#xa0;</th>
<th scope="col" class="text-right">0cd2023eeaf745aca0d3e8ad5e1fc653<sub>0</sub></th>
</tr>
</thead>
<tbody>
<tr>
<td class="text-left">train loss</td>
<td class="text-right">0.245977</td>
</tr>

<tr>
<td class="text-left">val loss</td>
<td class="text-right">0.250499</td>
</tr>
</tbody>
</table>
<pre class="example">
1 f243b3b742de4dbcb7ccfbd4244706f8 0cd2023eeaf745aca0d3e8ad5e1fc653
</pre>

<table class="table table-striped table-bordered table-hover table-condensed">


<colgroup>
<col  class="left">

<col  class="right">
</colgroup>
<thead>
<tr>
<th scope="col" class="text-left">&#xa0;</th>
<th scope="col" class="text-right">0cd2023eeaf745aca0d3e8ad5e1fc653<sub>1</sub></th>
</tr>
</thead>
<tbody>
<tr>
<td class="text-left">train loss</td>
<td class="text-right">0.278278</td>
</tr>

<tr>
<td class="text-left">val loss</td>
<td class="text-right">0.283107</td>
</tr>
</tbody>
</table>
<pre class="example">
2 a5b8551144ff46e697a39cd1551e1475 fe81d71c52404ed790b3a32051258da9
</pre>

<table class="table table-striped table-bordered table-hover table-condensed">


<colgroup>
<col  class="left">

<col  class="right">
</colgroup>
<thead>
<tr>
<th scope="col" class="text-left">&#xa0;</th>
<th scope="col" class="text-right">fe81d71c52404ed790b3a32051258da9<sub>0</sub></th>
</tr>
</thead>
<tbody>
<tr>
<td class="text-left">train loss</td>
<td class="text-right">0.185773</td>
</tr>

<tr>
<td class="text-left">val loss</td>
<td class="text-right">0.186789</td>
</tr>
</tbody>
</table>
<pre class="example">
2 98cf8cdef9c54b5286e277e75e2ab8c1 fe81d71c52404ed790b3a32051258da9
</pre>

<table class="table table-striped table-bordered table-hover table-condensed">


<colgroup>
<col  class="left">

<col  class="right">
</colgroup>
<thead>
<tr>
<th scope="col" class="text-left">&#xa0;</th>
<th scope="col" class="text-right">fe81d71c52404ed790b3a32051258da9<sub>1</sub></th>
</tr>
</thead>
<tbody>
<tr>
<td class="text-left">train loss</td>
<td class="text-right">0.183874</td>
</tr>

<tr>
<td class="text-left">val loss</td>
<td class="text-right">0.184316</td>
</tr>
</tbody>
</table>
<pre class="example">
3 00f2635d9fa2463c9a066722163405be ff67be0b68e540a9a29a36a2d0c7a5be
</pre>

<table class="table table-striped table-bordered table-hover table-condensed">


<colgroup>
<col  class="left">

<col  class="right">
</colgroup>
<thead>
<tr>
<th scope="col" class="text-left">&#xa0;</th>
<th scope="col" class="text-right">ff67be0b68e540a9a29a36a2d0c7a5be<sub>0</sub></th>
</tr>
</thead>
<tbody>
<tr>
<td class="text-left">train loss</td>
<td class="text-right">0.172448</td>
</tr>

<tr>
<td class="text-left">val loss</td>
<td class="text-right">0.178439</td>
</tr>
</tbody>
</table>
<pre class="example">
3 d0a8e1748b194f3290d471b6b44f19f8 ff67be0b68e540a9a29a36a2d0c7a5be
4 5604d43c1ece461b8e6eaa0dfb65d6dc 19e3e786e1bc4e2b93856f5dc9de8216
</pre>

<table class="table table-striped table-bordered table-hover table-condensed">


<colgroup>
<col  class="left">

<col  class="right">
</colgroup>
<thead>
<tr>
<th scope="col" class="text-left">&#xa0;</th>
<th scope="col" class="text-right">19e3e786e1bc4e2b93856f5dc9de8216<sub>0</sub></th>
</tr>
</thead>
<tbody>
<tr>
<td class="text-left">train loss</td>
<td class="text-right">0.250983</td>
</tr>

<tr>
<td class="text-left">val loss</td>
<td class="text-right">0.260167</td>
</tr>
</tbody>
</table>
<pre class="example">
4 3612536a77f34f22bc83d1d809140aa6 19e3e786e1bc4e2b93856f5dc9de8216
</pre>

<table class="table table-striped table-bordered table-hover table-condensed">


<colgroup>
<col  class="left">

<col  class="right">
</colgroup>
<thead>
<tr>
<th scope="col" class="text-left">&#xa0;</th>
<th scope="col" class="text-right">19e3e786e1bc4e2b93856f5dc9de8216<sub>1</sub></th>
</tr>
</thead>
<tbody>
<tr>
<td class="text-left">train loss</td>
<td class="text-right">0.246347</td>
</tr>

<tr>
<td class="text-left">val loss</td>
<td class="text-right">0.242849</td>
</tr>
</tbody>
</table>
<pre class="example">
5 7cafab027cdd4fc9bf20a43e989df510 347669d050f344ad9fb9e480c814f727
</pre>

<table class="table table-striped table-bordered table-hover table-condensed">


<colgroup>
<col  class="left">

<col  class="right">
</colgroup>
<thead>
<tr>
<th scope="col" class="text-left">&#xa0;</th>
<th scope="col" class="text-right">347669d050f344ad9fb9e480c814f727<sub>0</sub></th>
</tr>
</thead>
<tbody>
<tr>
<td class="text-left">train loss</td>
<td class="text-right">0.194196</td>
</tr>

<tr>
<td class="text-left">val loss</td>
<td class="text-right">0.221606</td>
</tr>
</tbody>
</table>
<pre class="example">
5 16dff15d935f45e2a836b1f41b07b4e3 347669d050f344ad9fb9e480c814f727
</pre>

<table class="table table-striped table-bordered table-hover table-condensed">


<colgroup>
<col  class="left">

<col  class="right">
</colgroup>
<thead>
<tr>
<th scope="col" class="text-left">&#xa0;</th>
<th scope="col" class="text-right">347669d050f344ad9fb9e480c814f727<sub>1</sub></th>
</tr>
</thead>
<tbody>
<tr>
<td class="text-left">train loss</td>
<td class="text-right">0.196745</td>
</tr>

<tr>
<td class="text-left">val loss</td>
<td class="text-right">0.250257</td>
</tr>
</tbody>
</table>
<pre class="example">
6 0e328920e86049928202db95e8cfb7be c1204e3a8a1e4c40a35b5b7b1922d1ce
</pre>

<table class="table table-striped table-bordered table-hover table-condensed">


<colgroup>
<col  class="left">

<col  class="right">
</colgroup>
<thead>
<tr>
<th scope="col" class="text-left">&#xa0;</th>
<th scope="col" class="text-right">c1204e3a8a1e4c40a35b5b7b1922d1ce<sub>0</sub></th>
</tr>
</thead>
<tbody>
<tr>
<td class="text-left">train loss</td>
<td class="text-right">0.266620</td>
</tr>

<tr>
<td class="text-left">val loss</td>
<td class="text-right">0.279587</td>
</tr>
</tbody>
</table>
<pre class="example">
6 bf9d2725eb16462d9a101f0a077ce2b5 c1204e3a8a1e4c40a35b5b7b1922d1ce
</pre>

<table class="table table-striped table-bordered table-hover table-condensed">


<colgroup>
<col  class="left">

<col  class="right">
</colgroup>
<thead>
<tr>
<th scope="col" class="text-left">&#xa0;</th>
<th scope="col" class="text-right">c1204e3a8a1e4c40a35b5b7b1922d1ce<sub>1</sub></th>
</tr>
</thead>
<tbody>
<tr>
<td class="text-left">train loss</td>
<td class="text-right">0.262320</td>
</tr>

<tr>
<td class="text-left">val loss</td>
<td class="text-right">0.265113</td>
</tr>
</tbody>
</table>
<pre class="example">
7 1c954fbc02b747bc813c587ac703c74a 714af8cd12c1441eac4ca980e8c20070
</pre>

<table class="table table-striped table-bordered table-hover table-condensed">


<colgroup>
<col  class="left">

<col  class="right">
</colgroup>
<thead>
<tr>
<th scope="col" class="text-left">&#xa0;</th>
<th scope="col" class="text-right">714af8cd12c1441eac4ca980e8c20070<sub>0</sub></th>
</tr>
</thead>
<tbody>
<tr>
<td class="text-left">train loss</td>
<td class="text-right">0.310728</td>
</tr>

<tr>
<td class="text-left">val loss</td>
<td class="text-right">0.317540</td>
</tr>
</tbody>
</table>
<pre class="example">
7 ba49a80c2616407a8f1fe1fd12096fe0 714af8cd12c1441eac4ca980e8c20070
</pre>

<table class="table table-striped table-bordered table-hover table-condensed">


<colgroup>
<col  class="left">

<col  class="right">
</colgroup>
<thead>
<tr>
<th scope="col" class="text-left">&#xa0;</th>
<th scope="col" class="text-right">714af8cd12c1441eac4ca980e8c20070<sub>1</sub></th>
</tr>
</thead>
<tbody>
<tr>
<td class="text-left">train loss</td>
<td class="text-right">0.303487</td>
</tr>

<tr>
<td class="text-left">val loss</td>
<td class="text-right">0.340323</td>
</tr>
</tbody>
</table>
<pre class="example">
8 3cbd945b62ec4634839372e403f6f377 34a6d207ac594035b1009c330fb67a65
</pre>

<table class="table table-striped table-bordered table-hover table-condensed">


<colgroup>
<col  class="left">

<col  class="right">
</colgroup>
<thead>
<tr>
<th scope="col" class="text-left">&#xa0;</th>
<th scope="col" class="text-right">34a6d207ac594035b1009c330fb67a65<sub>0</sub></th>
</tr>
</thead>
<tbody>
<tr>
<td class="text-left">train loss</td>
<td class="text-right">0.189994</td>
</tr>

<tr>
<td class="text-left">val loss</td>
<td class="text-right">0.249494</td>
</tr>
</tbody>
</table>
<pre class="example">
8 458b36a70db843719d202a8eda448f17 34a6d207ac594035b1009c330fb67a65
</pre>

<table class="table table-striped table-bordered table-hover table-condensed">


<colgroup>
<col  class="left">

<col  class="right">
</colgroup>
<thead>
<tr>
<th scope="col" class="text-left">&#xa0;</th>
<th scope="col" class="text-right">34a6d207ac594035b1009c330fb67a65<sub>1</sub></th>
</tr>
</thead>
<tbody>
<tr>
<td class="text-left">train loss</td>
<td class="text-right">0.211194</td>
</tr>

<tr>
<td class="text-left">val loss</td>
<td class="text-right">0.239334</td>
</tr>
</tbody>
</table>
</details>


<figure>
<p><img src="./jupyter/analysis1_train-loss-vs-val-loss.png" class="img-responsive" alt="analysis1_train-loss-vs-val-loss.png">
</p>
</figure>
</li>
</ul>
</div>
</div>


<div id="outline-container-sec-2-1-10" class="outline-4">
<h4 id="sec-2-1-10"><a id="ID-3d3f3924-b489-449e-abfd-318443f3fa94" name="ID-3d3f3924-b489-449e-abfd-318443f3fa94"></a><span class="section-number-4">2.1.10</span> Experiment 2: Evaluate models on simulated test data</h4>
<div class="outline-text-4" id="text-2-1-10">
<ul class="org-ul">
<li>go to correct folder, load modules
<details>
<div class="org-src-container">

<pre class="src src-jupyter-python">%<span style="color: #707e4f;">cd</span> /<span style="color: #5e7837;">beegfs</span>/<span style="color: #7a4f7e;">ye53nis</span>/<span style="color: #784437;">drmed</span>-<span style="color: #784437;">git</span>
</pre>
</div>

<pre class="example">
/beegfs/ye53nis/drmed-git
</pre>


<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #859900; font-weight: bold;">import</span> <span style="color: #7e544f;">datetime</span>
<span style="color: #859900; font-weight: bold;">import</span> <span style="color: #7a4f7e;">logging</span>
<span style="color: #859900; font-weight: bold;">import</span> <span style="color: #37785e;">multipletau</span>
<span style="color: #859900; font-weight: bold;">import</span> <span style="color: #7e544f;">os</span>
<span style="color: #859900; font-weight: bold;">import</span> <span style="color: #513f78;">sys</span>

<span style="color: #859900; font-weight: bold;">import</span> <span style="color: #37785e;">matplotlib</span>.<span style="color: #4f7e67;">pyplot</span> <span style="color: #859900; font-weight: bold;">as</span> <span style="color: #4f7e67;">plt</span>
<span style="color: #859900; font-weight: bold;">import</span> <span style="color: #4f5c7e;">numpy</span> <span style="color: #859900; font-weight: bold;">as</span> <span style="color: #707e4f;">np</span>
<span style="color: #859900; font-weight: bold;">import</span> <span style="color: #5e7837;">pandas</span> <span style="color: #859900; font-weight: bold;">as</span> <span style="color: #783778;">pd</span>
<span style="color: #859900; font-weight: bold;">import</span> <span style="color: #78683f;">seaborn</span> <span style="color: #859900; font-weight: bold;">as</span> <span style="color: #4f5c7e;">sns</span>
<span style="color: #859900; font-weight: bold;">import</span> <span style="color: #513f78;">tensorflow</span> <span style="color: #859900; font-weight: bold;">as</span> <span style="color: #37785e;">tf</span>

<span style="color: #859900; font-weight: bold;">from</span> <span style="color: #43783f;">pathlib</span> <span style="color: #859900; font-weight: bold;">import</span> <span style="color: #78683f;">Path</span>
<span style="color: #859900; font-weight: bold;">from</span> <span style="color: #4f7e67;">pprint</span> <span style="color: #859900; font-weight: bold;">import</span> <span style="color: #4f7e67;">pprint</span>
<span style="color: #859900; font-weight: bold;">from</span> <span style="color: #513f78;">tensorflow</span>.<span style="color: #784437;">keras</span>.<span style="color: #43783f;">optimizers</span> <span style="color: #859900; font-weight: bold;">import</span> <span style="color: #783778;">Adam</span>
<span style="color: #859900; font-weight: bold;">from</span> <span style="color: #5e7837;">mlflow</span>.<span style="color: #784437;">keras</span> <span style="color: #859900; font-weight: bold;">import</span> <span style="color: #783f5a;">load_model</span>

<span style="color: #268bd2;">FLUOTRACIFY_PATH</span> = <span style="color: #2aa198;">'/beegfs/ye53nis/drmed-git/src/'</span>
<span style="color: #513f78;">sys</span>.<span style="color: #513f78;">path</span>.<span style="color: #5e7837;">append</span>(<span style="color: #784437;">FLUOTRACIFY_PATH</span>)
<span style="color: #859900; font-weight: bold;">from</span> <span style="color: #783778;">fluotracify</span>.<span style="color: #4f5c7e;">applications</span> <span style="color: #859900; font-weight: bold;">import</span> (<span style="color: #3f7178;">corr_fit_object</span> <span style="color: #859900; font-weight: bold;">as</span> <span style="color: #78683f;">cfo</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #3f7178;">correction</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #5e7837;">correlate</span>)
<span style="color: #859900; font-weight: bold;">from</span> <span style="color: #783778;">fluotracify</span>.<span style="color: #783f5a;">imports</span> <span style="color: #859900; font-weight: bold;">import</span> <span style="color: #7a4f7e;">ptu_utils</span> <span style="color: #859900; font-weight: bold;">as</span> <span style="color: #78683f;">ptu</span>
<span style="color: #859900; font-weight: bold;">from</span> <span style="color: #783778;">fluotracify</span>.<span style="color: #3f7178;">training</span> <span style="color: #859900; font-weight: bold;">import</span> (<span style="color: #783778;">build_model</span> <span style="color: #859900; font-weight: bold;">as</span> <span style="color: #374478;">bm</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #784437;">preprocess_data</span> <span style="color: #859900; font-weight: bold;">as</span> <span style="color: #783f5a;">ppd</span>)
<span style="color: #859900; font-weight: bold;">from</span> <span style="color: #783778;">fluotracify</span>.<span style="color: #5e7837;">simulations</span> <span style="color: #859900; font-weight: bold;">import</span> (
<span style="background-color: #eee8d5;"> </span>  <span style="color: #707e4f;">import_simulation_from_csv</span> <span style="color: #859900; font-weight: bold;">as</span> <span style="color: #4f5c7e;">isfc</span>,
<span style="background-color: #eee8d5;"> </span>  <span style="color: #43783f;">analyze_simulations</span> <span style="color: #859900; font-weight: bold;">as</span> <span style="color: #7a4f7e;">ans</span>,
)

<span style="color: #7a4f7e;">logging</span>.<span style="color: #7e544f;">basicConfig</span>(<span style="color: #43783f;">filename</span>=<span style="color: #2aa198;">"/beegfs/ye53nis/drmed-git/data/exp-220227-unet/jupyter.log"</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #657b83; font-weight: bold;">format</span>=<span style="color: #2aa198;">'%(asctime)s - %(message)s'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #783778;">filemode</span>=<span style="color: #2aa198;">'w'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #374478;">force</span>=<span style="color: #859900; font-weight: bold;">True</span>)
<span style="color: #268bd2;">log</span> = <span style="color: #7a4f7e;">logging</span>.<span style="color: #784437;">getLogger</span>(<span style="color: #657b83; font-weight: bold;">__name__</span>)
<span style="color: #78683f;">log</span>.<span style="color: #4f5c7e;">setLevel</span>(<span style="color: #7a4f7e;">logging</span>.<span style="color: #783778;">DEBUG</span>)

<span style="color: #4f5c7e;">sns</span>.<span style="color: #374478;">set_theme</span>(<span style="color: #3f7178;">style</span>=<span style="color: #2aa198;">"whitegrid"</span>, <span style="color: #784437;">font_scale</span>=2, <span style="color: #5e7837;">palette</span>=<span style="color: #2aa198;">'colorblind'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #4f7e67;">context</span>=<span style="color: #2aa198;">'paper'</span>)

<span style="color: #268bd2;">model_ls</span> = [<span style="color: #2aa198;">'ff67be0b68e540a9a29a36a2d0c7a5be'</span>, <span style="color: #2aa198;">'347669d050f344ad9fb9e480c814f727'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">'714af8cd12c1441eac4ca980e8c20070'</span>, <span style="color: #2aa198;">'34a6d207ac594035b1009c330fb67a65'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">'484af471c61943fa90e5f78e78a229f0'</span>, <span style="color: #2aa198;">'0cd2023eeaf745aca0d3e8ad5e1fc653'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">'fe81d71c52404ed790b3a32051258da9'</span>, <span style="color: #2aa198;">'19e3e786e1bc4e2b93856f5dc9de8216'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">'c1204e3a8a1e4c40a35b5b7b1922d1ce'</span>]

<span style="color: #268bd2;">model_name_ls</span> = [<span style="color: #43783f;">f</span><span style="color: #2aa198;">'</span><span style="color: #268bd2;">{s:.5}</span><span style="color: #2aa198;">'</span> <span style="color: #859900; font-weight: bold;">for</span> <span style="color: #784437;">s</span> <span style="color: #859900; font-weight: bold;">in</span> <span style="color: #513f78;">model_ls</span>]

<span style="color: #268bd2;">pred_thresh</span> = 0.5
</pre>
</div>

<pre class="example">
2022-08-24 10:31:45.084478: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcudart.so.11.0'; dlerror: libcudart.so.11.0: cannot open shared object file: No such file or directory
2022-08-24 10:31:45.084513: I tensorflow/stream_executor/cuda/cudart_stub.cc:29] Ignore above cudart dlerror if you do not have a GPU set up on your machine.
</pre>


<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #859900; font-weight: bold;">import</span> <span style="color: #7e544f;">importlib</span>
<span style="color: #7e544f;">importlib</span>.<span style="color: #707e4f;">reload</span>(<span style="color: #783f5a;">ppd</span>)
<span style="color: #7e544f;">importlib</span>.<span style="color: #707e4f;">reload</span>(<span style="color: #78683f;">cfo</span>)
</pre>
</div>

<pre class="example">
&lt;module 'fluotracify.applications.corr_fit_object' from '/beegfs/ye53nis/drmed-git/src/fluotracify/applications/corr_fit_object.py'&gt;
</pre>
</details>
</li>
<li>Load test data from simulation experiments

<details>
<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">col_per_example</span> = 3
<span style="color: #268bd2;">lab_thresh</span> = 0.04
<span style="color: #268bd2;">artifact</span> = 0
<span style="color: #268bd2;">model_type</span> = 1
<span style="color: #268bd2;">fwhm</span> = 250

<span style="color: #268bd2;">output_path</span> = <span style="color: #2aa198;">"/beegfs/ye53nis/drmed-git/data/exp-220227-unet/2022-04-22_simulations/"</span>
<span style="color: #268bd2;">sim_path</span> = <span style="color: #78683f;">Path</span>(<span style="color: #2aa198;">'/beegfs/ye53nis/saves/firstartifact_Nov2020_test'</span>)

<span style="color: #268bd2;">sim</span>, <span style="color: #657b83; font-weight: bold;">_</span>, <span style="color: #268bd2;">nsamples</span>, <span style="color: #268bd2;">sim_params</span> = <span style="color: #4f5c7e;">isfc</span>.<span style="color: #37785e;">import_from_csv</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #783f5a;">folder</span>=<span style="color: #5e7837;">sim_path</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">header</span>=12,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #7a4f7e;">frac_train</span>=1,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">col_per_example</span>=<span style="color: #78683f;">col_per_example</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #707e4f;">dropindex</span>=<span style="color: #859900; font-weight: bold;">None</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #5e7837;">dropcolumns</span>=<span style="color: #859900; font-weight: bold;">None</span>)

<span style="color: #268bd2;">diffrates</span> = <span style="color: #4f5c7e;">sim_params</span>.<span style="color: #783778;">loc</span>[<span style="color: #2aa198;">'diffusion rate of molecules in micrometer^2 / s'</span>].<span style="color: #374478;">astype</span>(<span style="color: #707e4f;">np</span>.<span style="color: #78683f;">float32</span>)
<span style="color: #268bd2;">nmols</span> = <span style="color: #4f5c7e;">sim_params</span>.<span style="color: #783778;">loc</span>[<span style="color: #2aa198;">'number of fast molecules'</span>].<span style="color: #374478;">astype</span>(<span style="color: #707e4f;">np</span>.<span style="color: #78683f;">float32</span>)
<span style="color: #268bd2;">clusters</span> = <span style="color: #4f5c7e;">sim_params</span>.<span style="color: #783778;">loc</span>[<span style="color: #2aa198;">'diffusion rate of clusters in micrometer^2 / s'</span>].<span style="color: #374478;">astype</span>(<span style="color: #707e4f;">np</span>.<span style="color: #78683f;">float32</span>)
<span style="color: #268bd2;">sim_columns</span> = [<span style="color: #43783f;">f</span><span style="color: #2aa198;">'</span><span style="color: #268bd2;">{d:.4}</span><span style="color: #2aa198;">-</span><span style="color: #268bd2;">{c:.4}</span><span style="color: #2aa198;">'</span> <span style="color: #859900; font-weight: bold;">for</span> <span style="color: #7a4f7e;">d</span>, <span style="color: #707e4f;">c</span> <span style="color: #859900; font-weight: bold;">in</span> <span style="color: #657b83; font-weight: bold;">zip</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #707e4f;">np</span>.<span style="color: #43783f;">repeat</span>(<span style="color: #513f78;">diffrates</span>, <span style="color: #783f5a;">nsamples</span>[0]),
<span style="background-color: #eee8d5;"> </span>   <span style="color: #707e4f;">np</span>.<span style="color: #43783f;">repeat</span>(<span style="color: #7e544f;">clusters</span>, <span style="color: #783f5a;">nsamples</span>[0]))]

<span style="color: #268bd2;">sim_sep</span> = <span style="color: #4f5c7e;">isfc</span>.<span style="color: #3f7178;">separate_data_and_labels</span>(<span style="color: #78683f;">array</span>=<span style="color: #7a4f7e;">sim</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #783f5a;">nsamples</span>=<span style="color: #783f5a;">nsamples</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">col_per_example</span>=<span style="color: #78683f;">col_per_example</span>)
<span style="color: #268bd2;">sim_dirty</span> = <span style="color: #783f5a;">sim_sep</span>[<span style="color: #2aa198;">'0'</span>]
<span style="color: #268bd2;">sim_dirty.columns</span> = <span style="color: #784437;">sim_columns</span>

<span style="color: #268bd2;">sim_labels</span> = <span style="color: #783f5a;">sim_sep</span>[<span style="color: #2aa198;">'1'</span>]
<span style="color: #268bd2;">sim_labels.columns</span> = <span style="color: #784437;">sim_columns</span>
<span style="color: #268bd2;">sim_labbool</span> = <span style="color: #783778;">sim_labels</span> &gt; <span style="color: #37785e;">lab_thresh</span>
<span style="color: #268bd2;">sim_labbool.columns</span> = <span style="color: #784437;">sim_columns</span>
<span style="color: #268bd2;">sim_clean</span> = <span style="color: #783f5a;">sim_sep</span>[<span style="color: #2aa198;">'2'</span>]
<span style="color: #268bd2;">sim_clean.columns</span> = <span style="color: #784437;">sim_columns</span>

<span style="color: #707e4f;">sim_dirty</span>
</pre>
</div>
</details>

<table class="table table-striped table-bordered table-hover table-condensed">


<colgroup>
<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="left">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">
</colgroup>
<thead>
<tr>
<th scope="col" class="text-right">&#xa0;</th>
<th scope="col" class="text-right">0.069-1.0</th>
<th scope="col" class="text-right">0.069-1.0</th>
<th scope="col" class="text-right">0.069-1.0</th>
<th scope="col" class="text-right">0.069-1.0</th>
<th scope="col" class="text-right">0.069-1.0</th>
<th scope="col" class="text-right">0.069-1.0</th>
<th scope="col" class="text-right">0.069-1.0</th>
<th scope="col" class="text-right">0.069-1.0</th>
<th scope="col" class="text-right">0.069-1.0</th>
<th scope="col" class="text-right">0.069-1.0</th>
<th scope="col" class="text-left">&#x2026;</th>
<th scope="col" class="text-right">0.4-0.01</th>
<th scope="col" class="text-right">0.4-0.01</th>
<th scope="col" class="text-right">0.4-0.01</th>
<th scope="col" class="text-right">0.4-0.01</th>
<th scope="col" class="text-right">0.4-0.01</th>
<th scope="col" class="text-right">0.4-0.01</th>
<th scope="col" class="text-right">0.4-0.01</th>
<th scope="col" class="text-right">0.4-0.01</th>
<th scope="col" class="text-right">0.4-0.01</th>
<th scope="col" class="text-right">0.4-0.01</th>
</tr>
</thead>
<tbody>
<tr>
<td class="text-right">0</td>
<td class="text-right">395.062347</td>
<td class="text-right">542.019287</td>
<td class="text-right">259.171783</td>
<td class="text-right">378.006470</td>
<td class="text-right">672.683350</td>
<td class="text-right">422.525299</td>
<td class="text-right">435.934174</td>
<td class="text-right">535.840027</td>
<td class="text-right">341.197662</td>
<td class="text-right">546.919556</td>
<td class="text-left">&#x2026;</td>
<td class="text-right">1194.309570</td>
<td class="text-right">1331.900391</td>
<td class="text-right">1614.625854</td>
<td class="text-right">1096.244019</td>
<td class="text-right">5350.819336</td>
<td class="text-right">1109.356201</td>
<td class="text-right">1231.328979</td>
<td class="text-right">2721.381592</td>
<td class="text-right">1671.956787</td>
<td class="text-right">1572.913452</td>
</tr>

<tr>
<td class="text-right">1</td>
<td class="text-right">395.732605</td>
<td class="text-right">676.451477</td>
<td class="text-right">263.082733</td>
<td class="text-right">365.738861</td>
<td class="text-right">672.841858</td>
<td class="text-right">436.986450</td>
<td class="text-right">408.519165</td>
<td class="text-right">578.790833</td>
<td class="text-right">357.324097</td>
<td class="text-right">518.666321</td>
<td class="text-left">&#x2026;</td>
<td class="text-right">1226.035278</td>
<td class="text-right">1348.827026</td>
<td class="text-right">1727.460327</td>
<td class="text-right">1040.826294</td>
<td class="text-right">5548.753418</td>
<td class="text-right">1241.292969</td>
<td class="text-right">1197.370972</td>
<td class="text-right">2785.768066</td>
<td class="text-right">1749.072510</td>
<td class="text-right">1544.390259</td>
</tr>

<tr>
<td class="text-right">2</td>
<td class="text-right">385.598785</td>
<td class="text-right">565.850403</td>
<td class="text-right">258.483124</td>
<td class="text-right">350.939362</td>
<td class="text-right">680.929993</td>
<td class="text-right">416.969391</td>
<td class="text-right">408.744873</td>
<td class="text-right">572.143921</td>
<td class="text-right">350.399933</td>
<td class="text-right">546.654846</td>
<td class="text-left">&#x2026;</td>
<td class="text-right">1236.471436</td>
<td class="text-right">1323.095703</td>
<td class="text-right">1817.804810</td>
<td class="text-right">949.081665</td>
<td class="text-right">5418.844727</td>
<td class="text-right">1285.566650</td>
<td class="text-right">1229.268799</td>
<td class="text-right">2961.105225</td>
<td class="text-right">1643.184204</td>
<td class="text-right">1486.991211</td>
</tr>

<tr>
<td class="text-right">3</td>
<td class="text-right">375.055664</td>
<td class="text-right">569.737793</td>
<td class="text-right">252.117035</td>
<td class="text-right">364.043427</td>
<td class="text-right">651.953247</td>
<td class="text-right">449.630371</td>
<td class="text-right">390.186218</td>
<td class="text-right">521.915283</td>
<td class="text-right">366.314545</td>
<td class="text-right">534.204285</td>
<td class="text-left">&#x2026;</td>
<td class="text-right">1192.580566</td>
<td class="text-right">1219.429932</td>
<td class="text-right">1844.903687</td>
<td class="text-right">888.757324</td>
<td class="text-right">5756.974121</td>
<td class="text-right">1303.747803</td>
<td class="text-right">1190.227539</td>
<td class="text-right">3127.305664</td>
<td class="text-right">1713.993042</td>
<td class="text-right">1427.290771</td>
</tr>

<tr>
<td class="text-right">4</td>
<td class="text-right">400.554443</td>
<td class="text-right">590.014893</td>
<td class="text-right">241.840240</td>
<td class="text-right">376.104645</td>
<td class="text-right">681.107056</td>
<td class="text-right">466.177185</td>
<td class="text-right">380.395752</td>
<td class="text-right">531.094727</td>
<td class="text-right">370.980286</td>
<td class="text-right">537.930359</td>
<td class="text-left">&#x2026;</td>
<td class="text-right">1168.627441</td>
<td class="text-right">1194.065186</td>
<td class="text-right">1756.768799</td>
<td class="text-right">887.986389</td>
<td class="text-right">5481.615234</td>
<td class="text-right">1324.906250</td>
<td class="text-right">1268.030762</td>
<td class="text-right">2997.608887</td>
<td class="text-right">1744.911865</td>
<td class="text-right">1426.806763</td>
</tr>

<tr>
<td class="text-right">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-left">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-right">&#x2026;</td>
</tr>

<tr>
<td class="text-right">16379</td>
<td class="text-right">433.562714</td>
<td class="text-right">624.462646</td>
<td class="text-right">643.004944</td>
<td class="text-right">518.733643</td>
<td class="text-right">563.566589</td>
<td class="text-right">578.520813</td>
<td class="text-right">348.858429</td>
<td class="text-right">330.541473</td>
<td class="text-right">9484.205078</td>
<td class="text-right">376.017700</td>
<td class="text-left">&#x2026;</td>
<td class="text-right">1352.349854</td>
<td class="text-right">1400.204102</td>
<td class="text-right">2025.719604</td>
<td class="text-right">934.456665</td>
<td class="text-right">2333.292725</td>
<td class="text-right">1499.182251</td>
<td class="text-right">1344.230347</td>
<td class="text-right">1172.255371</td>
<td class="text-right">1347.495239</td>
<td class="text-right">756.805908</td>
</tr>

<tr>
<td class="text-right">16380</td>
<td class="text-right">462.284454</td>
<td class="text-right">616.137512</td>
<td class="text-right">597.266296</td>
<td class="text-right">487.652924</td>
<td class="text-right">572.072327</td>
<td class="text-right">612.569275</td>
<td class="text-right">328.044495</td>
<td class="text-right">331.003693</td>
<td class="text-right">8237.546875</td>
<td class="text-right">373.477081</td>
<td class="text-left">&#x2026;</td>
<td class="text-right">1305.663696</td>
<td class="text-right">1453.817993</td>
<td class="text-right">1847.917114</td>
<td class="text-right">1012.087402</td>
<td class="text-right">2349.776611</td>
<td class="text-right">1498.571411</td>
<td class="text-right">1446.490479</td>
<td class="text-right">1191.984253</td>
<td class="text-right">1482.415894</td>
<td class="text-right">712.499878</td>
</tr>

<tr>
<td class="text-right">16381</td>
<td class="text-right">472.551483</td>
<td class="text-right">612.926758</td>
<td class="text-right">615.009460</td>
<td class="text-right">516.941528</td>
<td class="text-right">579.562378</td>
<td class="text-right">624.847717</td>
<td class="text-right">308.531097</td>
<td class="text-right">308.009369</td>
<td class="text-right">2722.457275</td>
<td class="text-right">352.414612</td>
<td class="text-left">&#x2026;</td>
<td class="text-right">1384.178711</td>
<td class="text-right">1428.226440</td>
<td class="text-right">1641.537109</td>
<td class="text-right">975.000366</td>
<td class="text-right">2291.302734</td>
<td class="text-right">1541.471436</td>
<td class="text-right">1334.644897</td>
<td class="text-right">1173.113770</td>
<td class="text-right">1520.151367</td>
<td class="text-right">587.645203</td>
</tr>

<tr>
<td class="text-right">16382</td>
<td class="text-right">486.679413</td>
<td class="text-right">637.962769</td>
<td class="text-right">616.344116</td>
<td class="text-right">502.372345</td>
<td class="text-right">593.559937</td>
<td class="text-right">673.262634</td>
<td class="text-right">307.834229</td>
<td class="text-right">322.522400</td>
<td class="text-right">2823.112305</td>
<td class="text-right">336.442596</td>
<td class="text-left">&#x2026;</td>
<td class="text-right">1258.534058</td>
<td class="text-right">1423.324341</td>
<td class="text-right">1560.817139</td>
<td class="text-right">1023.877014</td>
<td class="text-right">2185.760742</td>
<td class="text-right">1455.700928</td>
<td class="text-right">1387.281250</td>
<td class="text-right">1124.065552</td>
<td class="text-right">1572.194336</td>
<td class="text-right">618.202820</td>
</tr>

<tr>
<td class="text-right">16383</td>
<td class="text-right">489.893646</td>
<td class="text-right">614.733704</td>
<td class="text-right">614.638000</td>
<td class="text-right">511.408234</td>
<td class="text-right">595.268982</td>
<td class="text-right">673.656921</td>
<td class="text-right">318.466736</td>
<td class="text-right">305.981110</td>
<td class="text-right">1768.038330</td>
<td class="text-right">361.107300</td>
<td class="text-left">&#x2026;</td>
<td class="text-right">1114.534912</td>
<td class="text-right">1386.146484</td>
<td class="text-right">1548.830078</td>
<td class="text-right">1009.011658</td>
<td class="text-right">2117.508789</td>
<td class="text-right">1569.905518</td>
<td class="text-right">1396.511353</td>
<td class="text-right">1070.131104</td>
<td class="text-right">1602.530029</td>
<td class="text-right">654.377380</td>
</tr>
</tbody>
</table>

<p>
16384 rows × 3000 columns
</p>

<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">dataset_test</span>, <span style="color: #268bd2;">num_test_examples</span> = <span style="color: #783f5a;">ppd</span>.<span style="color: #707e4f;">tfds_from_pddf</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #783778;">features_df</span>=<span style="color: #707e4f;">sim_dirty</span>, <span style="color: #43783f;">labels_df</span>=<span style="color: #4f7e67;">sim_labbool</span>, <span style="color: #78683f;">frac_val</span>=<span style="color: #859900; font-weight: bold;">False</span>)
<span style="color: #7a4f7e;">dataset_test</span>
</pre>
</div>

<pre class="example">
2022-08-23 13:50:29.331909: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcuda.so.1'; dlerror: libcuda.so.1: cannot open shared object file: No such file or directory
2022-08-23 13:50:29.331967: W tensorflow/stream_executor/cuda/cuda_driver.cc:269] failed call to cuInit: UNKNOWN ERROR (303)
2022-08-23 13:50:29.331995: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:156] kernel driver does not appear to be running on this host (node100): /proc/driver/nvidia/version does not exist
2022-08-23 13:50:29.332353: I tensorflow/core/platform/cpu_feature_guard.cc:193] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX2 FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
&lt;MapDataset element_spec=(TensorSpec(shape=(16384, 1), dtype=tf.float32, name=None), TensorSpec(shape=(16384, 1), dtype=tf.float32, name=None))&gt;
</pre>
</li>
<li>now apply each model to the held-out test dataset and evaluate prediction
performance. We also get info on the inference time in total and for each
step.
<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">eva</span> = <span style="color: #783778;">pd</span>.<span style="color: #784437;">DataFrame</span>()
<span style="color: #859900; font-weight: bold;">for</span> <span style="color: #707e4f;">i</span> <span style="color: #859900; font-weight: bold;">in</span> <span style="color: #268bd2;">model_ls</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">logged_scaler</span> = <span style="color: #78683f;">Path</span>(<span style="color: #43783f;">f</span><span style="color: #2aa198;">'/beegfs/ye53nis/drmed-git/data/mlruns/10/{i}/params/scaler'</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">logged_scaler</span> = !<span style="color: #4f7e67;">cat</span> $<span style="color: #783f5a;">logged_scaler</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">logged_scaler</span> = <span style="color: #783f5a;">logged_scaler</span>[0]

<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">logged_model</span> = <span style="color: #78683f;">Path</span>(<span style="color: #43783f;">f</span><span style="color: #2aa198;">'/beegfs/ye53nis/drmed-git/data/mlruns/10/{i}/artifacts/model'</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">logged_model</span> = <span style="color: #783f5a;">load_model</span>(<span style="color: #783f5a;">logged_model</span>, <span style="color: #657b83; font-weight: bold;">compile</span>=<span style="color: #859900; font-weight: bold;">False</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="color: #783f5a;">logged_model</span>.<span style="color: #374478;">compile</span>(<span style="color: #783f5a;">loss</span>=<span style="color: #374478;">bm</span>.<span style="color: #783f5a;">binary_ce_dice_loss</span>(),
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #7a4f7e;">optimizer</span>=<span style="color: #783778;">Adam</span>(),
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #43783f;">metrics</span> = <span style="color: #374478;">bm</span>.<span style="color: #374478;">unet_metrics</span>([0.1, 0.3, 0.5, 0.7, 0.9]))

<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">dataset</span> = <span style="color: #7a4f7e;">dataset_test</span>.<span style="color: #4f7e67;">map</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">lambda</span> <span style="color: #3f7178;">trace</span>, <span style="color: #783f5a;">label</span>: <span style="color: #783f5a;">ppd</span>.<span style="color: #707e4f;">tfds_scale_trace_and_label</span>(<span style="color: #3f7178;">trace</span>, <span style="color: #783f5a;">label</span>, <span style="color: #783f5a;">logged_scaler</span>),
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">num_parallel_calls</span>=<span style="color: #37785e;">tf</span>.<span style="color: #784437;">data</span>.<span style="color: #3f7178;">AUTOTUNE</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">dataset</span> = <span style="color: #37785e;">dataset</span>.<span style="color: #4f7e67;">map</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #783f5a;">ppd</span>.<span style="color: #7e544f;">tfds_pad_trace_and_label</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">num_parallel_calls</span>=<span style="color: #37785e;">tf</span>.<span style="color: #784437;">data</span>.<span style="color: #3f7178;">AUTOTUNE</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">dataset</span> = <span style="color: #37785e;">dataset</span>.<span style="color: #4f7e67;">batch</span>(1)
<span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">print</span>(<span style="color: #43783f;">f</span><span style="color: #2aa198;">'model: </span><span style="color: #268bd2;">{i}</span><span style="color: #2aa198;">'</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">eva_new</span> = <span style="color: #783f5a;">logged_model</span>.<span style="color: #5e7837;">evaluate</span>(<span style="color: #37785e;">dataset</span>, <span style="color: #37785e;">verbose</span>=2, <span style="color: #78683f;">return_dict</span>=<span style="color: #859900; font-weight: bold;">True</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">eva_new</span> = <span style="color: #783778;">pd</span>.<span style="color: #784437;">DataFrame</span>(<span style="color: #4f5c7e;">eva_new</span>.<span style="color: #783778;">values</span>(), <span style="color: #43783f;">index</span>=<span style="color: #4f5c7e;">eva_new</span>.<span style="color: #78683f;">keys</span>(), <span style="color: #784437;">columns</span>=[<span style="color: #43783f;">f</span><span style="color: #2aa198;">'</span><span style="color: #268bd2;">{i}</span><span style="color: #2aa198;">'</span>])
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">eva</span> = <span style="color: #783778;">pd</span>.<span style="color: #7e544f;">concat</span>([<span style="color: #37785e;">eva</span>, <span style="color: #4f5c7e;">eva_new</span>], <span style="color: #784437;">axis</span>=<span style="color: #2aa198;">'columns'</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">print</span>(<span style="color: #2aa198;">'----------------------------------------'</span>)


</pre>
</div>

<pre class="example">
WARNING:tensorflow:Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
model: ff67be0b68e540a9a29a36a2d0c7a5be
3000/3000 - 47s - loss: 0.1929 - tp0.1: 7216054.0000 - fp0.1: 1445349.0000 - tn0.1: 40150456.0000 - fn0.1: 340179.0000 - precision0.1: 0.8331 - recall0.1: 0.9550 - tp0.3: 7068737.0000 - fp0.3: 874006.0000 - tn0.3: 40721760.0000 - fn0.3: 487496.0000 - precision0.3: 0.8900 - recall0.3: 0.9355 - tp0.5: 6879515.0000 - fp0.5: 517256.0000 - tn0.5: 41078488.0000 - fn0.5: 676718.0000 - precision0.5: 0.9301 - recall0.5: 0.9104 - tp0.7: 6640601.0000 - fp0.7: 285835.0000 - tn0.7: 41309920.0000 - fn0.7: 915632.0000 - precision0.7: 0.9587 - recall0.7: 0.8788 - tp0.9: 6140071.0000 - fp0.9: 88637.0000 - tn0.9: 41507120.0000 - fn0.9: 1416162.0000 - precision0.9: 0.9858 - recall0.9: 0.8126 - accuracy: 0.9757 - auc: 0.9756 - f1: 0.9202 - 47s/epoch - 16ms/step
----------------------------------------
WARNING:tensorflow:Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
model: 347669d050f344ad9fb9e480c814f727
</pre>
</li>

<li>we get <code>run1_2_my</code> with a summary of the best hyperparameter training runs
from the code block <code>#+CALL: get-hparam-comparison()</code>. This assigns among
others the variables <code>run1_2_my</code>, <code>cond2</code>, <code>cond3</code>
<table class="table table-striped table-bordered table-hover table-condensed">


<colgroup>
<col  class="left">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="left">
</colgroup>
<thead>
<tr>
<th scope="col" class="text-left">Run ID:</th>
<th scope="col" class="text-right">val<sub>auc</sub></th>
<th scope="col" class="text-right">val<sub>recall0.5</sub></th>
<th scope="col" class="text-right">val<sub>precision0.5</sub></th>
<th scope="col" class="text-right">hp<sub>batch</sub><sub>size</sub></th>
<th scope="col" class="text-right">hp<sub>first</sub><sub>filters</sub></th>
<th scope="col" class="text-right">hp<sub>input</sub><sub>size</sub></th>
<th scope="col" class="text-right">hp<sub>lr</sub><sub>power</sub></th>
<th scope="col" class="text-right">hp<sub>lr</sub><sub>start</sub></th>
<th scope="col" class="text-right">hp<sub>n</sub><sub>levels</sub></th>
<th scope="col" class="text-right">hp<sub>pool</sub><sub>size</sub></th>
<th scope="col" class="text-left">hp<sub>scaler</sub></th>
</tr>
</thead>
<tbody>
<tr>
<td class="text-left">(9051e32b87d84f3485b980067addec30, 61ff87bdb89b4e2ba64f8dacc774992d)</td>
<td class="text-right">0.981</td>
<td class="text-right">0.8975</td>
<td class="text-right">0.918</td>
<td class="text-right">26</td>
<td class="text-right">44</td>
<td class="text-right">16384</td>
<td class="text-right">1</td>
<td class="text-right">0.0136170138242663</td>
<td class="text-right">7</td>
<td class="text-right">2</td>
<td class="text-left">standard</td>
</tr>

<tr>
<td class="text-left">(93b168c0ff7942c8a908a94129daf973, f243b3b742de4dbcb7ccfbd4244706f8)</td>
<td class="text-right">0.976</td>
<td class="text-right">0.893</td>
<td class="text-right">0.852</td>
<td class="text-right">15</td>
<td class="text-right">23</td>
<td class="text-right">16384</td>
<td class="text-right">7</td>
<td class="text-right">0.0305060808685107</td>
<td class="text-right">6</td>
<td class="text-right">4</td>
<td class="text-left">quant<sub>g</sub></td>
</tr>

<tr>
<td class="text-left">(a5b8551144ff46e697a39cd1551e1475, 98cf8cdef9c54b5286e277e75e2ab8c1)</td>
<td class="text-right">0.984</td>
<td class="text-right">0.916</td>
<td class="text-right">0.909</td>
<td class="text-right">20</td>
<td class="text-right">78</td>
<td class="text-right">16384</td>
<td class="text-right">4</td>
<td class="text-right">0.0584071108418767</td>
<td class="text-right">4</td>
<td class="text-right">4</td>
<td class="text-left">standard</td>
</tr>

<tr>
<td class="text-left">(00f2635d9fa2463c9a066722163405be, d0a8e1748b194f3290d471b6b44f19f8)</td>
<td class="text-right">0.987</td>
<td class="text-right">0.929</td>
<td class="text-right">0.9065</td>
<td class="text-right">28</td>
<td class="text-right">6</td>
<td class="text-right">16384</td>
<td class="text-right">1</td>
<td class="text-right">0.0553313915596308</td>
<td class="text-right">5</td>
<td class="text-right">4</td>
<td class="text-left">minmax</td>
</tr>

<tr>
<td class="text-left">(5604d43c1ece461b8e6eaa0dfb65d6dc, 3612536a77f34f22bc83d1d809140aa6)</td>
<td class="text-right">0.9745</td>
<td class="text-right">0.885</td>
<td class="text-right">0.8985</td>
<td class="text-right">20</td>
<td class="text-right">128</td>
<td class="text-right">16384</td>
<td class="text-right">1</td>
<td class="text-right">0.043549707353273</td>
<td class="text-right">3</td>
<td class="text-right">4</td>
<td class="text-left">standard</td>
</tr>

<tr>
<td class="text-left">(7cafab027cdd4fc9bf20a43e989df510, 16dff15d935f45e2a836b1f41b07b4e3)</td>
<td class="text-right">0.978</td>
<td class="text-right">0.8905</td>
<td class="text-right">0.891</td>
<td class="text-right">10</td>
<td class="text-right">16</td>
<td class="text-right">8192</td>
<td class="text-right">1</td>
<td class="text-right">0.0627676336651573</td>
<td class="text-right">5</td>
<td class="text-right">4</td>
<td class="text-left">robust</td>
</tr>

<tr>
<td class="text-left">(0e328920e86049928202db95e8cfb7be, bf9d2725eb16462d9a101f0a077ce2b5)</td>
<td class="text-right">0.976</td>
<td class="text-right">0.875</td>
<td class="text-right">0.888</td>
<td class="text-right">14</td>
<td class="text-right">16</td>
<td class="text-right">16384</td>
<td class="text-right">5</td>
<td class="text-right">0.0192390310290551</td>
<td class="text-right">9</td>
<td class="text-right">2</td>
<td class="text-left">robust</td>
</tr>

<tr>
<td class="text-left">(1c954fbc02b747bc813c587ac703c74a, ba49a80c2616407a8f1fe1fd12096fe0)</td>
<td class="text-right">0.962</td>
<td class="text-right">0.856</td>
<td class="text-right">0.8585</td>
<td class="text-right">17</td>
<td class="text-right">16</td>
<td class="text-right">16384</td>
<td class="text-right">5</td>
<td class="text-right">0.0101590069352232</td>
<td class="text-right">3</td>
<td class="text-right">4</td>
<td class="text-left">l2</td>
</tr>

<tr>
<td class="text-left">(3cbd945b62ec4634839372e403f6f377, 458b36a70db843719d202a8eda448f17)</td>
<td class="text-right">0.972</td>
<td class="text-right">0.872</td>
<td class="text-right">0.9135</td>
<td class="text-right">9</td>
<td class="text-right">64</td>
<td class="text-right">4096</td>
<td class="text-right">1</td>
<td class="text-right">0.0100697459464075</td>
<td class="text-right">5</td>
<td class="text-right">4</td>
<td class="text-left">maxabs</td>
</tr>
</tbody>
</table>
</li>
<li>now get hparams and metrics from final trained models. Inference times
and model sizes are transferred by hand from the evaluation results.
<details>
<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_dict</span> = {
<span style="background-color: #eee8d5;"> </span>   (<span style="color: #2aa198;">'9051e32b87d84f3485b980067addec30'</span>, <span style="color: #2aa198;">'61ff87bdb89b4e2ba64f8dacc774992d'</span>) :  <span style="color: #2aa198;">'484af471c61943fa90e5f78e78a229f0'</span>,
<span style="background-color: #eee8d5;"> </span>   (<span style="color: #2aa198;">'93b168c0ff7942c8a908a94129daf973'</span>, <span style="color: #2aa198;">'f243b3b742de4dbcb7ccfbd4244706f8'</span>) :  <span style="color: #2aa198;">'0cd2023eeaf745aca0d3e8ad5e1fc653'</span>,
<span style="background-color: #eee8d5;"> </span>   (<span style="color: #2aa198;">'a5b8551144ff46e697a39cd1551e1475'</span>, <span style="color: #2aa198;">'98cf8cdef9c54b5286e277e75e2ab8c1'</span>) :  <span style="color: #2aa198;">'fe81d71c52404ed790b3a32051258da9'</span>,
<span style="background-color: #eee8d5;"> </span>   (<span style="color: #2aa198;">'00f2635d9fa2463c9a066722163405be'</span>, <span style="color: #2aa198;">'d0a8e1748b194f3290d471b6b44f19f8'</span>) :  <span style="color: #2aa198;">'ff67be0b68e540a9a29a36a2d0c7a5be'</span>,
<span style="background-color: #eee8d5;"> </span>   (<span style="color: #2aa198;">'5604d43c1ece461b8e6eaa0dfb65d6dc'</span>, <span style="color: #2aa198;">'3612536a77f34f22bc83d1d809140aa6'</span>) :  <span style="color: #2aa198;">'19e3e786e1bc4e2b93856f5dc9de8216'</span>,
<span style="background-color: #eee8d5;"> </span>   (<span style="color: #2aa198;">'7cafab027cdd4fc9bf20a43e989df510'</span>, <span style="color: #2aa198;">'16dff15d935f45e2a836b1f41b07b4e3'</span>) :  <span style="color: #2aa198;">'347669d050f344ad9fb9e480c814f727'</span>,
<span style="background-color: #eee8d5;"> </span>   (<span style="color: #2aa198;">'0e328920e86049928202db95e8cfb7be'</span>, <span style="color: #2aa198;">'bf9d2725eb16462d9a101f0a077ce2b5'</span>) :  <span style="color: #2aa198;">'c1204e3a8a1e4c40a35b5b7b1922d1ce'</span>,
<span style="background-color: #eee8d5;"> </span>   (<span style="color: #2aa198;">'1c954fbc02b747bc813c587ac703c74a'</span>, <span style="color: #2aa198;">'ba49a80c2616407a8f1fe1fd12096fe0'</span>) :  <span style="color: #2aa198;">'714af8cd12c1441eac4ca980e8c20070'</span>,
<span style="background-color: #eee8d5;"> </span>   (<span style="color: #2aa198;">'3cbd945b62ec4634839372e403f6f377'</span>, <span style="color: #2aa198;">'458b36a70db843719d202a8eda448f17'</span>) :  <span style="color: #2aa198;">'34a6d207ac594035b1009c330fb67a65'</span>}


<span style="color: #268bd2;">inference</span> = <span style="color: #783778;">pd</span>.<span style="color: #784437;">DataFrame</span>([[<span style="color: #2aa198;">'42s'</span>, <span style="color: #2aa198;">'14ms'</span>, <span style="color: #2aa198;">'275 MB'</span>],
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> [<span style="color: #2aa198;">'65s'</span>, <span style="color: #2aa198;">'22ms'</span>, <span style="color: #2aa198;">'200 MB'</span>],
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> [<span style="color: #2aa198;">'201s'</span>, <span style="color: #2aa198;">'67ms'</span>, <span style="color: #2aa198;">'186 MB'</span>],
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> [<span style="color: #2aa198;">'45s'</span>, <span style="color: #2aa198;">'15ms'</span>, <span style="color: #2aa198;">'14 MB'</span>],
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> [<span style="color: #2aa198;">'370s'</span>, <span style="color: #2aa198;">'123ms'</span>, <span style="color: #2aa198;">'172 MB'</span>],
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> [<span style="color: #2aa198;">'95s'</span>, <span style="color: #2aa198;">'32ms'</span>, <span style="color: #2aa198;">'73 MB'</span>],
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> [<span style="color: #2aa198;">'230s'</span>, <span style="color: #2aa198;">'77ms'</span>, <span style="color: #2aa198;">'312 MB'</span>],
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> [<span style="color: #2aa198;">'361s'</span>, <span style="color: #2aa198;">'120ms'</span>, <span style="color: #2aa198;">'234 MB'</span>],
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> [<span style="color: #2aa198;">'230s'</span>, <span style="color: #2aa198;">'77ms'</span>, <span style="color: #2aa198;">'7 MB'</span>]],
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #784437;">columns</span>=[<span style="color: #2aa198;">'HPC inference time (whole test dataset)'</span>, <span style="color: #2aa198;">'HPC inference time (one trace)'</span>, <span style="color: #2aa198;">'Model size'</span>],
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #43783f;">index</span>=[<span style="color: #2aa198;">'484af471c61943fa90e5f78e78a229f0'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">'0cd2023eeaf745aca0d3e8ad5e1fc653'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">'fe81d71c52404ed790b3a32051258da9'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">'ff67be0b68e540a9a29a36a2d0c7a5be'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">'19e3e786e1bc4e2b93856f5dc9de8216'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">'347669d050f344ad9fb9e480c814f727'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">'c1204e3a8a1e4c40a35b5b7b1922d1ce'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">'714af8cd12c1441eac4ca980e8c20070'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">'34a6d207ac594035b1009c330fb67a65'</span>]).<span style="color: #37785e;">T</span>

<span style="color: #268bd2;">evaluation</span> = <span style="color: #783778;">pd</span>.<span style="color: #7e544f;">concat</span>([<span style="color: #37785e;">eva</span>, <span style="color: #3f7178;">inference</span>], <span style="color: #784437;">axis</span>=<span style="color: #2aa198;">'index'</span>)

<span style="color: #268bd2;">index</span> = [<span style="color: #43783f;">f</span><span style="color: #2aa198;">'test </span><span style="color: #268bd2;">{e}</span><span style="color: #2aa198;">'</span> <span style="color: #859900; font-weight: bold;">for</span> <span style="color: #7e544f;">e</span> <span style="color: #859900; font-weight: bold;">in</span> <span style="color: #783778;">evaluation</span>.<span style="color: #43783f;">index</span>]
<span style="color: #268bd2;">evaluation.index</span> = <span style="color: #43783f;">index</span>
<span style="color: #268bd2;">training</span> = <span style="color: #783f5a;">run1_2_my</span>.<span style="color: #783778;">loc</span>[<span style="color: #374478;">cond2</span> &amp; <span style="color: #783f5a;">cond3</span>]

<span style="color: #268bd2;">training</span> = <span style="color: #3f7178;">training</span>.<span style="color: #707e4f;">rename</span>(<span style="color: #43783f;">index</span>=<span style="color: #3f7178;">model_dict</span>).<span style="color: #37785e;">T</span>
<span style="color: #268bd2;">final</span> = <span style="color: #783778;">pd</span>.<span style="color: #7e544f;">concat</span>([<span style="color: #3f7178;">training</span>, <span style="color: #783778;">evaluation</span>])
<span style="color: #37785e;">final</span>.<span style="color: #513f78;">to_csv</span>(<span style="color: #2aa198;">'data/exp-220227-unet/mlflow/2022-08-23_all-models.csv'</span>)
</pre>
</div>

<table class="table table-striped table-bordered table-hover table-condensed">


<colgroup>
<col  class="left">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">
</colgroup>
<thead>
<tr>
<th scope="col" class="text-left">&#xa0;</th>
<th scope="col" class="text-right">484af471c61943fa90e5f78e78a229f0</th>
<th scope="col" class="text-right">0cd2023eeaf745aca0d3e8ad5e1fc653</th>
<th scope="col" class="text-right">fe81d71c52404ed790b3a32051258da9</th>
<th scope="col" class="text-right">ff67be0b68e540a9a29a36a2d0c7a5be</th>
<th scope="col" class="text-right">19e3e786e1bc4e2b93856f5dc9de8216</th>
<th scope="col" class="text-right">347669d050f344ad9fb9e480c814f727</th>
<th scope="col" class="text-right">c1204e3a8a1e4c40a35b5b7b1922d1ce</th>
<th scope="col" class="text-right">714af8cd12c1441eac4ca980e8c20070</th>
<th scope="col" class="text-right">34a6d207ac594035b1009c330fb67a65</th>
</tr>
</thead>
<tbody>
<tr>
<td class="text-left">val<sub>auc</sub></td>
<td class="text-right">0.981</td>
<td class="text-right">0.976</td>
<td class="text-right">0.984</td>
<td class="text-right">0.987</td>
<td class="text-right">0.9745</td>
<td class="text-right">0.978</td>
<td class="text-right">0.976</td>
<td class="text-right">0.962</td>
<td class="text-right">0.972</td>
</tr>

<tr>
<td class="text-left">val<sub>recall0.5</sub></td>
<td class="text-right">0.8975</td>
<td class="text-right">0.893</td>
<td class="text-right">0.916</td>
<td class="text-right">0.929</td>
<td class="text-right">0.885</td>
<td class="text-right">0.8905</td>
<td class="text-right">0.875</td>
<td class="text-right">0.856</td>
<td class="text-right">0.872</td>
</tr>

<tr>
<td class="text-left">val<sub>precision0.5</sub></td>
<td class="text-right">0.918</td>
<td class="text-right">0.852</td>
<td class="text-right">0.909</td>
<td class="text-right">0.9065</td>
<td class="text-right">0.8985</td>
<td class="text-right">0.891</td>
<td class="text-right">0.888</td>
<td class="text-right">0.8585</td>
<td class="text-right">0.9135</td>
</tr>

<tr>
<td class="text-left">hp<sub>batch</sub><sub>size</sub></td>
<td class="text-right">26</td>
<td class="text-right">15</td>
<td class="text-right">20</td>
<td class="text-right">28</td>
<td class="text-right">20</td>
<td class="text-right">10</td>
<td class="text-right">14</td>
<td class="text-right">17</td>
<td class="text-right">9</td>
</tr>

<tr>
<td class="text-left">hp<sub>first</sub><sub>filters</sub></td>
<td class="text-right">44</td>
<td class="text-right">23</td>
<td class="text-right">78</td>
<td class="text-right">6</td>
<td class="text-right">128</td>
<td class="text-right">16</td>
<td class="text-right">16</td>
<td class="text-right">16</td>
<td class="text-right">64</td>
</tr>

<tr>
<td class="text-left">hp<sub>input</sub><sub>size</sub></td>
<td class="text-right">16384</td>
<td class="text-right">16384</td>
<td class="text-right">16384</td>
<td class="text-right">16384</td>
<td class="text-right">16384</td>
<td class="text-right">8192</td>
<td class="text-right">16384</td>
<td class="text-right">16384</td>
<td class="text-right">4096</td>
</tr>

<tr>
<td class="text-left">hp<sub>lr</sub><sub>power</sub></td>
<td class="text-right">1</td>
<td class="text-right">7</td>
<td class="text-right">4</td>
<td class="text-right">1</td>
<td class="text-right">1</td>
<td class="text-right">1</td>
<td class="text-right">5</td>
<td class="text-right">5</td>
<td class="text-right">1</td>
</tr>

<tr>
<td class="text-left">hp<sub>lr</sub><sub>start</sub></td>
<td class="text-right">0.0136170138242663</td>
<td class="text-right">0.0305060808685107</td>
<td class="text-right">0.0584071108418767</td>
<td class="text-right">0.0553313915596308</td>
<td class="text-right">0.043549707353273</td>
<td class="text-right">0.0627676336651573</td>
<td class="text-right">0.0192390310290551</td>
<td class="text-right">0.0101590069352232</td>
<td class="text-right">0.0100697459464075</td>
</tr>

<tr>
<td class="text-left">hp<sub>n</sub><sub>levels</sub></td>
<td class="text-right">7</td>
<td class="text-right">6</td>
<td class="text-right">4</td>
<td class="text-right">5</td>
<td class="text-right">3</td>
<td class="text-right">5</td>
<td class="text-right">9</td>
<td class="text-right">3</td>
<td class="text-right">5</td>
</tr>

<tr>
<td class="text-left">hp<sub>pool</sub><sub>size</sub></td>
<td class="text-right">2</td>
<td class="text-right">4</td>
<td class="text-right">4</td>
<td class="text-right">4</td>
<td class="text-right">4</td>
<td class="text-right">4</td>
<td class="text-right">2</td>
<td class="text-right">4</td>
<td class="text-right">4</td>
</tr>

<tr>
<td class="text-left">hp<sub>scaler</sub></td>
<td class="text-right">standard</td>
<td class="text-right">quant<sub>g</sub></td>
<td class="text-right">standard</td>
<td class="text-right">minmax</td>
<td class="text-right">standard</td>
<td class="text-right">robust</td>
<td class="text-right">robust</td>
<td class="text-right">l2</td>
<td class="text-right">maxabs</td>
</tr>

<tr>
<td class="text-left">test loss</td>
<td class="text-right">0.228701</td>
<td class="text-right">0.291168</td>
<td class="text-right">0.207543</td>
<td class="text-right">0.192903</td>
<td class="text-right">0.39377</td>
<td class="text-right">0.289283</td>
<td class="text-right">0.264141</td>
<td class="text-right">0.18674</td>
<td class="text-right">0.318487</td>
</tr>

<tr>
<td class="text-left">test tp0.1</td>
<td class="text-right">7120162.0</td>
<td class="text-right">7030956.0</td>
<td class="text-right">7195616.0</td>
<td class="text-right">7216054.0</td>
<td class="text-right">6702946.0</td>
<td class="text-right">6968717.0</td>
<td class="text-right">7094671.0</td>
<td class="text-right">7191122.0</td>
<td class="text-right">6898118.0</td>
</tr>

<tr>
<td class="text-left">test fp0.1</td>
<td class="text-right">1418863.0</td>
<td class="text-right">1944947.0</td>
<td class="text-right">1635920.0</td>
<td class="text-right">1445349.0</td>
<td class="text-right">1573303.0</td>
<td class="text-right">1346502.0</td>
<td class="text-right">1783490.0</td>
<td class="text-right">1089514.0</td>
<td class="text-right">1865476.0</td>
</tr>

<tr>
<td class="text-left">test tn0.1</td>
<td class="text-right">40176900.0</td>
<td class="text-right">39650840.0</td>
<td class="text-right">39959820.0</td>
<td class="text-right">40150456.0</td>
<td class="text-right">40022456.0</td>
<td class="text-right">40249248.0</td>
<td class="text-right">39812172.0</td>
<td class="text-right">40506272.0</td>
<td class="text-right">39730280.0</td>
</tr>

<tr>
<td class="text-left">test fn0.1</td>
<td class="text-right">436071.0</td>
<td class="text-right">525277.0</td>
<td class="text-right">360617.0</td>
<td class="text-right">340179.0</td>
<td class="text-right">853287.0</td>
<td class="text-right">587516.0</td>
<td class="text-right">461562.0</td>
<td class="text-right">365111.0</td>
<td class="text-right">658115.0</td>
</tr>

<tr>
<td class="text-left">test precision0.1</td>
<td class="text-right">0.833838</td>
<td class="text-right">0.783315</td>
<td class="text-right">0.814764</td>
<td class="text-right">0.833128</td>
<td class="text-right">0.809901</td>
<td class="text-right">0.838068</td>
<td class="text-right">0.799115</td>
<td class="text-right">0.868426</td>
<td class="text-right">0.787133</td>
</tr>

<tr>
<td class="text-left">test recall0.1</td>
<td class="text-right">0.94229</td>
<td class="text-right">0.930484</td>
<td class="text-right">0.952276</td>
<td class="text-right">0.95498</td>
<td class="text-right">0.887075</td>
<td class="text-right">0.922248</td>
<td class="text-right">0.938916</td>
<td class="text-right">0.951681</td>
<td class="text-right">0.912904</td>
</tr>

<tr>
<td class="text-left">test tp0.3</td>
<td class="text-right">6967838.0</td>
<td class="text-right">6780626.0</td>
<td class="text-right">7057588.0</td>
<td class="text-right">7068737.0</td>
<td class="text-right">6536047.0</td>
<td class="text-right">6749402.0</td>
<td class="text-right">6893942.0</td>
<td class="text-right">7062843.0</td>
<td class="text-right">6565790.0</td>
</tr>

<tr>
<td class="text-left">test fp0.3</td>
<td class="text-right">864351.0</td>
<td class="text-right">1063352.0</td>
<td class="text-right">1032334.0</td>
<td class="text-right">874006.0</td>
<td class="text-right">1023316.0</td>
<td class="text-right">704964.0</td>
<td class="text-right">923800.0</td>
<td class="text-right">687977.0</td>
<td class="text-right">850301.0</td>
</tr>

<tr>
<td class="text-left">test tn0.3</td>
<td class="text-right">40731400.0</td>
<td class="text-right">40532408.0</td>
<td class="text-right">40563420.0</td>
<td class="text-right">40721760.0</td>
<td class="text-right">40572400.0</td>
<td class="text-right">40890776.0</td>
<td class="text-right">40671944.0</td>
<td class="text-right">40907784.0</td>
<td class="text-right">40745504.0</td>
</tr>

<tr>
<td class="text-left">test fn0.3</td>
<td class="text-right">588395.0</td>
<td class="text-right">775607.0</td>
<td class="text-right">498645.0</td>
<td class="text-right">487496.0</td>
<td class="text-right">1020186.0</td>
<td class="text-right">806831.0</td>
<td class="text-right">662291.0</td>
<td class="text-right">493390.0</td>
<td class="text-right">990443.0</td>
</tr>

<tr>
<td class="text-left">test precision0.3</td>
<td class="text-right">0.889641</td>
<td class="text-right">0.864437</td>
<td class="text-right">0.872393</td>
<td class="text-right">0.889962</td>
<td class="text-right">0.864629</td>
<td class="text-right">0.905429</td>
<td class="text-right">0.881833</td>
<td class="text-right">0.911238</td>
<td class="text-right">0.885344</td>
</tr>

<tr>
<td class="text-left">test recall0.3</td>
<td class="text-right">0.922131</td>
<td class="text-right">0.897355</td>
<td class="text-right">0.934009</td>
<td class="text-right">0.935484</td>
<td class="text-right">0.864987</td>
<td class="text-right">0.893223</td>
<td class="text-right">0.912352</td>
<td class="text-right">0.934704</td>
<td class="text-right">0.868924</td>
</tr>

<tr>
<td class="text-left">test tp0.5</td>
<td class="text-right">6806719.0</td>
<td class="text-right">6547596.0</td>
<td class="text-right">6873409.0</td>
<td class="text-right">6879515.0</td>
<td class="text-right">6381884.0</td>
<td class="text-right">6514890.0</td>
<td class="text-right">6657803.0</td>
<td class="text-right">6907934.0</td>
<td class="text-right">6236955.0</td>
</tr>

<tr>
<td class="text-left">test fp0.5</td>
<td class="text-right">561522.0</td>
<td class="text-right">671113.0</td>
<td class="text-right">627857.0</td>
<td class="text-right">517256.0</td>
<td class="text-right">718562.0</td>
<td class="text-right">394738.0</td>
<td class="text-right">506659.0</td>
<td class="text-right">432424.0</td>
<td class="text-right">431128.0</td>
</tr>

<tr>
<td class="text-left">test tn0.5</td>
<td class="text-right">41034252.0</td>
<td class="text-right">40924664.0</td>
<td class="text-right">40967908.0</td>
<td class="text-right">41078488.0</td>
<td class="text-right">40877184.0</td>
<td class="text-right">41201060.0</td>
<td class="text-right">41089052.0</td>
<td class="text-right">41163320.0</td>
<td class="text-right">41164680.0</td>
</tr>

<tr>
<td class="text-left">test fn0.5</td>
<td class="text-right">749514.0</td>
<td class="text-right">1008637.0</td>
<td class="text-right">682824.0</td>
<td class="text-right">676718.0</td>
<td class="text-right">1174349.0</td>
<td class="text-right">1041343.0</td>
<td class="text-right">898430.0</td>
<td class="text-right">648299.0</td>
<td class="text-right">1319278.0</td>
</tr>

<tr>
<td class="text-left">test precision0.5</td>
<td class="text-right">0.923792</td>
<td class="text-right">0.907031</td>
<td class="text-right">0.9163</td>
<td class="text-right">0.93007</td>
<td class="text-right">0.8988</td>
<td class="text-right">0.942871</td>
<td class="text-right">0.929282</td>
<td class="text-right">0.94109</td>
<td class="text-right">0.935345</td>
</tr>

<tr>
<td class="text-left">test recall0.5</td>
<td class="text-right">0.900809</td>
<td class="text-right">0.866516</td>
<td class="text-right">0.909634</td>
<td class="text-right">0.910442</td>
<td class="text-right">0.844585</td>
<td class="text-right">0.862188</td>
<td class="text-right">0.881101</td>
<td class="text-right">0.914203</td>
<td class="text-right">0.825405</td>
</tr>

<tr>
<td class="text-left">test tp0.7</td>
<td class="text-right">6576475.0</td>
<td class="text-right">6228335.0</td>
<td class="text-right">6630207.0</td>
<td class="text-right">6640601.0</td>
<td class="text-right">6136998.0</td>
<td class="text-right">6185431.0</td>
<td class="text-right">6321268.0</td>
<td class="text-right">6663553.0</td>
<td class="text-right">5823676.0</td>
</tr>

<tr>
<td class="text-left">test fp0.7</td>
<td class="text-right">327204.0</td>
<td class="text-right">381447.0</td>
<td class="text-right">350175.0</td>
<td class="text-right">285835.0</td>
<td class="text-right">446064.0</td>
<td class="text-right">178898.0</td>
<td class="text-right">240152.0</td>
<td class="text-right">227729.0</td>
<td class="text-right">194655.0</td>
</tr>

<tr>
<td class="text-left">test tn0.7</td>
<td class="text-right">41268520.0</td>
<td class="text-right">41214264.0</td>
<td class="text-right">41245624.0</td>
<td class="text-right">41309920.0</td>
<td class="text-right">41149748.0</td>
<td class="text-right">41416908.0</td>
<td class="text-right">41355624.0</td>
<td class="text-right">41368048.0</td>
<td class="text-right">41401160.0</td>
</tr>

<tr>
<td class="text-left">test fn0.7</td>
<td class="text-right">979758.0</td>
<td class="text-right">1327898.0</td>
<td class="text-right">926026.0</td>
<td class="text-right">915632.0</td>
<td class="text-right">1419235.0</td>
<td class="text-right">1370802.0</td>
<td class="text-right">1234965.0</td>
<td class="text-right">892680.0</td>
<td class="text-right">1732557.0</td>
</tr>

<tr>
<td class="text-left">test precision0.7</td>
<td class="text-right">0.952604</td>
<td class="text-right">0.942291</td>
<td class="text-right">0.949834</td>
<td class="text-right">0.958733</td>
<td class="text-right">0.932241</td>
<td class="text-right">0.971891</td>
<td class="text-right">0.963399</td>
<td class="text-right">0.966954</td>
<td class="text-right">0.967656</td>
</tr>

<tr>
<td class="text-left">test recall0.7</td>
<td class="text-right">0.870338</td>
<td class="text-right">0.824265</td>
<td class="text-right">0.877449</td>
<td class="text-right">0.878824</td>
<td class="text-right">0.812177</td>
<td class="text-right">0.818587</td>
<td class="text-right">0.836563</td>
<td class="text-right">0.881862</td>
<td class="text-right">0.770712</td>
</tr>

<tr>
<td class="text-left">test tp0.9</td>
<td class="text-right">6102547.0</td>
<td class="text-right">5564160.0</td>
<td class="text-right">6120144.0</td>
<td class="text-right">6140071.0</td>
<td class="text-right">5641558.0</td>
<td class="text-right">5650455.0</td>
<td class="text-right">5713166.0</td>
<td class="text-right">6190425.0</td>
<td class="text-right">5096155.0</td>
</tr>

<tr>
<td class="text-left">test fp0.9</td>
<td class="text-right">119229.0</td>
<td class="text-right">132517.0</td>
<td class="text-right">115037.0</td>
<td class="text-right">88637.0</td>
<td class="text-right">190273.0</td>
<td class="text-right">48800.0</td>
<td class="text-right">64046.0</td>
<td class="text-right">69867.0</td>
<td class="text-right">44052.0</td>
</tr>

<tr>
<td class="text-left">test tn0.9</td>
<td class="text-right">41476596.0</td>
<td class="text-right">41463236.0</td>
<td class="text-right">41480668.0</td>
<td class="text-right">41507120.0</td>
<td class="text-right">41405512.0</td>
<td class="text-right">41546992.0</td>
<td class="text-right">41531720.0</td>
<td class="text-right">41525924.0</td>
<td class="text-right">41551772.0</td>
</tr>

<tr>
<td class="text-left">test fn0.9</td>
<td class="text-right">1453686.0</td>
<td class="text-right">1992073.0</td>
<td class="text-right">1436089.0</td>
<td class="text-right">1416162.0</td>
<td class="text-right">1914675.0</td>
<td class="text-right">1905778.0</td>
<td class="text-right">1843067.0</td>
<td class="text-right">1365808.0</td>
<td class="text-right">2460078.0</td>
</tr>

<tr>
<td class="text-left">test precision0.9</td>
<td class="text-right">0.980837</td>
<td class="text-right">0.976738</td>
<td class="text-right">0.98155</td>
<td class="text-right">0.98577</td>
<td class="text-right">0.967373</td>
<td class="text-right">0.991437</td>
<td class="text-right">0.988914</td>
<td class="text-right">0.98884</td>
<td class="text-right">0.99143</td>
</tr>

<tr>
<td class="text-left">test recall0.9</td>
<td class="text-right">0.807618</td>
<td class="text-right">0.736367</td>
<td class="text-right">0.809946</td>
<td class="text-right">0.812584</td>
<td class="text-right">0.74661</td>
<td class="text-right">0.747787</td>
<td class="text-right">0.756087</td>
<td class="text-right">0.819247</td>
<td class="text-right">0.674431</td>
</tr>

<tr>
<td class="text-left">test accuracy</td>
<td class="text-right">0.973328</td>
<td class="text-right">0.965825</td>
<td class="text-right">0.973334</td>
<td class="text-right">0.975708</td>
<td class="text-right">0.961488</td>
<td class="text-right">0.970784</td>
<td class="text-right">0.971414</td>
<td class="text-right">0.978012</td>
<td class="text-right">0.964389</td>
</tr>

<tr>
<td class="text-left">test auc</td>
<td class="text-right">0.968705</td>
<td class="text-right">0.961385</td>
<td class="text-right">0.973758</td>
<td class="text-right">0.975623</td>
<td class="text-right">0.939052</td>
<td class="text-right">0.95903</td>
<td class="text-right">0.966802</td>
<td class="text-right">0.974297</td>
<td class="text-right">0.953582</td>
</tr>

<tr>
<td class="text-left">test f1</td>
<td class="text-right">0.912155</td>
<td class="text-right">0.886311</td>
<td class="text-right">0.912955</td>
<td class="text-right">0.920152</td>
<td class="text-right">0.87085</td>
<td class="text-right">0.900726</td>
<td class="text-right">0.90455</td>
<td class="text-right">0.927452</td>
<td class="text-right">0.876943</td>
</tr>

<tr>
<td class="text-left">test HPC inference time (whole test dataset)</td>
<td class="text-right">42s</td>
<td class="text-right">65s</td>
<td class="text-right">201s</td>
<td class="text-right">45s</td>
<td class="text-right">370s</td>
<td class="text-right">95s</td>
<td class="text-right">230s</td>
<td class="text-right">361s</td>
<td class="text-right">230s</td>
</tr>

<tr>
<td class="text-left">test HPC inference time (one trace)</td>
<td class="text-right">14ms</td>
<td class="text-right">22ms</td>
<td class="text-right">67ms</td>
<td class="text-right">15ms</td>
<td class="text-right">123ms</td>
<td class="text-right">32ms</td>
<td class="text-right">77ms</td>
<td class="text-right">120ms</td>
<td class="text-right">77ms</td>
</tr>

<tr>
<td class="text-left">test Model size</td>
<td class="text-right">275 MB</td>
<td class="text-right">200 MB</td>
<td class="text-right">186 MB</td>
<td class="text-right">14 MB</td>
<td class="text-right">172 MB</td>
<td class="text-right">73 MB</td>
<td class="text-right">312 MB</td>
<td class="text-right">234 MB</td>
<td class="text-right">7 MB</td>
</tr>
</tbody>
</table>
</details>
</li>
<li>for the final data we only take recall, precision, and f1 at a 0.5
prediction threshold.
<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #37785e;">final</span>.<span style="color: #783778;">loc</span>[[<span style="color: #2aa198;">'val_auc'</span>, <span style="color: #2aa198;">'test auc'</span>, <span style="color: #2aa198;">'val_recall0.5'</span>, <span style="color: #2aa198;">'test recall0.5'</span>, <span style="color: #2aa198;">'val_precision0.5'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #2aa198;">'test precision0.5'</span>, <span style="color: #2aa198;">'test f1'</span>, <span style="color: #2aa198;">'hp_batch_size'</span>, <span style="color: #2aa198;">'hp_input_size'</span>, <span style="color: #2aa198;">'hp_lr_power'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #2aa198;">'hp_lr_start'</span>, <span style="color: #2aa198;">'hp_n_levels'</span>, <span style="color: #2aa198;">'hp_pool_size'</span>, <span style="color: #2aa198;">'hp_scaler'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #2aa198;">'test HPC inference time (whole test dataset)'</span>, <span style="color: #2aa198;">'test HPC inference time (one trace)'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #2aa198;">'test Model size'</span>]]
</pre>
</div>

<table class="table table-striped table-bordered table-hover table-condensed">


<colgroup>
<col  class="left">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">
</colgroup>
<thead>
<tr>
<th scope="col" class="text-left">&#xa0;</th>
<th scope="col" class="text-right">0cd2023eeaf745aca0d3e8ad5e1fc653</th>
<th scope="col" class="text-right">ff67be0b68e540a9a29a36a2d0c7a5be</th>
<th scope="col" class="text-right">484af471c61943fa90e5f78e78a229f0</th>
<th scope="col" class="text-right">fe81d71c52404ed790b3a32051258da9</th>
<th scope="col" class="text-right">19e3e786e1bc4e2b93856f5dc9de8216</th>
<th scope="col" class="text-right">347669d050f344ad9fb9e480c814f727</th>
<th scope="col" class="text-right">c1204e3a8a1e4c40a35b5b7b1922d1ce</th>
<th scope="col" class="text-right">714af8cd12c1441eac4ca980e8c20070</th>
<th scope="col" class="text-right">34a6d207ac594035b1009c330fb67a65</th>
</tr>
</thead>
<tbody>
<tr>
<td class="text-left">val<sub>auc</sub></td>
<td class="text-right">0.976</td>
<td class="text-right">0.987</td>
<td class="text-right">0.981</td>
<td class="text-right">0.984</td>
<td class="text-right">0.9745</td>
<td class="text-right">0.978</td>
<td class="text-right">0.976</td>
<td class="text-right">0.962</td>
<td class="text-right">0.972</td>
</tr>

<tr>
<td class="text-left">test auc</td>
<td class="text-right">0.961385</td>
<td class="text-right">0.975623</td>
<td class="text-right">0.968705</td>
<td class="text-right">0.973758</td>
<td class="text-right">0.939052</td>
<td class="text-right">0.95903</td>
<td class="text-right">0.966802</td>
<td class="text-right">0.974297</td>
<td class="text-right">0.953582</td>
</tr>

<tr>
<td class="text-left">val<sub>recall0.5</sub></td>
<td class="text-right">0.893</td>
<td class="text-right">0.929</td>
<td class="text-right">0.8975</td>
<td class="text-right">0.916</td>
<td class="text-right">0.885</td>
<td class="text-right">0.8905</td>
<td class="text-right">0.875</td>
<td class="text-right">0.856</td>
<td class="text-right">0.872</td>
</tr>

<tr>
<td class="text-left">test recall0.5</td>
<td class="text-right">0.866516</td>
<td class="text-right">0.910442</td>
<td class="text-right">0.900809</td>
<td class="text-right">0.909634</td>
<td class="text-right">0.844585</td>
<td class="text-right">0.862188</td>
<td class="text-right">0.881101</td>
<td class="text-right">0.914203</td>
<td class="text-right">0.825405</td>
</tr>

<tr>
<td class="text-left">val<sub>precision0.5</sub></td>
<td class="text-right">0.852</td>
<td class="text-right">0.9065</td>
<td class="text-right">0.918</td>
<td class="text-right">0.909</td>
<td class="text-right">0.8985</td>
<td class="text-right">0.891</td>
<td class="text-right">0.888</td>
<td class="text-right">0.8585</td>
<td class="text-right">0.9135</td>
</tr>

<tr>
<td class="text-left">test precision0.5</td>
<td class="text-right">0.907031</td>
<td class="text-right">0.93007</td>
<td class="text-right">0.923792</td>
<td class="text-right">0.9163</td>
<td class="text-right">0.8988</td>
<td class="text-right">0.942871</td>
<td class="text-right">0.929282</td>
<td class="text-right">0.94109</td>
<td class="text-right">0.935345</td>
</tr>

<tr>
<td class="text-left">test f1</td>
<td class="text-right">0.886311</td>
<td class="text-right">0.920152</td>
<td class="text-right">0.912155</td>
<td class="text-right">0.912955</td>
<td class="text-right">0.87085</td>
<td class="text-right">0.900726</td>
<td class="text-right">0.90455</td>
<td class="text-right">0.927452</td>
<td class="text-right">0.876943</td>
</tr>

<tr>
<td class="text-left">hp<sub>batch</sub><sub>size</sub></td>
<td class="text-right">15</td>
<td class="text-right">28</td>
<td class="text-right">26</td>
<td class="text-right">20</td>
<td class="text-right">20</td>
<td class="text-right">10</td>
<td class="text-right">14</td>
<td class="text-right">17</td>
<td class="text-right">9</td>
</tr>

<tr>
<td class="text-left">hp<sub>input</sub><sub>size</sub></td>
<td class="text-right">16384</td>
<td class="text-right">16384</td>
<td class="text-right">16384</td>
<td class="text-right">16384</td>
<td class="text-right">16384</td>
<td class="text-right">8192</td>
<td class="text-right">16384</td>
<td class="text-right">16384</td>
<td class="text-right">4096</td>
</tr>

<tr>
<td class="text-left">hp<sub>lr</sub><sub>power</sub></td>
<td class="text-right">7</td>
<td class="text-right">1</td>
<td class="text-right">1</td>
<td class="text-right">4</td>
<td class="text-right">1</td>
<td class="text-right">1</td>
<td class="text-right">5</td>
<td class="text-right">5</td>
<td class="text-right">1</td>
</tr>

<tr>
<td class="text-left">hp<sub>lr</sub><sub>start</sub></td>
<td class="text-right">0.0305060808685107</td>
<td class="text-right">0.0553313915596308</td>
<td class="text-right">0.0136170138242663</td>
<td class="text-right">0.0584071108418767</td>
<td class="text-right">0.043549707353273</td>
<td class="text-right">0.0627676336651573</td>
<td class="text-right">0.0192390310290551</td>
<td class="text-right">0.0101590069352232</td>
<td class="text-right">0.0100697459464075</td>
</tr>

<tr>
<td class="text-left">hp<sub>n</sub><sub>levels</sub></td>
<td class="text-right">6</td>
<td class="text-right">5</td>
<td class="text-right">7</td>
<td class="text-right">4</td>
<td class="text-right">3</td>
<td class="text-right">5</td>
<td class="text-right">9</td>
<td class="text-right">3</td>
<td class="text-right">5</td>
</tr>

<tr>
<td class="text-left">hp<sub>pool</sub><sub>size</sub></td>
<td class="text-right">4</td>
<td class="text-right">4</td>
<td class="text-right">2</td>
<td class="text-right">4</td>
<td class="text-right">4</td>
<td class="text-right">4</td>
<td class="text-right">2</td>
<td class="text-right">4</td>
<td class="text-right">4</td>
</tr>

<tr>
<td class="text-left">hp<sub>scaler</sub></td>
<td class="text-right">quant<sub>g</sub></td>
<td class="text-right">minmax</td>
<td class="text-right">standard</td>
<td class="text-right">standard</td>
<td class="text-right">standard</td>
<td class="text-right">robust</td>
<td class="text-right">robust</td>
<td class="text-right">l2</td>
<td class="text-right">maxabs</td>
</tr>

<tr>
<td class="text-left">test HPC inference time (whole test dataset)</td>
<td class="text-right">65s</td>
<td class="text-right">45s</td>
<td class="text-right">42s</td>
<td class="text-right">201s</td>
<td class="text-right">370s</td>
<td class="text-right">95s</td>
<td class="text-right">230s</td>
<td class="text-right">361s</td>
<td class="text-right">230s</td>
</tr>

<tr>
<td class="text-left">test HPC inference time (one trace)</td>
<td class="text-right">22ms</td>
<td class="text-right">15ms</td>
<td class="text-right">14ms</td>
<td class="text-right">67ms</td>
<td class="text-right">123ms</td>
<td class="text-right">32ms</td>
<td class="text-right">77ms</td>
<td class="text-right">120ms</td>
<td class="text-right">77ms</td>
</tr>

<tr>
<td class="text-left">test Model size</td>
<td class="text-right">200 MB</td>
<td class="text-right">14 MB</td>
<td class="text-right">275 MB</td>
<td class="text-right">186 MB</td>
<td class="text-right">172 MB</td>
<td class="text-right">73 MB</td>
<td class="text-right">312 MB</td>
<td class="text-right">234 MB</td>
<td class="text-right">7 MB</td>
</tr>
</tbody>
</table>
</li>
<li>load held-out test data from simulation.
<details>
<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">col_per_example</span> = 3
<span style="color: #268bd2;">lab_thresh</span> = 0.04
<span style="color: #268bd2;">artifact</span> = 0
<span style="color: #268bd2;">model_type</span> = 1
<span style="color: #268bd2;">fwhm</span> = 250

<span style="color: #268bd2;">output_path</span> = <span style="color: #2aa198;">"/beegfs/ye53nis/drmed-git/data/exp-220227-unet/2022-04-25_simulations/"</span>
<span style="color: #268bd2;">sim_path</span> = <span style="color: #78683f;">Path</span>(<span style="color: #2aa198;">'/beegfs/ye53nis/saves/firstartifact_Nov2020_test'</span>)

<span style="color: #268bd2;">sim</span>, <span style="color: #657b83; font-weight: bold;">_</span>, <span style="color: #268bd2;">nsamples</span>, <span style="color: #268bd2;">sim_params</span> = <span style="color: #4f5c7e;">isfc</span>.<span style="color: #37785e;">import_from_csv</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #783f5a;">folder</span>=<span style="color: #5e7837;">sim_path</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">header</span>=12,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #7a4f7e;">frac_train</span>=1,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">col_per_example</span>=<span style="color: #78683f;">col_per_example</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #707e4f;">dropindex</span>=<span style="color: #859900; font-weight: bold;">None</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #5e7837;">dropcolumns</span>=<span style="color: #859900; font-weight: bold;">None</span>)

<span style="color: #268bd2;">diffrates</span> = <span style="color: #4f5c7e;">sim_params</span>.<span style="color: #783778;">loc</span>[<span style="color: #2aa198;">'diffusion rate of molecules in micrometer^2 / s'</span>].<span style="color: #374478;">astype</span>(<span style="color: #707e4f;">np</span>.<span style="color: #78683f;">float32</span>)
<span style="color: #268bd2;">nmols</span> = <span style="color: #4f5c7e;">sim_params</span>.<span style="color: #783778;">loc</span>[<span style="color: #2aa198;">'number of fast molecules'</span>].<span style="color: #374478;">astype</span>(<span style="color: #707e4f;">np</span>.<span style="color: #78683f;">float32</span>)
<span style="color: #268bd2;">clusters</span> = <span style="color: #4f5c7e;">sim_params</span>.<span style="color: #783778;">loc</span>[<span style="color: #2aa198;">'diffusion rate of clusters in micrometer^2 / s'</span>].<span style="color: #374478;">astype</span>(<span style="color: #707e4f;">np</span>.<span style="color: #78683f;">float32</span>)
<span style="color: #268bd2;">sim_columns</span> = [<span style="color: #43783f;">f</span><span style="color: #2aa198;">'</span><span style="color: #268bd2;">{d:.4}</span><span style="color: #2aa198;">-</span><span style="color: #268bd2;">{c:.4}</span><span style="color: #2aa198;">'</span> <span style="color: #859900; font-weight: bold;">for</span> <span style="color: #7a4f7e;">d</span>, <span style="color: #707e4f;">c</span> <span style="color: #859900; font-weight: bold;">in</span> <span style="color: #657b83; font-weight: bold;">zip</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #707e4f;">np</span>.<span style="color: #43783f;">repeat</span>(<span style="color: #513f78;">diffrates</span>, <span style="color: #783f5a;">nsamples</span>[0]),
<span style="background-color: #eee8d5;"> </span>   <span style="color: #707e4f;">np</span>.<span style="color: #43783f;">repeat</span>(<span style="color: #7e544f;">clusters</span>, <span style="color: #783f5a;">nsamples</span>[0]))]
<span style="color: #268bd2;">sim_columns_idx</span> = [<span style="color: #2aa198;">'50.0-0.01'</span>, <span style="color: #2aa198;">'50.0-0.1'</span>, <span style="color: #2aa198;">'50.0-1.0'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #2aa198;">'0.2-0.01'</span>, <span style="color: #2aa198;">'0.2-0.1'</span>, <span style="color: #2aa198;">'0.2-1.0'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #2aa198;">'0.069-0.01'</span>, <span style="color: #2aa198;">'0.069-0.1'</span>, <span style="color: #2aa198;">'0.069-1.0'</span>]
<span style="color: #268bd2;">sim_columns_txt</span> = [<span style="color: #2aa198;">'fast molecules and slow clusters:\nsimulations'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #2aa198;">'fast molecules and medium clusters:\nsimulations'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #2aa198;">'fast molecules and fast clusters:\nsimulations'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #2aa198;">'medium molecules and slow clusters:\nsimulations'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #2aa198;">'medium molecules and medium clusters:\nsimulations'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #2aa198;">'medium molecules and fast clusters:\nsimulations'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #2aa198;">'slow molecules and slow clusters:\nsimulations'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #2aa198;">'slow molecules and medium clusters:\nsimulations'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #2aa198;">'slow molecules and fast clusters:\nsimulations'</span>]

<span style="color: #268bd2;">sim_sep</span> = <span style="color: #4f5c7e;">isfc</span>.<span style="color: #3f7178;">separate_data_and_labels</span>(<span style="color: #78683f;">array</span>=<span style="color: #7a4f7e;">sim</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #783f5a;">nsamples</span>=<span style="color: #783f5a;">nsamples</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">col_per_example</span>=<span style="color: #78683f;">col_per_example</span>)
<span style="color: #268bd2;">sim_dirty</span> = <span style="color: #783f5a;">sim_sep</span>[<span style="color: #2aa198;">'0'</span>]
<span style="color: #268bd2;">sim_dirty.columns</span> = <span style="color: #784437;">sim_columns</span>

<span style="color: #268bd2;">sim_labels</span> = <span style="color: #783f5a;">sim_sep</span>[<span style="color: #2aa198;">'1'</span>]
<span style="color: #268bd2;">sim_labels.columns</span> = <span style="color: #784437;">sim_columns</span>
<span style="color: #268bd2;">sim_labbool</span> = <span style="color: #783778;">sim_labels</span> &gt; <span style="color: #37785e;">lab_thresh</span>
<span style="color: #268bd2;">sim_labbool.columns</span> = <span style="color: #784437;">sim_columns</span>
<span style="color: #268bd2;">sim_clean</span> = <span style="color: #783f5a;">sim_sep</span>[<span style="color: #2aa198;">'2'</span>]
<span style="color: #268bd2;">sim_clean.columns</span> = <span style="color: #784437;">sim_columns</span>

<span style="color: #707e4f;">sim_dirty</span>
</pre>
</div>

<pre class="example">
2022-04-25 11:32:12,435 - 1/30: /beegfs/ye53nis/saves/firstartifact_Nov2020_test/0.069/1.0/traces_brightclust_Nov2020_D0.069_set010.csv
2022-04-25 11:32:15,346 - 2/30: /beegfs/ye53nis/saves/firstartifact_Nov2020_test/50/0.1/traces_brightclust_Nov2020_D50_set003.csv
2022-04-25 11:32:18,091 - 3/30: /beegfs/ye53nis/saves/firstartifact_Nov2020_test/0.4/0.1/traces_brightclust_Nov2020_D0.4_set001.csv
2022-04-25 11:32:21,085 - 4/30: /beegfs/ye53nis/saves/firstartifact_Nov2020_test/0.2/0.1/traces_brightclust_Nov2020_D0.2_set007.csv
2022-04-25 11:32:23,781 - 5/30: /beegfs/ye53nis/saves/firstartifact_Nov2020_test/3.0/1.0/traces_brightclust_Nov2020_D3.0_set002.csv
2022-04-25 11:32:26,490 - 6/30: /beegfs/ye53nis/saves/firstartifact_Nov2020_test/3.0/0.01/traces_brightclust_Nov2020_D3.0_set004.csv
2022-04-25 11:32:29,216 - 7/30: /beegfs/ye53nis/saves/firstartifact_Nov2020_test/50/0.01/traces_brightclust_Nov2020_D50_set002.csv
2022-04-25 11:32:32,164 - 8/30: /beegfs/ye53nis/saves/firstartifact_Nov2020_test/0.2/1.0/traces_brightclust_Nov2020_D0.2_set005.csv
2022-04-25 11:32:35,219 - 9/30: /beegfs/ye53nis/saves/firstartifact_Nov2020_test/0.6/1.0/traces_brightclust_Nov2020_D0.6_set009.csv
2022-04-25 11:32:38,070 - 10/30: /beegfs/ye53nis/saves/firstartifact_Nov2020_test/10/0.1/traces_brightclust_Nov2020_D10_set001.csv2022-04-25 11:32:40,862 - 11/30: /beegfs/ye53nis/saves/firstartifact_Nov2020_test/0.08/1.0/traces_brightclust_Nov2020_D0.08_set001.csv
2022-04-25 11:32:44,030 - 12/30: /beegfs/ye53nis/saves/firstartifact_Nov2020_test/0.6/0.1/traces_brightclust_Nov2020_D0.6_set003.csv
2022-04-25 11:32:46,779 - 13/30: /beegfs/ye53nis/saves/firstartifact_Nov2020_test/0.1/1.0/traces_brightclust_Nov2020_D0.1_set001.csv
2022-04-25 11:32:49,564 - 14/30: /beegfs/ye53nis/saves/firstartifact_Nov2020_test/0.4/1.0/traces_brightclust_Nov2020_D0.4_set005.csv
2022-04-25 11:32:52,553 - 15/30: /beegfs/ye53nis/saves/firstartifact_Nov2020_test/10/1.0/traces_brightclust_Nov2020_D10_set005.csv
2022-04-25 11:32:55,473 - 16/30: /beegfs/ye53nis/saves/firstartifact_Nov2020_test/1.0/1.0/traces_brightclust_Nov2020_D1.0_set005.csv
2022-04-25 11:32:58,258 - 17/30: /beegfs/ye53nis/saves/firstartifact_Nov2020_test/0.069/0.1/traces_brightclust_Nov2020_D0.069_set001.csv
2022-04-25 11:33:01,043 - 18/30: /beegfs/ye53nis/saves/firstartifact_Nov2020_test/50/1.0/traces_brightclust_Nov2020_D50_set001.csv
2022-04-25 11:33:03,986 - 19/30: /beegfs/ye53nis/saves/firstartifact_Nov2020_test/0.1/0.01/traces_brightclust_Nov2020_D0.1_set002.csv
2022-04-25 11:33:06,905 - 20/30: /beegfs/ye53nis/saves/firstartifact_Nov2020_test/0.08/0.1/traces_brightclust_Nov2020_D0.08_set003.csv
2022-04-25 11:33:10,236 - 21/30: /beegfs/ye53nis/saves/firstartifact_Nov2020_test/1.0/0.01/traces_brightclust_Nov2020_D1.0_set006.csv
2022-04-25 11:33:12,972 - 22/30: /beegfs/ye53nis/saves/firstartifact_Nov2020_test/1.0/0.1/traces_brightclust_Nov2020_D1.0_set003.csv
2022-04-25 11:33:15,879 - 23/30: /beegfs/ye53nis/saves/firstartifact_Nov2020_test/0.2/0.01/traces_brightclust_Nov2020_D0.2_set002.csv
2022-04-25 11:33:18,677 - 24/30: /beegfs/ye53nis/saves/firstartifact_Nov2020_test/0.1/0.1/traces_brightclust_Nov2020_D0.1_set005.csv
2022-04-25 11:33:21,515 - 25/30: /beegfs/ye53nis/saves/firstartifact_Nov2020_test/3.0/0.1/traces_brightclust_Nov2020_D3.0_set007.csv
2022-04-25 11:33:24,287 - 26/30: /beegfs/ye53nis/saves/firstartifact_Nov2020_test/0.08/0.01/traces_brightclust_Nov2020_D0.08_set005.csv
2022-04-25 11:33:27,293 - 27/30: /beegfs/ye53nis/saves/firstartifact_Nov2020_test/0.069/0.01/traces_brightclust_Nov2020_D0.069_set005.csv
2022-04-25 11:33:30,137 - 28/30: /beegfs/ye53nis/saves/firstartifact_Nov2020_test/10/0.01/traces_brightclust_Nov2020_D10_set002.csv
2022-04-25 11:33:32,952 - 29/30: /beegfs/ye53nis/saves/firstartifact_Nov2020_test/0.6/0.01/traces_brightclust_Nov2020_D0.6_set008.csv
2022-04-25 11:33:35,872 - 30/30: /beegfs/ye53nis/saves/firstartifact_Nov2020_test/0.4/0.01/traces_brightclust_Nov2020_D0.4_set008.csv
2022-04-25 11:33:36,060 - The given DataFrame was split into 3 parts with shapes: [(16384, 3000), (16384, 3000), (16384, 3000)]
</pre>
</details>

<table class="table table-striped table-bordered table-hover table-condensed">


<colgroup>
<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="left">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">
</colgroup>
<thead>
<tr>
<th scope="col" class="text-right">&#xa0;</th>
<th scope="col" class="text-right">0.069-1.0</th>
<th scope="col" class="text-right">0.069-1.0</th>
<th scope="col" class="text-right">0.069-1.0</th>
<th scope="col" class="text-right">0.069-1.0</th>
<th scope="col" class="text-right">0.069-1.0</th>
<th scope="col" class="text-right">0.069-1.0</th>
<th scope="col" class="text-right">0.069-1.0</th>
<th scope="col" class="text-right">0.069-1.0</th>
<th scope="col" class="text-right">0.069-1.0</th>
<th scope="col" class="text-right">0.069-1.0</th>
<th scope="col" class="text-left">&#x2026;</th>
<th scope="col" class="text-right">0.4-0.01</th>
<th scope="col" class="text-right">0.4-0.01</th>
<th scope="col" class="text-right">0.4-0.01</th>
<th scope="col" class="text-right">0.4-0.01</th>
<th scope="col" class="text-right">0.4-0.01</th>
<th scope="col" class="text-right">0.4-0.01</th>
<th scope="col" class="text-right">0.4-0.01</th>
<th scope="col" class="text-right">0.4-0.01</th>
<th scope="col" class="text-right">0.4-0.01</th>
<th scope="col" class="text-right">0.4-0.01</th>
</tr>
</thead>
<tbody>
<tr>
<td class="text-right">0</td>
<td class="text-right">395.062347</td>
<td class="text-right">542.019287</td>
<td class="text-right">259.171783</td>
<td class="text-right">378.006470</td>
<td class="text-right">672.683350</td>
<td class="text-right">422.525299</td>
<td class="text-right">435.934174</td>
<td class="text-right">535.840027</td>
<td class="text-right">341.197662</td>
<td class="text-right">546.919556</td>
<td class="text-left">&#x2026;</td>
<td class="text-right">1194.309570</td>
<td class="text-right">1331.900391</td>
<td class="text-right">1614.625854</td>
<td class="text-right">1096.244019</td>
<td class="text-right">5350.819336</td>
<td class="text-right">1109.356201</td>
<td class="text-right">1231.328979</td>
<td class="text-right">2721.381592</td>
<td class="text-right">1671.956787</td>
<td class="text-right">1572.913452</td>
</tr>

<tr>
<td class="text-right">1</td>
<td class="text-right">395.732605</td>
<td class="text-right">676.451477</td>
<td class="text-right">263.082733</td>
<td class="text-right">365.738861</td>
<td class="text-right">672.841858</td>
<td class="text-right">436.986450</td>
<td class="text-right">408.519165</td>
<td class="text-right">578.790833</td>
<td class="text-right">357.324097</td>
<td class="text-right">518.666321</td>
<td class="text-left">&#x2026;</td>
<td class="text-right">1226.035278</td>
<td class="text-right">1348.827026</td>
<td class="text-right">1727.460327</td>
<td class="text-right">1040.826294</td>
<td class="text-right">5548.753418</td>
<td class="text-right">1241.292969</td>
<td class="text-right">1197.370972</td>
<td class="text-right">2785.768066</td>
<td class="text-right">1749.072510</td>
<td class="text-right">1544.390259</td>
</tr>

<tr>
<td class="text-right">2</td>
<td class="text-right">385.598785</td>
<td class="text-right">565.850403</td>
<td class="text-right">258.483124</td>
<td class="text-right">350.939362</td>
<td class="text-right">680.929993</td>
<td class="text-right">416.969391</td>
<td class="text-right">408.744873</td>
<td class="text-right">572.143921</td>
<td class="text-right">350.399933</td>
<td class="text-right">546.654846</td>
<td class="text-left">&#x2026;</td>
<td class="text-right">1236.471436</td>
<td class="text-right">1323.095703</td>
<td class="text-right">1817.804810</td>
<td class="text-right">949.081665</td>
<td class="text-right">5418.844727</td>
<td class="text-right">1285.566650</td>
<td class="text-right">1229.268799</td>
<td class="text-right">2961.105225</td>
<td class="text-right">1643.184204</td>
<td class="text-right">1486.991211</td>
</tr>

<tr>
<td class="text-right">3</td>
<td class="text-right">375.055664</td>
<td class="text-right">569.737793</td>
<td class="text-right">252.117035</td>
<td class="text-right">364.043427</td>
<td class="text-right">651.953247</td>
<td class="text-right">449.630371</td>
<td class="text-right">390.186218</td>
<td class="text-right">521.915283</td>
<td class="text-right">366.314545</td>
<td class="text-right">534.204285</td>
<td class="text-left">&#x2026;</td>
<td class="text-right">1192.580566</td>
<td class="text-right">1219.429932</td>
<td class="text-right">1844.903687</td>
<td class="text-right">888.757324</td>
<td class="text-right">5756.974121</td>
<td class="text-right">1303.747803</td>
<td class="text-right">1190.227539</td>
<td class="text-right">3127.305664</td>
<td class="text-right">1713.993042</td>
<td class="text-right">1427.290771</td>
</tr>

<tr>
<td class="text-right">4</td>
<td class="text-right">400.554443</td>
<td class="text-right">590.014893</td>
<td class="text-right">241.840240</td>
<td class="text-right">376.104645</td>
<td class="text-right">681.107056</td>
<td class="text-right">466.177185</td>
<td class="text-right">380.395752</td>
<td class="text-right">531.094727</td>
<td class="text-right">370.980286</td>
<td class="text-right">537.930359</td>
<td class="text-left">&#x2026;</td>
<td class="text-right">1168.627441</td>
<td class="text-right">1194.065186</td>
<td class="text-right">1756.768799</td>
<td class="text-right">887.986389</td>
<td class="text-right">5481.615234</td>
<td class="text-right">1324.906250</td>
<td class="text-right">1268.030762</td>
<td class="text-right">2997.608887</td>
<td class="text-right">1744.911865</td>
<td class="text-right">1426.806763</td>
</tr>

<tr>
<td class="text-right">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-left">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-right">&#x2026;</td>
</tr>

<tr>
<td class="text-right">16379</td>
<td class="text-right">433.562714</td>
<td class="text-right">624.462646</td>
<td class="text-right">643.004944</td>
<td class="text-right">518.733643</td>
<td class="text-right">563.566589</td>
<td class="text-right">578.520813</td>
<td class="text-right">348.858429</td>
<td class="text-right">330.541473</td>
<td class="text-right">9484.205078</td>
<td class="text-right">376.017700</td>
<td class="text-left">&#x2026;</td>
<td class="text-right">1352.349854</td>
<td class="text-right">1400.204102</td>
<td class="text-right">2025.719604</td>
<td class="text-right">934.456665</td>
<td class="text-right">2333.292725</td>
<td class="text-right">1499.182251</td>
<td class="text-right">1344.230347</td>
<td class="text-right">1172.255371</td>
<td class="text-right">1347.495239</td>
<td class="text-right">756.805908</td>
</tr>

<tr>
<td class="text-right">16380</td>
<td class="text-right">462.284454</td>
<td class="text-right">616.137512</td>
<td class="text-right">597.266296</td>
<td class="text-right">487.652924</td>
<td class="text-right">572.072327</td>
<td class="text-right">612.569275</td>
<td class="text-right">328.044495</td>
<td class="text-right">331.003693</td>
<td class="text-right">8237.546875</td>
<td class="text-right">373.477081</td>
<td class="text-left">&#x2026;</td>
<td class="text-right">1305.663696</td>
<td class="text-right">1453.817993</td>
<td class="text-right">1847.917114</td>
<td class="text-right">1012.087402</td>
<td class="text-right">2349.776611</td>
<td class="text-right">1498.571411</td>
<td class="text-right">1446.490479</td>
<td class="text-right">1191.984253</td>
<td class="text-right">1482.415894</td>
<td class="text-right">712.499878</td>
</tr>

<tr>
<td class="text-right">16381</td>
<td class="text-right">472.551483</td>
<td class="text-right">612.926758</td>
<td class="text-right">615.009460</td>
<td class="text-right">516.941528</td>
<td class="text-right">579.562378</td>
<td class="text-right">624.847717</td>
<td class="text-right">308.531097</td>
<td class="text-right">308.009369</td>
<td class="text-right">2722.457275</td>
<td class="text-right">352.414612</td>
<td class="text-left">&#x2026;</td>
<td class="text-right">1384.178711</td>
<td class="text-right">1428.226440</td>
<td class="text-right">1641.537109</td>
<td class="text-right">975.000366</td>
<td class="text-right">2291.302734</td>
<td class="text-right">1541.471436</td>
<td class="text-right">1334.644897</td>
<td class="text-right">1173.113770</td>
<td class="text-right">1520.151367</td>
<td class="text-right">587.645203</td>
</tr>

<tr>
<td class="text-right">16382</td>
<td class="text-right">486.679413</td>
<td class="text-right">637.962769</td>
<td class="text-right">616.344116</td>
<td class="text-right">502.372345</td>
<td class="text-right">593.559937</td>
<td class="text-right">673.262634</td>
<td class="text-right">307.834229</td>
<td class="text-right">322.522400</td>
<td class="text-right">2823.112305</td>
<td class="text-right">336.442596</td>
<td class="text-left">&#x2026;</td>
<td class="text-right">1258.534058</td>
<td class="text-right">1423.324341</td>
<td class="text-right">1560.817139</td>
<td class="text-right">1023.877014</td>
<td class="text-right">2185.760742</td>
<td class="text-right">1455.700928</td>
<td class="text-right">1387.281250</td>
<td class="text-right">1124.065552</td>
<td class="text-right">1572.194336</td>
<td class="text-right">618.202820</td>
</tr>

<tr>
<td class="text-right">16383</td>
<td class="text-right">489.893646</td>
<td class="text-right">614.733704</td>
<td class="text-right">614.638000</td>
<td class="text-right">511.408234</td>
<td class="text-right">595.268982</td>
<td class="text-right">673.656921</td>
<td class="text-right">318.466736</td>
<td class="text-right">305.981110</td>
<td class="text-right">1768.038330</td>
<td class="text-right">361.107300</td>
<td class="text-left">&#x2026;</td>
<td class="text-right">1114.534912</td>
<td class="text-right">1386.146484</td>
<td class="text-right">1548.830078</td>
<td class="text-right">1009.011658</td>
<td class="text-right">2117.508789</td>
<td class="text-right">1569.905518</td>
<td class="text-right">1396.511353</td>
<td class="text-right">1070.131104</td>
<td class="text-right">1602.530029</td>
<td class="text-right">654.377380</td>
</tr>
</tbody>
</table>

<p>
16384 rows × 3000 columns
</p>
</li>

<li>save correlations before correction, then load each model, predict
artifacts, and correct it with the <code>delete and shift</code> method, which we
later renamed <code>cut and stitch</code>, then fit the correlations with Dominic
Waithe's <code>focuspoint</code>
<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">before correction</span>
<span style="color: #5e7837;">correlate</span>.<span style="color: #37785e;">correlate_timetrace_and_save</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #4f7e67;">df</span>=<span style="color: #707e4f;">sim_dirty</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #2aa198;">"/beegfs/ye53nis/drmed-git/data/exp-220227-unet/2022-04-25_simulations/"</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">txt</span>=<span style="color: #2aa198;">'dirty'</span>)

<span style="color: #859900; font-weight: bold;">for</span> <span style="color: #783778;">mid</span>, <span style="color: #783778;">mname</span> <span style="color: #859900; font-weight: bold;">in</span> <span style="color: #657b83; font-weight: bold;">enumerate</span>(<span style="color: #7e544f;">model_name_ls</span>):
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">logged_scaler</span> = <span style="color: #78683f;">Path</span>(<span style="color: #43783f;">f</span><span style="color: #2aa198;">'/beegfs/ye53nis/drmed-git/data/mlruns/10/{model_ls[model_id]}/params/scaler'</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">logged_scaler</span> = !<span style="color: #4f7e67;">cat</span> $<span style="color: #783f5a;">logged_scaler</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">logged_scaler</span> = <span style="color: #783f5a;">logged_scaler</span>[0]

<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">logged_model</span> = <span style="color: #78683f;">Path</span>(<span style="color: #43783f;">f</span><span style="color: #2aa198;">'/beegfs/ye53nis/drmed-git/data/mlruns/10/{model_ls[model_id]}/artifacts/model'</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">logged_model</span> = <span style="color: #783f5a;">load_model</span>(<span style="color: #783f5a;">logged_model</span>, <span style="color: #657b83; font-weight: bold;">compile</span>=<span style="color: #859900; font-weight: bold;">False</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="color: #783f5a;">logged_model</span>.<span style="color: #374478;">compile</span>(<span style="color: #783f5a;">loss</span>=<span style="color: #374478;">bm</span>.<span style="color: #783f5a;">binary_ce_dice_loss</span>(),
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #7a4f7e;">optimizer</span>=<span style="color: #783778;">Adam</span>(),
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #43783f;">metrics</span> = <span style="color: #374478;">bm</span>.<span style="color: #374478;">unet_metrics</span>([0.1, 0.3, 0.5, 0.7, 0.9]))

<span style="background-color: #eee8d5;"> </span>   <span style="color: #7a4f7e;">ans</span>.<span style="color: #783f5a;">predict_correct_correlate_simulations</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">sim_df</span>=<span style="color: #707e4f;">sim_dirty</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #43783f;">model</span>=<span style="color: #783f5a;">logged_model</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #4f5c7e;">scaler</span>=<span style="color: #783f5a;">logged_scaler</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #2aa198;">"/beegfs/ye53nis/drmed-git/data/exp-220227-unet/2022-04-25_simulations/"</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">txt</span>=<span style="color: #783778;">mname</span>)

</pre>
</div>

<pre class="example">
WARNING:tensorflow:Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
WARNING:tensorflow:Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
WARNING:tensorflow:Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
WARNING:tensorflow:Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
WARNING:tensorflow:Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
WARNING:tensorflow:Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
WARNING:tensorflow:Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
WARNING:tensorflow:Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
WARNING:tensorflow:Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
</pre>
</li>

<li>we then fitted the data with Dominic Waithe's <code>focuspoint</code>.
</li>

<li>One thing I realized later, is that fit results from all curves with
simulated diffusion coefficients of \(10\) and \(50 \mu m^2/s\) were not
comparable, because the time step size of \(1ms\) of these traces was not
fine enough (\(10\mu m^2/s \propto 1.1ms\)). It was still useful to simulate
them for training the model.
</li>

<li>for the final paper, we only compared three different times: \(\{0.069, 0.2,
     3.0\}\mu m^2 s^{-1}\)
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-2-1-11" class="outline-4">
<h4 id="sec-2-1-11"><span class="section-number-4">2.1.11</span> Analysis 2: correct simulated test data</h4>
<div class="outline-text-4" id="text-2-1-11">
</div><div id="outline-container-sec-2-1-11-1" class="outline-5">
<h5 id="sec-2-1-11-1"><span class="section-number-5">2.1.11.1</span> illustrative plots</h5>
<div class="outline-text-5" id="text-2-1-11-1">
<ul class="org-ul">
<li>call <code>#+CALL: jupyter-set-output-directory()</code>
<pre class="example">
./data/exp-220227-unet/jupyter
</pre>
</li>

<li>load modules
<details>
<div class="org-src-container">

<pre class="src src-jupyter-python" id="simulations-prepare-modules">%<span style="color: #707e4f;">cd</span> ~/<span style="color: #784437;">Programme</span>/<span style="color: #784437;">drmed</span>-<span style="color: #784437;">git</span>

<span style="color: #859900; font-weight: bold;">import</span> <span style="color: #7a4f7e;">logging</span>
<span style="color: #859900; font-weight: bold;">import</span> <span style="color: #7e544f;">os</span>
<span style="color: #859900; font-weight: bold;">import</span> <span style="color: #513f78;">sys</span>

<span style="color: #859900; font-weight: bold;">import</span> <span style="color: #37785e;">matplotlib</span>.<span style="color: #4f7e67;">pyplot</span> <span style="color: #859900; font-weight: bold;">as</span> <span style="color: #4f7e67;">plt</span>
<span style="color: #859900; font-weight: bold;">import</span> <span style="color: #4f5c7e;">numpy</span> <span style="color: #859900; font-weight: bold;">as</span> <span style="color: #707e4f;">np</span>
<span style="color: #859900; font-weight: bold;">import</span> <span style="color: #5e7837;">pandas</span> <span style="color: #859900; font-weight: bold;">as</span> <span style="color: #783778;">pd</span>
<span style="color: #859900; font-weight: bold;">import</span> <span style="color: #78683f;">seaborn</span> <span style="color: #859900; font-weight: bold;">as</span> <span style="color: #4f5c7e;">sns</span>

<span style="color: #859900; font-weight: bold;">from</span> <span style="color: #5e7837;">mlflow</span>.<span style="color: #784437;">keras</span> <span style="color: #859900; font-weight: bold;">import</span> <span style="color: #783f5a;">load_model</span>
<span style="color: #859900; font-weight: bold;">from</span> <span style="color: #43783f;">pathlib</span> <span style="color: #859900; font-weight: bold;">import</span> <span style="color: #78683f;">Path</span>
<span style="color: #859900; font-weight: bold;">from</span> <span style="color: #4f7e67;">pprint</span> <span style="color: #859900; font-weight: bold;">import</span> <span style="color: #4f7e67;">pprint</span>
<span style="color: #859900; font-weight: bold;">from</span> <span style="color: #513f78;">sklearn</span>.<span style="color: #4f7e67;">preprocessing</span> <span style="color: #859900; font-weight: bold;">import</span> <span style="color: #7e544f;">MaxAbsScaler</span>
<span style="color: #859900; font-weight: bold;">from</span> <span style="color: #513f78;">tensorflow</span>.<span style="color: #784437;">keras</span>.<span style="color: #43783f;">optimizers</span> <span style="color: #859900; font-weight: bold;">import</span> <span style="color: #783778;">Adam</span>



<span style="color: #268bd2;">FLUOTRACIFY_PATH</span> = <span style="color: #2aa198;">'/home/lex/Programme/drmed-git/src/'</span>
<span style="color: #513f78;">sys</span>.<span style="color: #513f78;">path</span>.<span style="color: #5e7837;">append</span>(<span style="color: #784437;">FLUOTRACIFY_PATH</span>)
<span style="color: #859900; font-weight: bold;">from</span> <span style="color: #783778;">fluotracify</span>.<span style="color: #4f5c7e;">applications</span> <span style="color: #859900; font-weight: bold;">import</span> <span style="color: #3f7178;">corr_fit_object</span> <span style="color: #859900; font-weight: bold;">as</span> <span style="color: #78683f;">cfo</span>
<span style="color: #859900; font-weight: bold;">from</span> <span style="color: #783778;">fluotracify</span>.<span style="color: #783f5a;">imports</span> <span style="color: #859900; font-weight: bold;">import</span> <span style="color: #7a4f7e;">ptu_utils</span> <span style="color: #859900; font-weight: bold;">as</span> <span style="color: #78683f;">ptu</span>
<span style="color: #859900; font-weight: bold;">from</span> <span style="color: #783778;">fluotracify</span>.<span style="color: #3f7178;">training</span> <span style="color: #859900; font-weight: bold;">import</span> (<span style="color: #783778;">build_model</span> <span style="color: #859900; font-weight: bold;">as</span> <span style="color: #374478;">bm</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #784437;">preprocess_data</span> <span style="color: #859900; font-weight: bold;">as</span> <span style="color: #783f5a;">ppd</span>)
<span style="color: #859900; font-weight: bold;">from</span> <span style="color: #783778;">fluotracify</span>.<span style="color: #5e7837;">simulations</span> <span style="color: #859900; font-weight: bold;">import</span> (
<span style="background-color: #eee8d5;"> </span>  <span style="color: #707e4f;">import_simulation_from_csv</span> <span style="color: #859900; font-weight: bold;">as</span> <span style="color: #4f5c7e;">isfc</span>,
<span style="background-color: #eee8d5;"> </span>  <span style="color: #43783f;">analyze_simulations</span> <span style="color: #859900; font-weight: bold;">as</span> <span style="color: #7a4f7e;">ans</span>,
)

<span style="color: #7a4f7e;">logging</span>.<span style="color: #7e544f;">basicConfig</span>(<span style="color: #43783f;">filename</span>=<span style="color: #2aa198;">"/home/lex/Programme/drmed-git/data/exp-220227-unet/jupyter.log"</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #783778;">filemode</span>=<span style="color: #2aa198;">'w'</span>, <span style="color: #657b83; font-weight: bold;">format</span>=<span style="color: #2aa198;">'%(asctime)s - %(message)s'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #374478;">force</span>=<span style="color: #859900; font-weight: bold;">True</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #783778;">level</span>=<span style="color: #7a4f7e;">logging</span>.<span style="color: #783778;">DEBUG</span>)

<span style="color: #4f5c7e;">sns</span>.<span style="color: #374478;">set_theme</span>(<span style="color: #3f7178;">style</span>=<span style="color: #2aa198;">"whitegrid"</span>, <span style="color: #784437;">font_scale</span>=2, <span style="color: #5e7837;">palette</span>=<span style="color: #2aa198;">'colorblind'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #4f7e67;">context</span>=<span style="color: #2aa198;">'paper'</span>)

<span style="color: #268bd2;">model_ls</span> = [<span style="color: #2aa198;">'ff67be0b68e540a9a29a36a2d0c7a5be'</span>, <span style="color: #2aa198;">'347669d050f344ad9fb9e480c814f727'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">'714af8cd12c1441eac4ca980e8c20070'</span>, <span style="color: #2aa198;">'34a6d207ac594035b1009c330fb67a65'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">'484af471c61943fa90e5f78e78a229f0'</span>, <span style="color: #2aa198;">'0cd2023eeaf745aca0d3e8ad5e1fc653'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">'fe81d71c52404ed790b3a32051258da9'</span>, <span style="color: #2aa198;">'19e3e786e1bc4e2b93856f5dc9de8216'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">'c1204e3a8a1e4c40a35b5b7b1922d1ce'</span>]

<span style="color: #268bd2;">model_name_ls</span> = [<span style="color: #43783f;">f</span><span style="color: #2aa198;">'</span><span style="color: #268bd2;">{s:.5}</span><span style="color: #2aa198;">'</span> <span style="color: #859900; font-weight: bold;">for</span> <span style="color: #784437;">s</span> <span style="color: #859900; font-weight: bold;">in</span> <span style="color: #513f78;">model_ls</span>]

<span style="color: #268bd2;">pred_thresh</span> = 0.5

</pre>
</div>
</details>
<pre class="example">
/home/lex/Programme/drmed-git
</pre>
</li>

<li>load simulated data
<details>
<div class="org-src-container">

<pre class="src src-jupyter-python" id="simulations-prepare-data"><span style="color: #268bd2;">col_per_example</span> = 3
<span style="color: #268bd2;">lab_thresh</span> = 0.04
<span style="color: #268bd2;">artifact</span> = 0
<span style="color: #268bd2;">model_type</span> = 1
<span style="color: #268bd2;">fwhm</span> = 250
<span style="color: #268bd2;">sim_path</span> = <span style="color: #78683f;">Path</span>(<span style="color: #2aa198;">'/home/lex/Programme/drmed-collections/drmed-simexps/firstartifact_Nov2020_test'</span>)

<span style="color: #268bd2;">sim</span>, <span style="color: #657b83; font-weight: bold;">_</span>, <span style="color: #268bd2;">nsamples</span>, <span style="color: #268bd2;">sim_params</span> = <span style="color: #4f5c7e;">isfc</span>.<span style="color: #37785e;">import_from_csv</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #783f5a;">folder</span>=<span style="color: #5e7837;">sim_path</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">header</span>=12,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #7a4f7e;">frac_train</span>=1,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">col_per_example</span>=<span style="color: #78683f;">col_per_example</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #707e4f;">dropindex</span>=<span style="color: #859900; font-weight: bold;">None</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #5e7837;">dropcolumns</span>=<span style="color: #859900; font-weight: bold;">None</span>)

<span style="color: #268bd2;">diffrates</span> = <span style="color: #4f5c7e;">sim_params</span>.<span style="color: #783778;">loc</span>[<span style="color: #2aa198;">'diffusion rate of molecules in micrometer^2 / s'</span>].<span style="color: #374478;">astype</span>(<span style="color: #707e4f;">np</span>.<span style="color: #78683f;">float32</span>)
<span style="color: #268bd2;">nmols</span> = <span style="color: #4f5c7e;">sim_params</span>.<span style="color: #783778;">loc</span>[<span style="color: #2aa198;">'number of fast molecules'</span>].<span style="color: #374478;">astype</span>(<span style="color: #707e4f;">np</span>.<span style="color: #78683f;">float32</span>)
<span style="color: #268bd2;">clusters</span> = <span style="color: #4f5c7e;">sim_params</span>.<span style="color: #783778;">loc</span>[<span style="color: #2aa198;">'diffusion rate of clusters in micrometer^2 / s'</span>].<span style="color: #374478;">astype</span>(<span style="color: #707e4f;">np</span>.<span style="color: #78683f;">float32</span>)
<span style="color: #268bd2;">sim_columns</span> = [<span style="color: #43783f;">f</span><span style="color: #2aa198;">'</span><span style="color: #268bd2;">{d:.4}</span><span style="color: #2aa198;">-</span><span style="color: #268bd2;">{c:.4}</span><span style="color: #2aa198;">'</span> <span style="color: #859900; font-weight: bold;">for</span> <span style="color: #7a4f7e;">d</span>, <span style="color: #707e4f;">c</span> <span style="color: #859900; font-weight: bold;">in</span> <span style="color: #657b83; font-weight: bold;">zip</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #707e4f;">np</span>.<span style="color: #43783f;">repeat</span>(<span style="color: #513f78;">diffrates</span>, <span style="color: #783f5a;">nsamples</span>[0]),
<span style="background-color: #eee8d5;"> </span>   <span style="color: #707e4f;">np</span>.<span style="color: #43783f;">repeat</span>(<span style="color: #7e544f;">clusters</span>, <span style="color: #783f5a;">nsamples</span>[0]))]

<span style="color: #268bd2;">sim_sep</span> = <span style="color: #4f5c7e;">isfc</span>.<span style="color: #3f7178;">separate_data_and_labels</span>(<span style="color: #78683f;">array</span>=<span style="color: #7a4f7e;">sim</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #783f5a;">nsamples</span>=<span style="color: #783f5a;">nsamples</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">col_per_example</span>=<span style="color: #78683f;">col_per_example</span>)
<span style="color: #268bd2;">sim_dirty</span> = <span style="color: #783f5a;">sim_sep</span>[<span style="color: #2aa198;">'0'</span>]
<span style="color: #268bd2;">sim_dirty.columns</span> = <span style="color: #784437;">sim_columns</span>

<span style="color: #268bd2;">sim_labels</span> = <span style="color: #783f5a;">sim_sep</span>[<span style="color: #2aa198;">'1'</span>]
<span style="color: #268bd2;">sim_labels.columns</span> = <span style="color: #784437;">sim_columns</span>
<span style="color: #268bd2;">sim_labbool</span> = <span style="color: #783778;">sim_labels</span> &gt; <span style="color: #37785e;">lab_thresh</span>
<span style="color: #268bd2;">sim_labbool.columns</span> = <span style="color: #784437;">sim_columns</span>
<span style="color: #268bd2;">sim_clean</span> = <span style="color: #783f5a;">sim_sep</span>[<span style="color: #2aa198;">'2'</span>]
<span style="color: #268bd2;">sim_clean.columns</span> = <span style="color: #784437;">sim_columns</span>

<span style="color: #707e4f;">sim_dirty</span>
</pre>
</div>
</details>
<table class="table table-striped table-bordered table-hover table-condensed">


<colgroup>
<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="left">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">
</colgroup>
<thead>
<tr>
<th scope="col" class="text-right">&#xa0;</th>
<th scope="col" class="text-right">0.069-0.1</th>
<th scope="col" class="text-right">0.069-0.1</th>
<th scope="col" class="text-right">0.069-0.1</th>
<th scope="col" class="text-right">0.069-0.1</th>
<th scope="col" class="text-right">0.069-0.1</th>
<th scope="col" class="text-right">0.069-0.1</th>
<th scope="col" class="text-right">0.069-0.1</th>
<th scope="col" class="text-right">0.069-0.1</th>
<th scope="col" class="text-right">0.069-0.1</th>
<th scope="col" class="text-right">0.069-0.1</th>
<th scope="col" class="text-left">&#x2026;</th>
<th scope="col" class="text-right">50.0-0.01</th>
<th scope="col" class="text-right">50.0-0.01</th>
<th scope="col" class="text-right">50.0-0.01</th>
<th scope="col" class="text-right">50.0-0.01</th>
<th scope="col" class="text-right">50.0-0.01</th>
<th scope="col" class="text-right">50.0-0.01</th>
<th scope="col" class="text-right">50.0-0.01</th>
<th scope="col" class="text-right">50.0-0.01</th>
<th scope="col" class="text-right">50.0-0.01</th>
<th scope="col" class="text-right">50.0-0.01</th>
</tr>
</thead>
<tbody>
<tr>
<td class="text-right">0</td>
<td class="text-right">1187.467896</td>
<td class="text-right">907.677734</td>
<td class="text-right">480.048798</td>
<td class="text-right">454.669403</td>
<td class="text-right">466.063232</td>
<td class="text-right">384.734467</td>
<td class="text-right">543.981323</td>
<td class="text-right">640.921509</td>
<td class="text-right">795.946167</td>
<td class="text-right">410.471893</td>
<td class="text-left">&#x2026;</td>
<td class="text-right">1897.398193</td>
<td class="text-right">2279.646484</td>
<td class="text-right">3088.531006</td>
<td class="text-right">2034.432495</td>
<td class="text-right">2187.548584</td>
<td class="text-right">2105.736084</td>
<td class="text-right">1789.366577</td>
<td class="text-right">2023.093994</td>
<td class="text-right">2331.185791</td>
<td class="text-right">2185.028076</td>
</tr>

<tr>
<td class="text-right">1</td>
<td class="text-right">1184.055176</td>
<td class="text-right">945.760315</td>
<td class="text-right">471.065216</td>
<td class="text-right">458.392487</td>
<td class="text-right">473.306152</td>
<td class="text-right">395.165527</td>
<td class="text-right">558.603088</td>
<td class="text-right">622.421204</td>
<td class="text-right">776.199402</td>
<td class="text-right">409.149170</td>
<td class="text-left">&#x2026;</td>
<td class="text-right">1499.969849</td>
<td class="text-right">2199.652100</td>
<td class="text-right">3207.333008</td>
<td class="text-right">1650.523926</td>
<td class="text-right">2122.935791</td>
<td class="text-right">2791.281006</td>
<td class="text-right">1661.286377</td>
<td class="text-right">1111.879761</td>
<td class="text-right">1853.699585</td>
<td class="text-right">1926.844971</td>
</tr>

<tr>
<td class="text-right">2</td>
<td class="text-right">1191.848877</td>
<td class="text-right">980.117798</td>
<td class="text-right">459.479706</td>
<td class="text-right">426.087982</td>
<td class="text-right">482.370209</td>
<td class="text-right">425.123413</td>
<td class="text-right">551.536072</td>
<td class="text-right">624.498535</td>
<td class="text-right">778.671265</td>
<td class="text-right">400.971954</td>
<td class="text-left">&#x2026;</td>
<td class="text-right">1822.985229</td>
<td class="text-right">2456.422607</td>
<td class="text-right">2969.562500</td>
<td class="text-right">1934.118286</td>
<td class="text-right">1457.731812</td>
<td class="text-right">2251.077393</td>
<td class="text-right">1903.003662</td>
<td class="text-right">2063.915527</td>
<td class="text-right">2198.018066</td>
<td class="text-right">2038.683105</td>
</tr>

<tr>
<td class="text-right">3</td>
<td class="text-right">1199.065918</td>
<td class="text-right">974.313110</td>
<td class="text-right">462.205566</td>
<td class="text-right">444.041809</td>
<td class="text-right">463.703125</td>
<td class="text-right">434.186615</td>
<td class="text-right">573.044128</td>
<td class="text-right">626.252502</td>
<td class="text-right">747.284058</td>
<td class="text-right">393.178162</td>
<td class="text-left">&#x2026;</td>
<td class="text-right">1741.839355</td>
<td class="text-right">2467.149414</td>
<td class="text-right">2588.980957</td>
<td class="text-right">2136.627686</td>
<td class="text-right">1930.263672</td>
<td class="text-right">2323.700684</td>
<td class="text-right">2133.313721</td>
<td class="text-right">1638.169312</td>
<td class="text-right">1926.058716</td>
<td class="text-right">1815.259521</td>
</tr>

<tr>
<td class="text-right">4</td>
<td class="text-right">1221.957397</td>
<td class="text-right">968.779175</td>
<td class="text-right">464.918030</td>
<td class="text-right">455.205292</td>
<td class="text-right">474.615540</td>
<td class="text-right">437.029419</td>
<td class="text-right">586.489136</td>
<td class="text-right">619.319092</td>
<td class="text-right">781.954102</td>
<td class="text-right">406.468018</td>
<td class="text-left">&#x2026;</td>
<td class="text-right">2431.400879</td>
<td class="text-right">2246.336670</td>
<td class="text-right">3000.961182</td>
<td class="text-right">1915.518066</td>
<td class="text-right">2052.773682</td>
<td class="text-right">2359.145508</td>
<td class="text-right">1699.926147</td>
<td class="text-right">1862.709595</td>
<td class="text-right">2291.338379</td>
<td class="text-right">1332.422241</td>
</tr>

<tr>
<td class="text-right">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-left">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-right">&#x2026;</td>
</tr>

<tr>
<td class="text-right">16379</td>
<td class="text-right">506.409668</td>
<td class="text-right">1012.403931</td>
<td class="text-right">855.006226</td>
<td class="text-right">674.470703</td>
<td class="text-right">769.859192</td>
<td class="text-right">2110.732178</td>
<td class="text-right">799.565247</td>
<td class="text-right">1981.221436</td>
<td class="text-right">528.844604</td>
<td class="text-right">483.055878</td>
<td class="text-left">&#x2026;</td>
<td class="text-right">1512.586548</td>
<td class="text-right">3212.712891</td>
<td class="text-right">1491.119995</td>
<td class="text-right">1843.866943</td>
<td class="text-right">1748.956665</td>
<td class="text-right">2048.602051</td>
<td class="text-right">1662.244385</td>
<td class="text-right">2593.879639</td>
<td class="text-right">1921.427856</td>
<td class="text-right">1664.831909</td>
</tr>

<tr>
<td class="text-right">16380</td>
<td class="text-right">536.809692</td>
<td class="text-right">1022.029724</td>
<td class="text-right">840.287720</td>
<td class="text-right">671.095215</td>
<td class="text-right">738.908997</td>
<td class="text-right">2118.984863</td>
<td class="text-right">807.995789</td>
<td class="text-right">2624.343262</td>
<td class="text-right">552.687012</td>
<td class="text-right">479.768372</td>
<td class="text-left">&#x2026;</td>
<td class="text-right">1661.331055</td>
<td class="text-right">3190.809570</td>
<td class="text-right">1770.193970</td>
<td class="text-right">2081.854248</td>
<td class="text-right">2164.372803</td>
<td class="text-right">2295.646729</td>
<td class="text-right">1846.683594</td>
<td class="text-right">2038.272339</td>
<td class="text-right">2222.708252</td>
<td class="text-right">2122.753662</td>
</tr>

<tr>
<td class="text-right">16381</td>
<td class="text-right">570.668884</td>
<td class="text-right">989.891235</td>
<td class="text-right">839.180298</td>
<td class="text-right">689.863586</td>
<td class="text-right">695.739136</td>
<td class="text-right">2033.681885</td>
<td class="text-right">786.547852</td>
<td class="text-right">3528.163574</td>
<td class="text-right">572.166077</td>
<td class="text-right">484.491211</td>
<td class="text-left">&#x2026;</td>
<td class="text-right">1643.470337</td>
<td class="text-right">2564.206787</td>
<td class="text-right">2025.219971</td>
<td class="text-right">2104.706787</td>
<td class="text-right">1792.828613</td>
<td class="text-right">2106.199463</td>
<td class="text-right">2087.914062</td>
<td class="text-right">1457.817871</td>
<td class="text-right">1874.736938</td>
<td class="text-right">1683.072021</td>
</tr>

<tr>
<td class="text-right">16382</td>
<td class="text-right">562.505310</td>
<td class="text-right">977.029785</td>
<td class="text-right">1005.927673</td>
<td class="text-right">683.250183</td>
<td class="text-right">661.608337</td>
<td class="text-right">2566.123047</td>
<td class="text-right">805.594116</td>
<td class="text-right">3731.086426</td>
<td class="text-right">566.710571</td>
<td class="text-right">489.289673</td>
<td class="text-left">&#x2026;</td>
<td class="text-right">1556.492188</td>
<td class="text-right">2783.619385</td>
<td class="text-right">1312.174561</td>
<td class="text-right">2378.643311</td>
<td class="text-right">2466.965576</td>
<td class="text-right">2160.641357</td>
<td class="text-right">1691.332520</td>
<td class="text-right">2013.095093</td>
<td class="text-right">1632.475708</td>
<td class="text-right">1352.443237</td>
</tr>

<tr>
<td class="text-right">16383</td>
<td class="text-right">567.307373</td>
<td class="text-right">1006.794067</td>
<td class="text-right">982.376526</td>
<td class="text-right">677.099854</td>
<td class="text-right">657.040588</td>
<td class="text-right">2545.080322</td>
<td class="text-right">784.917969</td>
<td class="text-right">3850.334717</td>
<td class="text-right">570.241699</td>
<td class="text-right">512.688232</td>
<td class="text-left">&#x2026;</td>
<td class="text-right">2127.414551</td>
<td class="text-right">2448.062012</td>
<td class="text-right">1398.359253</td>
<td class="text-right">1665.321167</td>
<td class="text-right">2241.687256</td>
<td class="text-right">1823.699829</td>
<td class="text-right">1340.686035</td>
<td class="text-right">1972.661743</td>
<td class="text-right">1550.770142</td>
<td class="text-right">1727.808228</td>
</tr>
</tbody>
</table>

<p>
16384 rows × 1500 columns
</p>
</li>

<li>define plotting functions
<details>
<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">plot1_index</span> = [<span style="color: #2aa198;">'3.0-0.01'</span>, <span style="color: #2aa198;">'3.0-0.1'</span>, <span style="color: #2aa198;">'3.0-1.0'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #2aa198;">'0.2-0.01'</span>, <span style="color: #2aa198;">'0.2-0.1'</span>, <span style="color: #2aa198;">'0.2-1.0'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #2aa198;">'0.069-0.01'</span>, <span style="color: #2aa198;">'0.069-0.1'</span>, <span style="color: #2aa198;">'0.069-1.0'</span>]

<span style="color: #268bd2;">plot1_traceno</span> = [1, 1, 0,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>5, 0, 0,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>1, 1, 0]

<span style="color: #859900; font-weight: bold;">def</span> <span style="color: #268bd2;">get_tt</span>(<span style="color: #783778;">dr</span>):
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">dr</span> = <span style="color: #783778;">dr</span>.<span style="color: #707e4f;">removesuffix</span>(<span style="color: #2aa198;">'-0.01'</span>).<span style="color: #707e4f;">removesuffix</span>(<span style="color: #2aa198;">'-0.1'</span>).<span style="color: #707e4f;">removesuffix</span>(<span style="color: #2aa198;">'-1.0'</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">dr</span> = <span style="color: #657b83; font-weight: bold;">float</span>(<span style="color: #783778;">dr</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">tt</span>, <span style="color: #657b83; font-weight: bold;">_</span> = <span style="color: #7a4f7e;">ans</span>.<span style="color: #37785e;">convert_diffcoeff_to_transittimes</span>(<span style="color: #783778;">dr</span>, 250)
<span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">return</span> <span style="color: #43783f;">f</span><span style="color: #2aa198;">'\nsimulated trace\n$\\tau_{{sim}}={tt:.2f}ms$'</span>

<span style="color: #859900; font-weight: bold;">def</span> <span style="color: #268bd2;">save_plot</span>(<span style="color: #43783f;">filename</span>, <span style="color: #78683f;">txt</span>):
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">plot_file</span> = <span style="color: #43783f;">f</span><span style="color: #2aa198;">'</span><span style="color: #268bd2;">{filename}</span><span style="color: #2aa198;">_</span><span style="color: #268bd2;">{txt}</span><span style="color: #2aa198;">'</span>.<span style="color: #784437;">replace</span>(<span style="color: #2aa198;">' '</span>, <span style="color: #2aa198;">'_'</span>).<span style="color: #784437;">replace</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">'\n'</span>, <span style="color: #2aa198;">'_'</span>).<span style="color: #784437;">replace</span>(<span style="color: #2aa198;">'"'</span>, <span style="color: #2aa198;">''</span>).<span style="color: #784437;">replace</span>(<span style="color: #2aa198;">'{'</span>, <span style="color: #2aa198;">''</span>).<span style="color: #784437;">replace</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">'}'</span>, <span style="color: #2aa198;">''</span>).<span style="color: #784437;">replace</span>(<span style="color: #2aa198;">'$'</span>, <span style="color: #2aa198;">''</span>).<span style="color: #784437;">replace</span>(<span style="color: #2aa198;">'='</span>, <span style="color: #2aa198;">'-'</span>).<span style="color: #784437;">replace</span>(<span style="color: #2aa198;">'\\'</span>, <span style="color: #2aa198;">''</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="color: #4f7e67;">plt</span>.<span style="color: #7e544f;">savefig</span>(<span style="color: #43783f;">f</span><span style="color: #2aa198;">'</span><span style="color: #268bd2;">{plot_file}</span><span style="color: #2aa198;">.pdf'</span>, <span style="color: #7a4f7e;">bbox_inches</span>=<span style="color: #2aa198;">'tight'</span>, <span style="color: #784437;">dpi</span>=300)
<span style="background-color: #eee8d5;"> </span>   <span style="color: #7e544f;">os</span>.<span style="color: #374478;">system</span>(<span style="color: #43783f;">f</span><span style="color: #2aa198;">'pdf2svg </span><span style="color: #268bd2;">{plot_file}</span><span style="color: #2aa198;">.pdf </span><span style="color: #268bd2;">{plot_file}</span><span style="color: #2aa198;">.svg'</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="color: #7e544f;">os</span>.<span style="color: #374478;">system</span>(<span style="color: #43783f;">f</span><span style="color: #2aa198;">'rm </span><span style="color: #268bd2;">{plot_file}</span><span style="color: #2aa198;">.pdf'</span>)

<span style="color: #859900; font-weight: bold;">def</span> <span style="color: #268bd2;">plot_predictions</span>(<span style="color: #5e7837;">model_id</span>, <span style="color: #43783f;">filename</span>):
<span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">def</span> <span style="color: #268bd2;">plot_cluster_prediction</span>(<span style="color: #43783f;">filename</span>):
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">for</span> <span style="color: #707e4f;">i</span>, (<span style="color: #78683f;">idx</span>, <span style="color: #783f5a;">t</span>) <span style="color: #859900; font-weight: bold;">in</span> <span style="color: #657b83; font-weight: bold;">enumerate</span>(<span style="color: #657b83; font-weight: bold;">zip</span>(<span style="color: #707e4f;">plot1_index</span>, <span style="color: #4f7e67;">plot1_traceno</span>)):
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">fig</span> = <span style="color: #4f7e67;">plt</span>.<span style="color: #78683f;">figure</span>()
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">ax</span> = <span style="color: #4f7e67;">plt</span>.<span style="color: #7a4f7e;">subplot</span>(111)
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">txt</span> = <span style="color: #374478;">get_tt</span>(<span style="color: #78683f;">idx</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #7e544f;">ax</span>.<span style="color: #784437;">set_prop_cycle</span>(<span style="color: #78683f;">color</span>=[<span style="color: #4f5c7e;">sns</span>.<span style="color: #7e544f;">color_palette</span>()[3]])
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #4f5c7e;">sns</span>.<span style="color: #4f7e67;">lineplot</span>(<span style="color: #784437;">data</span>=<span style="color: #78683f;">sim_pred</span>.<span style="color: #783778;">loc</span>[:, <span style="color: #78683f;">idx</span>].<span style="color: #4f5c7e;">iloc</span>[:, <span style="color: #783f5a;">t</span>],
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #783f5a;">label</span>=<span style="color: #2aa198;">'prediction'</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #4f7e67;">plt</span>.<span style="color: #7e544f;">axhline</span>(<span style="color: #513f78;">y</span>=<span style="color: #5e7837;">pred_thresh</span>, <span style="color: #7a4f7e;">xmin</span>=0, <span style="color: #783778;">xmax</span>=1,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #783f5a;">label</span>=<span style="color: #2aa198;">'\nprediction\nthreshold'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">color</span>=<span style="color: #4f5c7e;">sns</span>.<span style="color: #7e544f;">color_palette</span>()[7], <span style="color: #37785e;">linestyle</span>=<span style="color: #2aa198;">'--'</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #4f7e67;">plt</span>.<span style="color: #707e4f;">legend</span>(<span style="color: #783778;">bbox_to_anchor</span>=(1.02, 1), <span style="color: #783778;">loc</span>=<span style="color: #2aa198;">'upper left'</span>, <span style="color: #43783f;">borderaxespad</span>=0)
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #4f7e67;">plt</span>.<span style="color: #3f7178;">setp</span>(<span style="color: #7e544f;">ax</span>, <span style="color: #783f5a;">xlabel</span>=<span style="color: #5e7837;">r</span><span style="color: #2aa198;">'Time [$ms$]'</span>, <span style="color: #707e4f;">ylabel</span>=<span style="color: #2aa198;">'artifact probability'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #783f5a;">title</span>=<span style="color: #78683f;">txt</span>, <span style="color: #43783f;">ylim</span>=[0, 1])
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">save_plot</span>(<span style="color: #43783f;">filename</span>, <span style="color: #43783f;">f</span><span style="color: #2aa198;">'prediction_</span><span style="color: #268bd2;">{txt}</span><span style="color: #2aa198;">_</span><span style="color: #268bd2;">{i}</span><span style="color: #2aa198;">'</span>)

<span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">def</span> <span style="color: #268bd2;">plot_prediction_based_segmentation</span>(<span style="color: #43783f;">filename</span>):
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">for</span> <span style="color: #707e4f;">i</span>, (<span style="color: #78683f;">idx</span>, <span style="color: #783f5a;">t</span>) <span style="color: #859900; font-weight: bold;">in</span> <span style="color: #657b83; font-weight: bold;">enumerate</span>(<span style="color: #657b83; font-weight: bold;">zip</span>(<span style="color: #707e4f;">plot1_index</span>, <span style="color: #4f7e67;">plot1_traceno</span>)):
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">fig</span> = <span style="color: #4f7e67;">plt</span>.<span style="color: #78683f;">figure</span>()
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">ax</span> = <span style="color: #4f7e67;">plt</span>.<span style="color: #7a4f7e;">subplot</span>(111)
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">txt</span> = <span style="color: #374478;">get_tt</span>(<span style="color: #78683f;">idx</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #7e544f;">ax</span>.<span style="color: #784437;">set_prop_cycle</span>(<span style="color: #78683f;">color</span>=[<span style="color: #4f5c7e;">sns</span>.<span style="color: #7e544f;">color_palette</span>()[3]])
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">sim_predbool_scaled</span> = <span style="color: #707e4f;">sim_dirty</span>.<span style="color: #783778;">loc</span>[:, <span style="color: #78683f;">idx</span>].<span style="color: #4f5c7e;">iloc</span>[:, <span style="color: #783f5a;">t</span>].<span style="color: #4f7e67;">max</span>() * <span style="color: #783f5a;">sim_predbool</span>.<span style="color: #783778;">loc</span>[:, <span style="color: #78683f;">idx</span>].<span style="color: #4f5c7e;">iloc</span>[:, <span style="color: #783f5a;">t</span>]
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #4f5c7e;">sns</span>.<span style="color: #4f7e67;">lineplot</span>(<span style="color: #784437;">data</span>=<span style="color: #4f5c7e;">sim_predbool_scaled</span>, <span style="color: #7a4f7e;">alpha</span>=0.5)
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #4f7e67;">plt</span>.<span style="color: #37785e;">fill_between</span>(<span style="color: #3f7178;">x</span>=<span style="color: #783f5a;">sim_predbool</span>.<span style="color: #783778;">loc</span>[:, <span style="color: #78683f;">idx</span>].<span style="color: #4f5c7e;">iloc</span>[:, <span style="color: #783f5a;">t</span>].<span style="color: #43783f;">index</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #374478;">y1</span>=<span style="color: #4f5c7e;">sim_predbool_scaled</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #3f7178;">y2</span>=0, <span style="color: #7a4f7e;">alpha</span>=0.5, <span style="color: #783f5a;">label</span>=<span style="color: #2aa198;">'prediction:\npeak artifacts'</span>)

<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #7e544f;">ax</span>.<span style="color: #784437;">set_prop_cycle</span>(<span style="color: #78683f;">color</span>=[<span style="color: #4f5c7e;">sns</span>.<span style="color: #7e544f;">color_palette</span>()[2]])
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">sim_invpred_scaled</span> = <span style="color: #707e4f;">sim_dirty</span>.<span style="color: #783778;">loc</span>[:, <span style="color: #78683f;">idx</span>].<span style="color: #4f5c7e;">iloc</span>[:, <span style="color: #783f5a;">t</span>].<span style="color: #4f7e67;">max</span>() * ~<span style="color: #783f5a;">sim_predbool</span>.<span style="color: #783778;">loc</span>[:, <span style="color: #78683f;">idx</span>].<span style="color: #4f5c7e;">iloc</span>[:, <span style="color: #783f5a;">t</span>]
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #4f7e67;">plt</span>.<span style="color: #37785e;">fill_between</span>(<span style="color: #3f7178;">x</span>=<span style="color: #783f5a;">sim_predbool</span>.<span style="color: #783778;">loc</span>[:, <span style="color: #78683f;">idx</span>].<span style="color: #4f5c7e;">iloc</span>[:, <span style="color: #783f5a;">t</span>].<span style="color: #43783f;">index</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #374478;">y1</span>=<span style="color: #43783f;">sim_invpred_scaled</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #3f7178;">y2</span>=0, <span style="color: #7a4f7e;">alpha</span>=0.5, <span style="color: #783f5a;">label</span>=<span style="color: #2aa198;">'\nprediction:\nno artifacts'</span>)

<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #7e544f;">ax</span>.<span style="color: #784437;">set_prop_cycle</span>(<span style="color: #78683f;">color</span>=[<span style="color: #4f5c7e;">sns</span>.<span style="color: #7e544f;">color_palette</span>()[0]])
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #4f5c7e;">sns</span>.<span style="color: #4f7e67;">lineplot</span>(<span style="color: #784437;">data</span>=<span style="color: #707e4f;">sim_dirty</span>.<span style="color: #783778;">loc</span>[:, <span style="color: #78683f;">idx</span>].<span style="color: #4f5c7e;">iloc</span>[:, <span style="color: #783f5a;">t</span>], <span style="color: #783f5a;">label</span>=<span style="color: #78683f;">txt</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #4f7e67;">plt</span>.<span style="color: #707e4f;">legend</span>(<span style="color: #783778;">bbox_to_anchor</span>=(1.02, 1), <span style="color: #783778;">loc</span>=<span style="color: #2aa198;">'upper left'</span>, <span style="color: #43783f;">borderaxespad</span>=0)
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #4f7e67;">plt</span>.<span style="color: #3f7178;">setp</span>(<span style="color: #7e544f;">ax</span>, <span style="color: #783f5a;">xlabel</span>=<span style="color: #5e7837;">r</span><span style="color: #2aa198;">'Time [$ms$]'</span>, <span style="color: #707e4f;">ylabel</span>=<span style="color: #5e7837;">r</span><span style="color: #2aa198;">'Intensity [a.u.]'</span>, <span style="color: #783f5a;">title</span>=<span style="color: #2aa198;">''</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">save_plot</span>(<span style="color: #43783f;">filename</span>, <span style="color: #43783f;">f</span><span style="color: #2aa198;">'predseg_</span><span style="color: #268bd2;">{txt}</span><span style="color: #2aa198;">_</span><span style="color: #268bd2;">{i}</span><span style="color: #2aa198;">'</span>)

<span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">def</span> <span style="color: #268bd2;">plot_prediction_based_cut_and_shift_correction</span>(<span style="color: #43783f;">filename</span>):
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">for</span> <span style="color: #707e4f;">i</span>, (<span style="color: #78683f;">idx</span>, <span style="color: #783f5a;">t</span>) <span style="color: #859900; font-weight: bold;">in</span> <span style="color: #657b83; font-weight: bold;">enumerate</span>(<span style="color: #657b83; font-weight: bold;">zip</span>(<span style="color: #707e4f;">plot1_index</span>, <span style="color: #4f7e67;">plot1_traceno</span>)):
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">fig</span> = <span style="color: #4f7e67;">plt</span>.<span style="color: #78683f;">figure</span>()
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">ax</span> = <span style="color: #4f7e67;">plt</span>.<span style="color: #7a4f7e;">subplot</span>(111)
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">txt</span> = <span style="color: #374478;">get_tt</span>(<span style="color: #78683f;">idx</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #7e544f;">ax</span>.<span style="color: #784437;">set_prop_cycle</span>(<span style="color: #78683f;">color</span>=[<span style="color: #4f5c7e;">sns</span>.<span style="color: #7e544f;">color_palette</span>()[0]])
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #4f5c7e;">sns</span>.<span style="color: #4f7e67;">lineplot</span>(<span style="color: #784437;">data</span>=<span style="color: #4f5c7e;">sim_corr</span>.<span style="color: #783778;">loc</span>[:, <span style="color: #78683f;">idx</span>].<span style="color: #4f5c7e;">iloc</span>[:, <span style="color: #783f5a;">t</span>], <span style="color: #783f5a;">label</span>=<span style="color: #78683f;">txt</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #4f7e67;">plt</span>.<span style="color: #707e4f;">legend</span>(<span style="color: #783778;">bbox_to_anchor</span>=(1.02, 1), <span style="color: #783778;">loc</span>=<span style="color: #2aa198;">'upper left'</span>, <span style="color: #43783f;">borderaxespad</span>=0)
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #4f7e67;">plt</span>.<span style="color: #3f7178;">setp</span>(<span style="color: #7e544f;">ax</span>, <span style="color: #783f5a;">xlabel</span>=<span style="color: #5e7837;">r</span><span style="color: #2aa198;">'Time [$ms$]'</span>, <span style="color: #707e4f;">ylabel</span>=<span style="color: #5e7837;">r</span><span style="color: #2aa198;">'Intensity [a.u.]'</span>, <span style="color: #783f5a;">title</span>=<span style="color: #2aa198;">''</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">save_plot</span>(<span style="color: #43783f;">filename</span>, <span style="color: #43783f;">f</span><span style="color: #2aa198;">'predcas_</span><span style="color: #268bd2;">{txt}</span><span style="color: #2aa198;">_</span><span style="color: #268bd2;">{i}</span><span style="color: #2aa198;">'</span>)

<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">logged_scaler</span> = <span style="color: #78683f;">Path</span>(<span style="color: #43783f;">f</span><span style="color: #2aa198;">'/home/lex/Programme/drmed-git/data/mlruns/10/{model_ls[model_id]}/params/scaler'</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">logged_scaler</span> = !<span style="color: #4f7e67;">cat</span> $<span style="color: #783f5a;">logged_scaler</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">logged_scaler</span> = <span style="color: #783f5a;">logged_scaler</span>[0]

<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">logged_model</span> = <span style="color: #78683f;">Path</span>(<span style="color: #43783f;">f</span><span style="color: #2aa198;">'/home/lex/Programme/drmed-git/data/mlruns/10/{model_ls[model_id]}/artifacts/model'</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">logged_model</span> = <span style="color: #783f5a;">load_model</span>(<span style="color: #783f5a;">logged_model</span>, <span style="color: #657b83; font-weight: bold;">compile</span>=<span style="color: #859900; font-weight: bold;">False</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="color: #783f5a;">logged_model</span>.<span style="color: #374478;">compile</span>(<span style="color: #783f5a;">loss</span>=<span style="color: #374478;">bm</span>.<span style="color: #783f5a;">binary_ce_dice_loss</span>(),
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #7a4f7e;">optimizer</span>=<span style="color: #783778;">Adam</span>(),
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #43783f;">metrics</span> = <span style="color: #374478;">bm</span>.<span style="color: #374478;">unet_metrics</span>([0.1, 0.3, 0.5, 0.7, 0.9]))

<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">sim_dirty_prepro</span> = <span style="color: #783f5a;">ppd</span>.<span style="color: #374478;">convert_to_tfds_for_unet</span>(<span style="color: #707e4f;">sim_dirty</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">sim_dirty_prepro</span> = <span style="color: #783f5a;">ppd</span>.<span style="color: #707e4f;">scale_pad_and_batch_tfds_for_unet</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #7e544f;">sim_dirty_prepro</span>, <span style="color: #4f5c7e;">scaler</span>=<span style="color: #783f5a;">logged_scaler</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">sim_pred</span> = <span style="color: #783f5a;">logged_model</span>.<span style="color: #513f78;">predict</span>(<span style="color: #7e544f;">sim_dirty_prepro</span>, <span style="color: #37785e;">verbose</span>=0)
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">sim_pred</span> = <span style="color: #783778;">pd</span>.<span style="color: #784437;">DataFrame</span>(<span style="color: #78683f;">sim_pred</span>.<span style="color: #783f5a;">squeeze</span>(<span style="color: #784437;">axis</span>=2)).<span style="color: #37785e;">T</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">sim_pred.columns</span> = <span style="color: #784437;">sim_columns</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">sim_predbool</span> = <span style="color: #78683f;">sim_pred</span> &gt; <span style="color: #5e7837;">pred_thresh</span>

<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">sim_corr</span> = <span style="color: #783778;">pd</span>.<span style="color: #784437;">DataFrame</span>()
<span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">for</span> <span style="color: #707e4f;">i</span> <span style="color: #859900; font-weight: bold;">in</span> <span style="color: #657b83; font-weight: bold;">range</span>(<span style="color: #657b83; font-weight: bold;">len</span>(<span style="color: #707e4f;">sim_dirty</span>.<span style="color: #784437;">columns</span>)):
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">sim_corr_trace</span> = <span style="color: #707e4f;">np</span>.<span style="color: #7e544f;">delete</span>(<span style="color: #707e4f;">sim_dirty</span>.<span style="color: #4f5c7e;">iloc</span>[:, <span style="color: #707e4f;">i</span>].<span style="color: #783778;">values</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #783f5a;">sim_predbool</span>.<span style="color: #4f5c7e;">iloc</span>[:, <span style="color: #707e4f;">i</span>].<span style="color: #783778;">values</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">sim_corr_trace</span> = <span style="color: #783778;">pd</span>.<span style="color: #784437;">DataFrame</span>(<span style="color: #3f7178;">sim_corr_trace</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">sim_corr</span> = <span style="color: #783778;">pd</span>.<span style="color: #7e544f;">concat</span>([<span style="color: #4f5c7e;">sim_corr</span>, <span style="color: #3f7178;">sim_corr_trace</span>], <span style="color: #784437;">axis</span>=<span style="color: #2aa198;">'columns'</span>)

<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">sim_corr.columns</span> = <span style="color: #784437;">sim_columns</span>

<span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">plot_cluster_prediction</span>(<span style="color: #43783f;">filename</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="color: #783778;">plot_prediction_based_segmentation</span>(<span style="color: #43783f;">filename</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="color: #37785e;">plot_prediction_based_cut_and_shift_correction</span>(<span style="color: #43783f;">filename</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="color: #4f7e67;">plt</span>.<span style="color: #707e4f;">close</span>(<span style="color: #2aa198;">'all'</span>)

</pre>
</div>
</details>
</li>
</ul>
<ul class="org-ul">
<li>first model: <code>ff67be0b68e540a9a29a36a2d0c7a5be</code>
<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #374478;">plot_predictions</span>(<span style="color: #5e7837;">model_id</span>=0,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #43783f;">filename</span>=<span style="color: #2aa198;">'data/exp-220227-unet/jupyter/analysis2_ff67b'</span>)
</pre>
</div>

<ul class="org-ul">
<li>model predictions
<details>
<p>
<img src="./jupyter/analysis2_ff67b_slow_molecules:_slow_cluster_prediction.svg" class="img-responsive" alt="analysis2_ff67b_slow_molecules:_slow_cluster_prediction.svg">
<img src="./jupyter/analysis2_ff67b_slow_molecules:_medium_cluster_prediction.svg" class="img-responsive" alt="analysis2_ff67b_slow_molecules:_medium_cluster_prediction.svg">
<img src="./jupyter/analysis2_ff67b_slow_molecules:_fast_cluster_prediction.svg" class="img-responsive" alt="analysis2_ff67b_slow_molecules:_fast_cluster_prediction.svg">
<img src="./jupyter/analysis2_ff67b_medium_molecules:_slow_cluster_prediction.svg" class="img-responsive" alt="analysis2_ff67b_medium_molecules:_slow_cluster_prediction.svg">
<img src="./jupyter/analysis2_ff67b_medium_molecules:_medium_cluster_prediction.svg" class="img-responsive" alt="analysis2_ff67b_medium_molecules:_medium_cluster_prediction.svg">
<img src="./jupyter/analysis2_ff67b_medium_molecules:_fast_cluster_prediction.svg" class="img-responsive" alt="analysis2_ff67b_medium_molecules:_fast_cluster_prediction.svg">
<img src="./jupyter/analysis2_ff67b_fast_molecules:_slow_cluster_prediction.svg" class="img-responsive" alt="analysis2_ff67b_fast_molecules:_slow_cluster_prediction.svg">
<img src="./jupyter/analysis2_ff67b_fast_molecules:_medium_cluster_prediction.svg" class="img-responsive" alt="analysis2_ff67b_fast_molecules:_medium_cluster_prediction.svg">
<img src="./jupyter/analysis2_ff67b_fast_molecules:_fast_cluster_prediction.svg" class="img-responsive" alt="analysis2_ff67b_fast_molecules:_fast_cluster_prediction.svg">
</p>
</details>
</li>
<li>prediction-based segmentation (threshold=0.5)
<details>
<p>
<img src="./jupyter/analysis2_ff67b_slow_molecules_and_slow_clusters:_prediction-based_segmentation.svg" class="img-responsive" alt="analysis2_ff67b_slow_molecules_and_slow_clusters:_prediction-based_segmentation.svg">
<img src="./jupyter/analysis2_ff67b_slow_molecules_and_medium_clusters:_prediction-based_segmentation.svg" class="img-responsive" alt="analysis2_ff67b_slow_molecules_and_medium_clusters:_prediction-based_segmentation.svg">
<img src="./jupyter/analysis2_ff67b_slow_molecules_and_fast_clusters:_prediction-based_segmentation.svg" class="img-responsive" alt="analysis2_ff67b_slow_molecules_and_fast_clusters:_prediction-based_segmentation.svg">
<img src="./jupyter/analysis2_ff67b_medium_molecules_and_slow_clusters:_prediction-based_segmentation.svg" class="img-responsive" alt="analysis2_ff67b_medium_molecules_and_slow_clusters:_prediction-based_segmentation.svg">
<img src="./jupyter/analysis2_ff67b_medium_molecules_and_medium_clusters:_prediction-based_segmentation.svg" class="img-responsive" alt="analysis2_ff67b_medium_molecules_and_medium_clusters:_prediction-based_segmentation.svg">
<img src="./jupyter/analysis2_ff67b_medium_molecules_and_fast_clusters:_prediction-based_segmentation.svg" class="img-responsive" alt="analysis2_ff67b_medium_molecules_and_fast_clusters:_prediction-based_segmentation.svg">
<img src="./jupyter/analysis2_ff67b_fast_molecules_and_slow_clusters:_prediction-based_segmentation.svg" class="img-responsive" alt="analysis2_ff67b_fast_molecules_and_slow_clusters:_prediction-based_segmentation.svg">
<img src="./jupyter/analysis2_ff67b_fast_molecules_and_medium_clusters:_prediction-based_segmentation.svg" class="img-responsive" alt="analysis2_ff67b_fast_molecules_and_medium_clusters:_prediction-based_segmentation.svg">
<img src="./jupyter/analysis2_ff67b_fast_molecules_and_fast_clusters:_prediction-based_segmentation.svg" class="img-responsive" alt="analysis2_ff67b_fast_molecules_and_fast_clusters:_prediction-based_segmentation.svg">
</p>
</details>
</li>
<li>prediction-based cut-and-stitch correction
<details>
<p>
<img src="./jupyter/analysis2_ff67b_slow_molecules_and_slow_clusters:_prediction-based_cut_and_shift_correction.svg" class="img-responsive" alt="analysis2_ff67b_slow_molecules_and_slow_clusters:_prediction-based_cut_and_shift_correction.svg">
<img src="./jupyter/analysis2_ff67b_slow_molecules_and_medium_clusters:_prediction-based_cut_and_shift_correction.svg" class="img-responsive" alt="analysis2_ff67b_slow_molecules_and_medium_clusters:_prediction-based_cut_and_shift_correction.svg">
<img src="./jupyter/analysis2_ff67b_slow_molecules_and_fast_clusters:_prediction-based_cut_and_shift_correction.svg" class="img-responsive" alt="analysis2_ff67b_slow_molecules_and_fast_clusters:_prediction-based_cut_and_shift_correction.svg">
<img src="./jupyter/analysis2_ff67b_medium_molecules_and_slow_clusters:_prediction-based_cut_and_shift_correction.svg" class="img-responsive" alt="analysis2_ff67b_medium_molecules_and_slow_clusters:_prediction-based_cut_and_shift_correction.svg">
<img src="./jupyter/analysis2_ff67b_medium_molecules_and_medium_clusters:_prediction-based_cut_and_shift_correction.svg" class="img-responsive" alt="analysis2_ff67b_medium_molecules_and_medium_clusters:_prediction-based_cut_and_shift_correction.svg">
<img src="./jupyter/analysis2_ff67b_medium_molecules_and_fast_clusters:_prediction-based_cut_and_shift_correction.svg" class="img-responsive" alt="analysis2_ff67b_medium_molecules_and_fast_clusters:_prediction-based_cut_and_shift_correction.svg">
<img src="./jupyter/analysis2_ff67b_fast_molecules_and_slow_clusters:_prediction-based_cut_and_shift_correction.svg" class="img-responsive" alt="analysis2_ff67b_fast_molecules_and_slow_clusters:_prediction-based_cut_and_shift_correction.svg">
<img src="./jupyter/analysis2_ff67b_fast_molecules_and_medium_clusters:_prediction-based_cut_and_shift_correction.svg" class="img-responsive" alt="analysis2_ff67b_fast_molecules_and_medium_clusters:_prediction-based_cut_and_shift_correction.svg">
<img src="./jupyter/analysis2_ff67b_fast_molecules_and_fast_clusters:_prediction-based_cut_and_shift_correction.svg" class="img-responsive" alt="analysis2_ff67b_fast_molecules_and_fast_clusters:_prediction-based_cut_and_shift_correction.svg">
</p>
</details>
</li>
</ul>
</li>

<li>second model: <code>347669d050f344ad9fb9e480c814f727</code>
<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #374478;">plot_predictions</span>(<span style="color: #5e7837;">model_id</span>=1,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #43783f;">filename</span>=<span style="color: #2aa198;">'data/exp-220227-unet/jupyter/analysis2_34766'</span>)

</pre>
</div>

<pre class="example">
WARNING:tensorflow:Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
/tmp/ipykernel_5495/3600776436.py:87: RuntimeWarning: More than 20 figures have been opened. Figures created through the pyplot interface (`matplotlib.pyplot.figure`) are retained until explicitly closed and may consume too much memory. (To control this warning, see the rcParam `figure.max_open_warning`).
  fig = plt.figure()
</pre>


<ul class="org-ul">
<li>model predictions
<details>
<p>
<img src="./jupyter/analysis2_34766_slow_molecules:_slow_cluster_prediction.svg" class="img-responsive" alt="analysis2_34766_slow_molecules:_slow_cluster_prediction.svg">
<img src="./jupyter/analysis2_34766_slow_molecules:_medium_cluster_prediction.svg" class="img-responsive" alt="analysis2_34766_slow_molecules:_medium_cluster_prediction.svg">
<img src="./jupyter/analysis2_34766_slow_molecules:_fast_cluster_prediction.svg" class="img-responsive" alt="analysis2_34766_slow_molecules:_fast_cluster_prediction.svg">
<img src="./jupyter/analysis2_34766_medium_molecules:_slow_cluster_prediction.svg" class="img-responsive" alt="analysis2_34766_medium_molecules:_slow_cluster_prediction.svg">
<img src="./jupyter/analysis2_34766_medium_molecules:_medium_cluster_prediction.svg" class="img-responsive" alt="analysis2_34766_medium_molecules:_medium_cluster_prediction.svg">
<img src="./jupyter/analysis2_34766_medium_molecules:_fast_cluster_prediction.svg" class="img-responsive" alt="analysis2_34766_medium_molecules:_fast_cluster_prediction.svg">
<img src="./jupyter/analysis2_34766_fast_molecules:_slow_cluster_prediction.svg" class="img-responsive" alt="analysis2_34766_fast_molecules:_slow_cluster_prediction.svg">
<img src="./jupyter/analysis2_34766_fast_molecules:_medium_cluster_prediction.svg" class="img-responsive" alt="analysis2_34766_fast_molecules:_medium_cluster_prediction.svg">
<img src="./jupyter/analysis2_34766_fast_molecules:_fast_cluster_prediction.svg" class="img-responsive" alt="analysis2_34766_fast_molecules:_fast_cluster_prediction.svg">
</p>
</details>
</li>
<li>prediction-based segmentation (threshold=0.5)
<details>
<p>
<img src="./jupyter/analysis2_34766_slow_molecules_and_slow_clusters:_prediction-based_segmentation.svg" class="img-responsive" alt="analysis2_34766_slow_molecules_and_slow_clusters:_prediction-based_segmentation.svg">
<img src="./jupyter/analysis2_34766_slow_molecules_and_medium_clusters:_prediction-based_segmentation.svg" class="img-responsive" alt="analysis2_34766_slow_molecules_and_medium_clusters:_prediction-based_segmentation.svg">
<img src="./jupyter/analysis2_34766_slow_molecules_and_fast_clusters:_prediction-based_segmentation.svg" class="img-responsive" alt="analysis2_34766_slow_molecules_and_fast_clusters:_prediction-based_segmentation.svg">
<img src="./jupyter/analysis2_34766_medium_molecules_and_slow_clusters:_prediction-based_segmentation.svg" class="img-responsive" alt="analysis2_34766_medium_molecules_and_slow_clusters:_prediction-based_segmentation.svg">
<img src="./jupyter/analysis2_34766_medium_molecules_and_medium_clusters:_prediction-based_segmentation.svg" class="img-responsive" alt="analysis2_34766_medium_molecules_and_medium_clusters:_prediction-based_segmentation.svg">
<img src="./jupyter/analysis2_34766_medium_molecules_and_fast_clusters:_prediction-based_segmentation.svg" class="img-responsive" alt="analysis2_34766_medium_molecules_and_fast_clusters:_prediction-based_segmentation.svg">
<img src="./jupyter/analysis2_34766_fast_molecules_and_slow_clusters:_prediction-based_segmentation.svg" class="img-responsive" alt="analysis2_34766_fast_molecules_and_slow_clusters:_prediction-based_segmentation.svg">
<img src="./jupyter/analysis2_34766_fast_molecules_and_medium_clusters:_prediction-based_segmentation.svg" class="img-responsive" alt="analysis2_34766_fast_molecules_and_medium_clusters:_prediction-based_segmentation.svg">
<img src="./jupyter/analysis2_34766_fast_molecules_and_fast_clusters:_prediction-based_segmentation.svg" class="img-responsive" alt="analysis2_34766_fast_molecules_and_fast_clusters:_prediction-based_segmentation.svg">
</p>
</details>
</li>
<li>prediction-based cut-and-stitch correction
<details>
<p>
<img src="./jupyter/analysis2_34766_slow_molecules_and_slow_clusters:_prediction-based_cut_and_shift_correction.svg" class="img-responsive" alt="analysis2_34766_slow_molecules_and_slow_clusters:_prediction-based_cut_and_shift_correction.svg">
<img src="./jupyter/analysis2_34766_slow_molecules_and_medium_clusters:_prediction-based_cut_and_shift_correction.svg" class="img-responsive" alt="analysis2_34766_slow_molecules_and_medium_clusters:_prediction-based_cut_and_shift_correction.svg">
<img src="./jupyter/analysis2_34766_slow_molecules_and_fast_clusters:_prediction-based_cut_and_shift_correction.svg" class="img-responsive" alt="analysis2_34766_slow_molecules_and_fast_clusters:_prediction-based_cut_and_shift_correction.svg">
<img src="./jupyter/analysis2_34766_medium_molecules_and_slow_clusters:_prediction-based_cut_and_shift_correction.svg" class="img-responsive" alt="analysis2_34766_medium_molecules_and_slow_clusters:_prediction-based_cut_and_shift_correction.svg">
<img src="./jupyter/analysis2_34766_medium_molecules_and_medium_clusters:_prediction-based_cut_and_shift_correction.svg" class="img-responsive" alt="analysis2_34766_medium_molecules_and_medium_clusters:_prediction-based_cut_and_shift_correction.svg">
<img src="./jupyter/analysis2_34766_medium_molecules_and_fast_clusters:_prediction-based_cut_and_shift_correction.svg" class="img-responsive" alt="analysis2_34766_medium_molecules_and_fast_clusters:_prediction-based_cut_and_shift_correction.svg">
<img src="./jupyter/analysis2_34766_fast_molecules_and_slow_clusters:_prediction-based_cut_and_shift_correction.svg" class="img-responsive" alt="analysis2_34766_fast_molecules_and_slow_clusters:_prediction-based_cut_and_shift_correction.svg">
<img src="./jupyter/analysis2_34766_fast_molecules_and_medium_clusters:_prediction-based_cut_and_shift_correction.svg" class="img-responsive" alt="analysis2_34766_fast_molecules_and_medium_clusters:_prediction-based_cut_and_shift_correction.svg">
<img src="./jupyter/analysis2_34766_fast_molecules_and_fast_clusters:_prediction-based_cut_and_shift_correction.svg" class="img-responsive" alt="analysis2_34766_fast_molecules_and_fast_clusters:_prediction-based_cut_and_shift_correction.svg">
</p>
</details>
</li>
</ul>
</li>
<li>third model: <code>714af8cd12c1441eac4ca980e8c20070</code>
<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #374478;">plot_predictions</span>(<span style="color: #5e7837;">model_id</span>=2,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #43783f;">filename</span>=<span style="color: #2aa198;">'data/exp-220227-unet/jupyter/analysis2_714af'</span>)
</pre>
</div>

<pre class="example">
fig = plt.figure()
WARNING:tensorflow:Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
/tmp/ipykernel_5495/3600776436.py:87: RuntimeWarning: More than 20 figures have been opened. Figures created through the pyplot interface (`matplotlib.pyplot.figure`) are retained until explicitly closed and may consume too much memory. (To control this warning, see the rcParam `figure.max_open_warning`).
  fig = plt.figure()
</pre>

<ul class="org-ul">
<li>model predictions
<details>
<p>
<img src="./jupyter/analysis2_714af_slow_molecules:_slow_cluster_prediction.svg" class="img-responsive" alt="analysis2_714af_slow_molecules:_slow_cluster_prediction.svg">
<img src="./jupyter/analysis2_714af_slow_molecules:_medium_cluster_prediction.svg" class="img-responsive" alt="analysis2_714af_slow_molecules:_medium_cluster_prediction.svg">
<img src="./jupyter/analysis2_714af_slow_molecules:_fast_cluster_prediction.svg" class="img-responsive" alt="analysis2_714af_slow_molecules:_fast_cluster_prediction.svg">
<img src="./jupyter/analysis2_714af_medium_molecules:_slow_cluster_prediction.svg" class="img-responsive" alt="analysis2_714af_medium_molecules:_slow_cluster_prediction.svg">
<img src="./jupyter/analysis2_714af_medium_molecules:_medium_cluster_prediction.svg" class="img-responsive" alt="analysis2_714af_medium_molecules:_medium_cluster_prediction.svg">
<img src="./jupyter/analysis2_714af_medium_molecules:_fast_cluster_prediction.svg" class="img-responsive" alt="analysis2_714af_medium_molecules:_fast_cluster_prediction.svg">
<img src="./jupyter/analysis2_714af_fast_molecules:_slow_cluster_prediction.svg" class="img-responsive" alt="analysis2_714af_fast_molecules:_slow_cluster_prediction.svg">
<img src="./jupyter/analysis2_714af_fast_molecules:_medium_cluster_prediction.svg" class="img-responsive" alt="analysis2_714af_fast_molecules:_medium_cluster_prediction.svg">
<img src="./jupyter/analysis2_714af_fast_molecules:_fast_cluster_prediction.svg" class="img-responsive" alt="analysis2_714af_fast_molecules:_fast_cluster_prediction.svg">
</p>
</details>
</li>
<li>prediction-based segmentation (threshold=0.5)
<details>
<p>
<img src="./jupyter/analysis2_714af_slow_molecules_and_slow_clusters:_prediction-based_segmentation.svg" class="img-responsive" alt="analysis2_714af_slow_molecules_and_slow_clusters:_prediction-based_segmentation.svg">
<img src="./jupyter/analysis2_714af_slow_molecules_and_medium_clusters:_prediction-based_segmentation.svg" class="img-responsive" alt="analysis2_714af_slow_molecules_and_medium_clusters:_prediction-based_segmentation.svg">
<img src="./jupyter/analysis2_714af_slow_molecules_and_fast_clusters:_prediction-based_segmentation.svg" class="img-responsive" alt="analysis2_714af_slow_molecules_and_fast_clusters:_prediction-based_segmentation.svg">
<img src="./jupyter/analysis2_714af_medium_molecules_and_slow_clusters:_prediction-based_segmentation.svg" class="img-responsive" alt="analysis2_714af_medium_molecules_and_slow_clusters:_prediction-based_segmentation.svg">
<img src="./jupyter/analysis2_714af_medium_molecules_and_medium_clusters:_prediction-based_segmentation.svg" class="img-responsive" alt="analysis2_714af_medium_molecules_and_medium_clusters:_prediction-based_segmentation.svg">
<img src="./jupyter/analysis2_714af_medium_molecules_and_fast_clusters:_prediction-based_segmentation.svg" class="img-responsive" alt="analysis2_714af_medium_molecules_and_fast_clusters:_prediction-based_segmentation.svg">
<img src="./jupyter/analysis2_714af_fast_molecules_and_slow_clusters:_prediction-based_segmentation.svg" class="img-responsive" alt="analysis2_714af_fast_molecules_and_slow_clusters:_prediction-based_segmentation.svg">
<img src="./jupyter/analysis2_714af_fast_molecules_and_medium_clusters:_prediction-based_segmentation.svg" class="img-responsive" alt="analysis2_714af_fast_molecules_and_medium_clusters:_prediction-based_segmentation.svg">
<img src="./jupyter/analysis2_714af_fast_molecules_and_fast_clusters:_prediction-based_segmentation.svg" class="img-responsive" alt="analysis2_714af_fast_molecules_and_fast_clusters:_prediction-based_segmentation.svg">
</p>
</details>
</li>
<li>prediction-based cut-and-stitch correction
<details>
<p>
<img src="./jupyter/analysis2_714af_slow_molecules_and_slow_clusters:_prediction-based_cut_and_shift_correction.svg" class="img-responsive" alt="analysis2_714af_slow_molecules_and_slow_clusters:_prediction-based_cut_and_shift_correction.svg">
<img src="./jupyter/analysis2_714af_slow_molecules_and_medium_clusters:_prediction-based_cut_and_shift_correction.svg" class="img-responsive" alt="analysis2_714af_slow_molecules_and_medium_clusters:_prediction-based_cut_and_shift_correction.svg">
<img src="./jupyter/analysis2_714af_slow_molecules_and_fast_clusters:_prediction-based_cut_and_shift_correction.svg" class="img-responsive" alt="analysis2_714af_slow_molecules_and_fast_clusters:_prediction-based_cut_and_shift_correction.svg">
<img src="./jupyter/analysis2_714af_medium_molecules_and_slow_clusters:_prediction-based_cut_and_shift_correction.svg" class="img-responsive" alt="analysis2_714af_medium_molecules_and_slow_clusters:_prediction-based_cut_and_shift_correction.svg">
<img src="./jupyter/analysis2_714af_medium_molecules_and_medium_clusters:_prediction-based_cut_and_shift_correction.svg" class="img-responsive" alt="analysis2_714af_medium_molecules_and_medium_clusters:_prediction-based_cut_and_shift_correction.svg">
<img src="./jupyter/analysis2_714af_medium_molecules_and_fast_clusters:_prediction-based_cut_and_shift_correction.svg" class="img-responsive" alt="analysis2_714af_medium_molecules_and_fast_clusters:_prediction-based_cut_and_shift_correction.svg">
<img src="./jupyter/analysis2_714af_fast_molecules_and_slow_clusters:_prediction-based_cut_and_shift_correction.svg" class="img-responsive" alt="analysis2_714af_fast_molecules_and_slow_clusters:_prediction-based_cut_and_shift_correction.svg">
<img src="./jupyter/analysis2_714af_fast_molecules_and_medium_clusters:_prediction-based_cut_and_shift_correction.svg" class="img-responsive" alt="analysis2_714af_fast_molecules_and_medium_clusters:_prediction-based_cut_and_shift_correction.svg">
<img src="./jupyter/analysis2_714af_fast_molecules_and_fast_clusters:_prediction-based_cut_and_shift_correction.svg" class="img-responsive" alt="analysis2_714af_fast_molecules_and_fast_clusters:_prediction-based_cut_and_shift_correction.svg">
</p>
</details>
</li>
</ul>
</li>
<li>fourth model: <code>34a6d207ac594035b1009c330fb67a65</code>
<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #374478;">plot_predictions</span>(<span style="color: #5e7837;">model_id</span>=3,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #43783f;">filename</span>=<span style="color: #2aa198;">'data/exp-220227-unet/jupyter/analysis2_34a6d'</span>)

</pre>
</div>

<pre class="example">
WARNING:tensorflow:Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
/tmp/ipykernel_5495/3600776436.py:87: RuntimeWarning: More than 20 figures have been opened. Figures created through the pyplot interface (`matplotlib.pyplot.figure`) are retained until explicitly closed and may consume too much memory. (To control this warning, see the rcParam `figure.max_open_warning`).
  fig = plt.figure()
</pre>

<ul class="org-ul">
<li>model predictions
<details>
<p>
<img src="./jupyter/analysis2_34a6d_slow_molecules:_slow_cluster_prediction.svg" class="img-responsive" alt="analysis2_34a6d_slow_molecules:_slow_cluster_prediction.svg">
<img src="./jupyter/analysis2_34a6d_slow_molecules:_medium_cluster_prediction.svg" class="img-responsive" alt="analysis2_34a6d_slow_molecules:_medium_cluster_prediction.svg">
<img src="./jupyter/analysis2_34a6d_slow_molecules:_fast_cluster_prediction.svg" class="img-responsive" alt="analysis2_34a6d_slow_molecules:_fast_cluster_prediction.svg">
<img src="./jupyter/analysis2_34a6d_medium_molecules:_slow_cluster_prediction.svg" class="img-responsive" alt="analysis2_34a6d_medium_molecules:_slow_cluster_prediction.svg">
<img src="./jupyter/analysis2_34a6d_medium_molecules:_medium_cluster_prediction.svg" class="img-responsive" alt="analysis2_34a6d_medium_molecules:_medium_cluster_prediction.svg">
<img src="./jupyter/analysis2_34a6d_medium_molecules:_fast_cluster_prediction.svg" class="img-responsive" alt="analysis2_34a6d_medium_molecules:_fast_cluster_prediction.svg">
<img src="./jupyter/analysis2_34a6d_fast_molecules:_slow_cluster_prediction.svg" class="img-responsive" alt="analysis2_34a6d_fast_molecules:_slow_cluster_prediction.svg">
<img src="./jupyter/analysis2_34a6d_fast_molecules:_medium_cluster_prediction.svg" class="img-responsive" alt="analysis2_34a6d_fast_molecules:_medium_cluster_prediction.svg">
<img src="./jupyter/analysis2_34a6d_fast_molecules:_fast_cluster_prediction.svg" class="img-responsive" alt="analysis2_34a6d_fast_molecules:_fast_cluster_prediction.svg">
</p>
</details>
</li>
<li>prediction-based segmentation (threshold=0.5)

<details>
<p>
<img src="./jupyter/analysis2_34a6d_slow_molecules_and_slow_clusters:_prediction-based_segmentation.svg" class="img-responsive" alt="analysis2_34a6d_slow_molecules_and_slow_clusters:_prediction-based_segmentation.svg">
<img src="./jupyter/analysis2_34a6d_slow_molecules_and_medium_clusters:_prediction-based_segmentation.svg" class="img-responsive" alt="analysis2_34a6d_slow_molecules_and_medium_clusters:_prediction-based_segmentation.svg">
<img src="./jupyter/analysis2_34a6d_slow_molecules_and_fast_clusters:_prediction-based_segmentation.svg" class="img-responsive" alt="analysis2_34a6d_slow_molecules_and_fast_clusters:_prediction-based_segmentation.svg">
<img src="./jupyter/analysis2_34a6d_medium_molecules_and_slow_clusters:_prediction-based_segmentation.svg" class="img-responsive" alt="analysis2_34a6d_medium_molecules_and_slow_clusters:_prediction-based_segmentation.svg">
<img src="./jupyter/analysis2_34a6d_medium_molecules_and_medium_clusters:_prediction-based_segmentation.svg" class="img-responsive" alt="analysis2_34a6d_medium_molecules_and_medium_clusters:_prediction-based_segmentation.svg">
<img src="./jupyter/analysis2_34a6d_medium_molecules_and_fast_clusters:_prediction-based_segmentation.svg" class="img-responsive" alt="analysis2_34a6d_medium_molecules_and_fast_clusters:_prediction-based_segmentation.svg">
<img src="./jupyter/analysis2_34a6d_fast_molecules_and_slow_clusters:_prediction-based_segmentation.svg" class="img-responsive" alt="analysis2_34a6d_fast_molecules_and_slow_clusters:_prediction-based_segmentation.svg">
<img src="./jupyter/analysis2_34a6d_fast_molecules_and_medium_clusters:_prediction-based_segmentation.svg" class="img-responsive" alt="analysis2_34a6d_fast_molecules_and_medium_clusters:_prediction-based_segmentation.svg">
<img src="./jupyter/analysis2_34a6d_fast_molecules_and_fast_clusters:_prediction-based_segmentation.svg" class="img-responsive" alt="analysis2_34a6d_fast_molecules_and_fast_clusters:_prediction-based_segmentation.svg">
</p>
</details>
</li>
<li>prediction-based cut-and-stitch correction
<details>
<p>
<img src="./jupyter/analysis2_34a6d_slow_molecules_and_slow_clusters:_prediction-based_cut_and_shift_correction.svg" class="img-responsive" alt="analysis2_34a6d_slow_molecules_and_slow_clusters:_prediction-based_cut_and_shift_correction.svg">
<img src="./jupyter/analysis2_34a6d_slow_molecules_and_medium_clusters:_prediction-based_cut_and_shift_correction.svg" class="img-responsive" alt="analysis2_34a6d_slow_molecules_and_medium_clusters:_prediction-based_cut_and_shift_correction.svg">
<img src="./jupyter/analysis2_34a6d_slow_molecules_and_fast_clusters:_prediction-based_cut_and_shift_correction.svg" class="img-responsive" alt="analysis2_34a6d_slow_molecules_and_fast_clusters:_prediction-based_cut_and_shift_correction.svg">
<img src="./jupyter/analysis2_34a6d_medium_molecules_and_slow_clusters:_prediction-based_cut_and_shift_correction.svg" class="img-responsive" alt="analysis2_34a6d_medium_molecules_and_slow_clusters:_prediction-based_cut_and_shift_correction.svg">
<img src="./jupyter/analysis2_34a6d_medium_molecules_and_medium_clusters:_prediction-based_cut_and_shift_correction.svg" class="img-responsive" alt="analysis2_34a6d_medium_molecules_and_medium_clusters:_prediction-based_cut_and_shift_correction.svg">
<img src="./jupyter/analysis2_34a6d_medium_molecules_and_fast_clusters:_prediction-based_cut_and_shift_correction.svg" class="img-responsive" alt="analysis2_34a6d_medium_molecules_and_fast_clusters:_prediction-based_cut_and_shift_correction.svg">
<img src="./jupyter/analysis2_34a6d_fast_molecules_and_slow_clusters:_prediction-based_cut_and_shift_correction.svg" class="img-responsive" alt="analysis2_34a6d_fast_molecules_and_slow_clusters:_prediction-based_cut_and_shift_correction.svg">
<img src="./jupyter/analysis2_34a6d_fast_molecules_and_medium_clusters:_prediction-based_cut_and_shift_correction.svg" class="img-responsive" alt="analysis2_34a6d_fast_molecules_and_medium_clusters:_prediction-based_cut_and_shift_correction.svg">
<img src="./jupyter/analysis2_34a6d_fast_molecules_and_fast_clusters:_prediction-based_cut_and_shift_correction.svg" class="img-responsive" alt="analysis2_34a6d_fast_molecules_and_fast_clusters:_prediction-based_cut_and_shift_correction.svg">
</p>
</details>
</li>
</ul>
</li>
<li>fifth model: <code>0cd2023eeaf745aca0d3e8ad5e1fc653</code>. I re-wrote the plotting
script a bit.
<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #374478;">plot_predictions</span>(<span style="color: #5e7837;">model_id</span>=5,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #43783f;">filename</span>=<span style="color: #2aa198;">'data/exp-220227-unet/jupyter/analysis2_0cd20'</span>)

</pre>
</div>

<pre class="example">
2022-08-13 17:00:55.175177: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcuda.so.1'; dlerror: libcuda.so.1: cannot open shared object file: No such file or directory
2022-08-13 17:00:55.175214: W tensorflow/stream_executor/cuda/cuda_driver.cc:269] failed call to cuInit: UNKNOWN ERROR (303)
2022-08-13 17:00:55.175247: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:156] kernel driver does not appear to be running on this host (Topialex): /proc/driver/nvidia/version does not exist
2022-08-13 17:00:55.177043: I tensorflow/core/platform/cpu_feature_guard.cc:151] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX2 FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
WARNING:tensorflow:Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
2022-08-13 17:01:06.559383: W tensorflow/core/framework/cpu_allocator_impl.cc:82] Allocation of 98304000 exceeds 10% of free system memory.
2022-08-13 17:01:06.640827: W tensorflow/core/framework/cpu_allocator_impl.cc:82] Allocation of 98304000 exceeds 10% of free system memory.
2022-08-13 17:01:07.439633: W tensorflow/core/framework/cpu_allocator_impl.cc:82] Allocation of 98304000 exceeds 10% of free system memory.
2022-08-13 17:01:07.700351: W tensorflow/core/framework/cpu_allocator_impl.cc:82] Allocation of 98304000 exceeds 10% of free system memory.2022-08-13 17:03:32.777028: W tensorflow/core/framework/cpu_allocator_impl.cc:82] Allocation of 98304000 exceeds 10% of free system memory.
/tmp/ipykernel_6898/3697032523.py:92: RuntimeWarning: More than 20 figures have been opened. Figures created through the pyplot interface (`matplotlib.pyplot.figure`) are retained until explicitly closed and may consume too much memory. (To control this warning, see the rcParam `figure.max_open_warning`).
  fig = plt.figure()
</pre>
<ul class="org-ul">
<li>model predictions
<details>
<p>
<img src="./jupyter/analysis2_0cd20_prediction__simulated_trace_tau_sim-3.76ms_0.svg" class="img-responsive" alt="analysis2_0cd20_prediction__simulated_trace_tau_sim-3.76ms_0.svg">
<img src="./jupyter/analysis2_0cd20_prediction__simulated_trace_tau_sim-3.76ms_1.svg" class="img-responsive" alt="analysis2_0cd20_prediction__simulated_trace_tau_sim-3.76ms_1.svg">
<img src="./jupyter/analysis2_0cd20_prediction__simulated_trace_tau_sim-3.76ms_2.svg" class="img-responsive" alt="analysis2_0cd20_prediction__simulated_trace_tau_sim-3.76ms_2.svg">
<img src="./jupyter/analysis2_0cd20_prediction__simulated_trace_tau_sim-56.36ms_3.svg" class="img-responsive" alt="analysis2_0cd20_prediction__simulated_trace_tau_sim-56.36ms_3.svg">
<img src="./jupyter/analysis2_0cd20_prediction__simulated_trace_tau_sim-56.36ms_4.svg" class="img-responsive" alt="analysis2_0cd20_prediction__simulated_trace_tau_sim-56.36ms_4.svg">
<img src="./jupyter/analysis2_0cd20_prediction__simulated_trace_tau_sim-56.36ms_5.svg" class="img-responsive" alt="analysis2_0cd20_prediction__simulated_trace_tau_sim-56.36ms_5.svg">
<img src="./jupyter/analysis2_0cd20_prediction__simulated_trace_tau_sim-163.35ms_6.svg" class="img-responsive" alt="analysis2_0cd20_prediction__simulated_trace_tau_sim-163.35ms_6.svg">
<img src="./jupyter/analysis2_0cd20_prediction__simulated_trace_tau_sim-163.35ms_7.svg" class="img-responsive" alt="analysis2_0cd20_prediction__simulated_trace_tau_sim-163.35ms_7.svg">
<img src="./jupyter/analysis2_0cd20_prediction__simulated_trace_tau_sim-163.35ms_8.svg" class="img-responsive" alt="analysis2_0cd20_prediction__simulated_trace_tau_sim-163.35ms_8.svg">
</p>
</details>
</li>
<li>prediction-based segmentation (threshold=0.5)
<details>
<p>
<img src="./jupyter/analysis2_0cd20_predseg__simulated_trace_tau_sim-3.76ms_0.svg" class="img-responsive" alt="analysis2_0cd20_predseg__simulated_trace_tau_sim-3.76ms_0.svg">
<img src="./jupyter/analysis2_0cd20_predseg__simulated_trace_tau_sim-3.76ms_1.svg" class="img-responsive" alt="analysis2_0cd20_predseg__simulated_trace_tau_sim-3.76ms_1.svg">
<img src="./jupyter/analysis2_0cd20_predseg__simulated_trace_tau_sim-3.76ms_2.svg" class="img-responsive" alt="analysis2_0cd20_predseg__simulated_trace_tau_sim-3.76ms_2.svg">
<img src="./jupyter/analysis2_0cd20_predseg__simulated_trace_tau_sim-56.36ms_3.svg" class="img-responsive" alt="analysis2_0cd20_predseg__simulated_trace_tau_sim-56.36ms_3.svg">
<img src="./jupyter/analysis2_0cd20_predseg__simulated_trace_tau_sim-56.36ms_4.svg" class="img-responsive" alt="analysis2_0cd20_predseg__simulated_trace_tau_sim-56.36ms_4.svg">
<img src="./jupyter/analysis2_0cd20_predseg__simulated_trace_tau_sim-56.36ms_5.svg" class="img-responsive" alt="analysis2_0cd20_predseg__simulated_trace_tau_sim-56.36ms_5.svg">
<img src="./jupyter/analysis2_0cd20_predseg__simulated_trace_tau_sim-163.35ms_6.svg" class="img-responsive" alt="analysis2_0cd20_predseg__simulated_trace_tau_sim-163.35ms_6.svg">
<img src="./jupyter/analysis2_0cd20_predseg__simulated_trace_tau_sim-163.35ms_7.svg" class="img-responsive" alt="analysis2_0cd20_predseg__simulated_trace_tau_sim-163.35ms_7.svg">
<img src="./jupyter/analysis2_0cd20_predseg__simulated_trace_tau_sim-163.35ms_8.svg" class="img-responsive" alt="analysis2_0cd20_predseg__simulated_trace_tau_sim-163.35ms_8.svg">
</p>
</details>
</li>
<li>prediction-based cut-and-stitch correction
<details>
<p>
<img src="./jupyter/analysis2_0cd20_predcas__simulated_trace_tau_sim-3.76ms_0.svg" class="img-responsive" alt="analysis2_0cd20_predcas__simulated_trace_tau_sim-3.76ms_0.svg">
<img src="./jupyter/analysis2_0cd20_predcas__simulated_trace_tau_sim-3.76ms_1.svg" class="img-responsive" alt="analysis2_0cd20_predcas__simulated_trace_tau_sim-3.76ms_1.svg">
<img src="./jupyter/analysis2_0cd20_predcas__simulated_trace_tau_sim-3.76ms_2.svg" class="img-responsive" alt="analysis2_0cd20_predcas__simulated_trace_tau_sim-3.76ms_2.svg">
<img src="./jupyter/analysis2_0cd20_predcas__simulated_trace_tau_sim-56.36ms_3.svg" class="img-responsive" alt="analysis2_0cd20_predcas__simulated_trace_tau_sim-56.36ms_3.svg">
<img src="./jupyter/analysis2_0cd20_predcas__simulated_trace_tau_sim-56.36ms_4.svg" class="img-responsive" alt="analysis2_0cd20_predcas__simulated_trace_tau_sim-56.36ms_4.svg">
<img src="./jupyter/analysis2_0cd20_predcas__simulated_trace_tau_sim-56.36ms_5.svg" class="img-responsive" alt="analysis2_0cd20_predcas__simulated_trace_tau_sim-56.36ms_5.svg">
<img src="./jupyter/analysis2_0cd20_predcas__simulated_trace_tau_sim-163.35ms_6.svg" class="img-responsive" alt="analysis2_0cd20_predcas__simulated_trace_tau_sim-163.35ms_6.svg">
<img src="./jupyter/analysis2_0cd20_predcas__simulated_trace_tau_sim-163.35ms_7.svg" class="img-responsive" alt="analysis2_0cd20_predcas__simulated_trace_tau_sim-163.35ms_7.svg">
<img src="./jupyter/analysis2_0cd20_predcas__simulated_trace_tau_sim-163.35ms_8.svg" class="img-responsive" alt="analysis2_0cd20_predcas__simulated_trace_tau_sim-163.35ms_8.svg">
</p>
</details>
</li>
</ul>
</li>
<li>fifth model: <code>fe81d71c52404ed790b3a32051258da9</code>
<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #374478;">plot_predictions</span>(<span style="color: #5e7837;">model_id</span>=6,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #43783f;">filename</span>=<span style="color: #2aa198;">'data/exp-220227-unet/jupyter/analysis2_fe81d'</span>)

</pre>
</div>

<pre class="example">
2023-02-16 13:42:36.880181: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcuda.so.1'; dlerror: libcuda.so.1: cannot open shared object file: No such file or directory
2023-02-16 13:42:36.882860: W tensorflow/stream_executor/cuda/cuda_driver.cc:269] failed call to cuInit: UNKNOWN ERROR (303)
2023-02-16 13:42:36.885399: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:156] kernel driver does not appear to be running on this host (Topialex): /proc/driver/nvidia/version does not exist
2023-02-16 13:42:36.911523: I tensorflow/core/platform/cpu_feature_guard.cc:151] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX2 FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
WARNING:tensorflow:Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
2023-02-16 13:42:48.544143: W tensorflow/core/framework/cpu_allocator_impl.cc:82] Allocation of 98304000 exceeds 10% of free system memory.
2023-02-16 13:42:48.656459: W tensorflow/core/framework/cpu_allocator_impl.cc:82] Allocation of 98304000 exceeds 10% of free system memory.
2023-02-16 13:42:49.489339: W tensorflow/core/framework/cpu_allocator_impl.cc:82] Allocation of 98304000 exceeds 10% of free system memory.
2023-02-16 13:42:50.028156: W tensorflow/core/framework/cpu_allocator_impl.cc:82] Allocation of 98304000 exceeds 10% of free system memory.2023-02-16 13:52:50.335793: W tensorflow/core/framework/cpu_allocator_impl.cc:82] Allocation of 98304000 exceeds 10% of free system memory.
/tmp/ipykernel_14923/851958287.py:66: RuntimeWarning: More than 20 figures have been opened. Figures created through the pyplot interface (`matplotlib.pyplot.figure`) are retained until explicitly closed and may consume too much memory. (To control this warning, see the rcParam `figure.max_open_warning`).
  fig = plt.figure()
</pre>
<ul class="org-ul">
<li>model predictions
<details>
<p>
<img src="./jupyter/analysis2_fe81d_prediction__simulated_trace_tau_sim-3.76ms_0.svg" class="img-responsive" alt="analysis2_fe81d_prediction__simulated_trace_tau_sim-3.76ms_0.svg">
<img src="./jupyter/analysis2_fe81d_prediction__simulated_trace_tau_sim-3.76ms_1.svg" class="img-responsive" alt="analysis2_fe81d_prediction__simulated_trace_tau_sim-3.76ms_1.svg">
<img src="./jupyter/analysis2_fe81d_prediction__simulated_trace_tau_sim-3.76ms_2.svg" class="img-responsive" alt="analysis2_fe81d_prediction__simulated_trace_tau_sim-3.76ms_2.svg">
<img src="./jupyter/analysis2_fe81d_prediction__simulated_trace_tau_sim-56.36ms_3.svg" class="img-responsive" alt="analysis2_fe81d_prediction__simulated_trace_tau_sim-56.36ms_3.svg">
<img src="./jupyter/analysis2_fe81d_prediction__simulated_trace_tau_sim-56.36ms_4.svg" class="img-responsive" alt="analysis2_fe81d_prediction__simulated_trace_tau_sim-56.36ms_4.svg">
<img src="./jupyter/analysis2_fe81d_prediction__simulated_trace_tau_sim-56.36ms_5.svg" class="img-responsive" alt="analysis2_fe81d_prediction__simulated_trace_tau_sim-56.36ms_5.svg">
<img src="./jupyter/analysis2_fe81d_prediction__simulated_trace_tau_sim-163.35ms_6.svg" class="img-responsive" alt="analysis2_fe81d_prediction__simulated_trace_tau_sim-163.35ms_6.svg">
<img src="./jupyter/analysis2_fe81d_prediction__simulated_trace_tau_sim-163.35ms_7.svg" class="img-responsive" alt="analysis2_fe81d_prediction__simulated_trace_tau_sim-163.35ms_7.svg">
<img src="./jupyter/analysis2_fe81d_prediction__simulated_trace_tau_sim-163.35ms_8.svg" class="img-responsive" alt="analysis2_fe81d_prediction__simulated_trace_tau_sim-163.35ms_8.svg">
</p>
</details>
</li>
<li>prediction-based segmentation (threshold=0.5)
<details>
<p>
<img src="./jupyter/analysis2_fe81d_predseg__simulated_trace_tau_sim-3.76ms_0.svg" class="img-responsive" alt="analysis2_fe81d_predseg__simulated_trace_tau_sim-3.76ms_0.svg">
<img src="./jupyter/analysis2_fe81d_predseg__simulated_trace_tau_sim-3.76ms_1.svg" class="img-responsive" alt="analysis2_fe81d_predseg__simulated_trace_tau_sim-3.76ms_1.svg">
<img src="./jupyter/analysis2_fe81d_predseg__simulated_trace_tau_sim-3.76ms_2.svg" class="img-responsive" alt="analysis2_fe81d_predseg__simulated_trace_tau_sim-3.76ms_2.svg">
<img src="./jupyter/analysis2_fe81d_predseg__simulated_trace_tau_sim-56.36ms_3.svg" class="img-responsive" alt="analysis2_fe81d_predseg__simulated_trace_tau_sim-56.36ms_3.svg">
<img src="./jupyter/analysis2_fe81d_predseg__simulated_trace_tau_sim-56.36ms_4.svg" class="img-responsive" alt="analysis2_fe81d_predseg__simulated_trace_tau_sim-56.36ms_4.svg">
<img src="./jupyter/analysis2_fe81d_predseg__simulated_trace_tau_sim-56.36ms_5.svg" class="img-responsive" alt="analysis2_fe81d_predseg__simulated_trace_tau_sim-56.36ms_5.svg">
<img src="./jupyter/analysis2_fe81d_predseg__simulated_trace_tau_sim-163.35ms_6.svg" class="img-responsive" alt="analysis2_fe81d_predseg__simulated_trace_tau_sim-163.35ms_6.svg">
<img src="./jupyter/analysis2_fe81d_predseg__simulated_trace_tau_sim-163.35ms_7.svg" class="img-responsive" alt="analysis2_fe81d_predseg__simulated_trace_tau_sim-163.35ms_7.svg">
<img src="./jupyter/analysis2_fe81d_predseg__simulated_trace_tau_sim-163.35ms_8.svg" class="img-responsive" alt="analysis2_fe81d_predseg__simulated_trace_tau_sim-163.35ms_8.svg">
</p>
</details>
</li>
<li>prediction-based cut-and-stitch correction
<details>
<p>
<img src="./jupyter/analysis2_fe81d_predcas__simulated_trace_tau_sim-3.76ms_0.svg" class="img-responsive" alt="analysis2_fe81d_predcas__simulated_trace_tau_sim-3.76ms_0.svg">
<img src="./jupyter/analysis2_fe81d_predcas__simulated_trace_tau_sim-3.76ms_1.svg" class="img-responsive" alt="analysis2_fe81d_predcas__simulated_trace_tau_sim-3.76ms_1.svg">
<img src="./jupyter/analysis2_fe81d_predcas__simulated_trace_tau_sim-3.76ms_2.svg" class="img-responsive" alt="analysis2_fe81d_predcas__simulated_trace_tau_sim-3.76ms_2.svg">
<img src="./jupyter/analysis2_fe81d_predcas__simulated_trace_tau_sim-56.36ms_3.svg" class="img-responsive" alt="analysis2_fe81d_predcas__simulated_trace_tau_sim-56.36ms_3.svg">
<img src="./jupyter/analysis2_fe81d_predcas__simulated_trace_tau_sim-56.36ms_4.svg" class="img-responsive" alt="analysis2_fe81d_predcas__simulated_trace_tau_sim-56.36ms_4.svg">
<img src="./jupyter/analysis2_fe81d_predcas__simulated_trace_tau_sim-56.36ms_5.svg" class="img-responsive" alt="analysis2_fe81d_predcas__simulated_trace_tau_sim-56.36ms_5.svg">
<img src="./jupyter/analysis2_fe81d_predcas__simulated_trace_tau_sim-163.35ms_6.svg" class="img-responsive" alt="analysis2_fe81d_predcas__simulated_trace_tau_sim-163.35ms_6.svg">
<img src="./jupyter/analysis2_fe81d_predcas__simulated_trace_tau_sim-163.35ms_7.svg" class="img-responsive" alt="analysis2_fe81d_predcas__simulated_trace_tau_sim-163.35ms_7.svg">
<img src="./jupyter/analysis2_fe81d_predcas__simulated_trace_tau_sim-163.35ms_8.svg" class="img-responsive" alt="analysis2_fe81d_predcas__simulated_trace_tau_sim-163.35ms_8.svg">
</p>
</details>
</li>
</ul>
</li>

<li>I did not do these plots for models <code>19e3e</code> or <code>c1204</code>, because the did not
work well in latex table (See below)
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-2-1-11-2" class="outline-5">
<h5 id="sec-2-1-11-2"><span class="section-number-5">2.1.11.2</span> latex table from sim results</h5>
<div class="outline-text-5" id="text-2-1-11-2">
<ul class="org-ul">
<li>All correlation curve fitting from Analysis 1b and 1c was done in a
structured manner via <code>focuspoint.FCS_point_correlator</code> from Dominic
Waithe.
</li>
<li>Now we load the modules and tell the code where to find the fit results
</li>
<li>these fit results are the average of 300 curves per simulated group of fast
molecule diffusion coefficients \(\{0.069, 0.08, 0.1, 0.2, 0.4, 0.6, 1.0,
     3.0, 10, 50\}\mu m^2/s\)
</li>
<li>this is only an illustration, because the actual distribution of each of
the 300 fitted curves is the interesting result. This is shown in <code>exp-220316-publication1</code>
</li>
<li>here, the latex export is the cool thing - and the comparison of all models!
<details>
<div class="org-src-container">

<pre class="src src-jupyter-python">%<span style="color: #707e4f;">cd</span> ~/<span style="color: #784437;">Programme</span>/<span style="color: #784437;">drmed</span>-<span style="color: #784437;">git</span>
</pre>
</div>

<pre class="example">
/home/lex/Programme/drmed-git
</pre>


<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #859900; font-weight: bold;">import</span> <span style="color: #7e544f;">os</span>
<span style="color: #859900; font-weight: bold;">import</span> <span style="color: #513f78;">sys</span>
<span style="color: #859900; font-weight: bold;">import</span> <span style="color: #4f5c7e;">numpy</span> <span style="color: #859900; font-weight: bold;">as</span> <span style="color: #707e4f;">np</span>
<span style="color: #859900; font-weight: bold;">import</span> <span style="color: #37785e;">matplotlib</span>.<span style="color: #4f7e67;">pyplot</span> <span style="color: #859900; font-weight: bold;">as</span> <span style="color: #4f7e67;">plt</span>
<span style="color: #859900; font-weight: bold;">import</span> <span style="color: #5e7837;">pandas</span> <span style="color: #859900; font-weight: bold;">as</span> <span style="color: #783778;">pd</span>
<span style="color: #859900; font-weight: bold;">import</span> <span style="color: #78683f;">seaborn</span> <span style="color: #859900; font-weight: bold;">as</span> <span style="color: #4f5c7e;">sns</span>
<span style="color: #859900; font-weight: bold;">from</span> <span style="color: #43783f;">pathlib</span> <span style="color: #859900; font-weight: bold;">import</span> <span style="color: #78683f;">Path</span>
<span style="color: #859900; font-weight: bold;">from</span> <span style="color: #4f7e67;">pprint</span> <span style="color: #859900; font-weight: bold;">import</span> <span style="color: #4f7e67;">pprint</span>

<span style="color: #268bd2;">FLUOTRACIFY_PATH</span> = <span style="color: #2aa198;">'/home/lex/Programme/drmed-git/src/'</span>
<span style="color: #513f78;">sys</span>.<span style="color: #513f78;">path</span>.<span style="color: #5e7837;">append</span>(<span style="color: #784437;">FLUOTRACIFY_PATH</span>)
<span style="color: #859900; font-weight: bold;">from</span> <span style="color: #783778;">fluotracify</span>.<span style="color: #5e7837;">simulations</span> <span style="color: #859900; font-weight: bold;">import</span> (
<span style="background-color: #eee8d5;"> </span>  <span style="color: #43783f;">analyze_simulations</span> <span style="color: #859900; font-weight: bold;">as</span> <span style="color: #7a4f7e;">ans</span>,
)

<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">use seaborn style as default even if I just use matplotlib</span>

<span style="color: #4f5c7e;">sns</span>.<span style="color: #374478;">set_theme</span>(<span style="color: #3f7178;">style</span>=<span style="color: #2aa198;">"whitegrid"</span>, <span style="color: #784437;">font_scale</span>=2, <span style="color: #5e7837;">palette</span>=<span style="color: #2aa198;">'colorblind'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #4f7e67;">context</span>=<span style="color: #2aa198;">'paper'</span>)
<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">logging.basicConfig(filename="/home/lex/Programme/drmed-git/data/exp-220227-unet/jupyter.log",</span>
<span style="color: #93a1a1;">#               </span><span style="color: #93a1a1;">filemode='w', format='%(asctime)s - %(message)s',</span>
<span style="color: #93a1a1;">#               </span><span style="color: #93a1a1;">force=True,</span>
<span style="color: #93a1a1;">#               </span><span style="color: #93a1a1;">level=logging.DEBUG)</span>

<span style="color: #268bd2;">model_ls</span> = [<span style="color: #2aa198;">'ff67be0b68e540a9a29a36a2d0c7a5be'</span>, <span style="color: #2aa198;">'347669d050f344ad9fb9e480c814f727'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">'714af8cd12c1441eac4ca980e8c20070'</span>, <span style="color: #2aa198;">'34a6d207ac594035b1009c330fb67a65'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">'484af471c61943fa90e5f78e78a229f0'</span>, <span style="color: #2aa198;">'0cd2023eeaf745aca0d3e8ad5e1fc653'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">'fe81d71c52404ed790b3a32051258da9'</span>, <span style="color: #2aa198;">'19e3e786e1bc4e2b93856f5dc9de8216'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">'c1204e3a8a1e4c40a35b5b7b1922d1ce'</span>]

<span style="color: #268bd2;">model_name_ls</span> = [<span style="color: #43783f;">f</span><span style="color: #2aa198;">'</span><span style="color: #268bd2;">{s:.5}</span><span style="color: #2aa198;">'</span> <span style="color: #859900; font-weight: bold;">for</span> <span style="color: #784437;">s</span> <span style="color: #859900; font-weight: bold;">in</span> <span style="color: #513f78;">model_ls</span>]
</pre>
</div>

<pre class="example">
2023-02-15 22:29:36.789486: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcudart.so.11.0'; dlerror: libcudart.so.11.0: cannot open shared object file: No such file or directory
2023-02-15 22:29:36.789635: I tensorflow/stream_executor/cuda/cudart_stub.cc:29] Ignore above cudart dlerror if you do not have a GPU set up on your machine.
</pre>



<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">path1</span> = <span style="color: #78683f;">Path</span>(<span style="color: #2aa198;">'data/exp-220227-unet/2022-04-25_simulations'</span>)
<span style="color: #268bd2;">path2</span> = <span style="color: #78683f;">Path</span>(<span style="color: #2aa198;">'data/exp-220316-publication1/220517_simulations'</span>)

<span style="color: #268bd2;">odot069_models1_path</span> = <span style="color: #784437;">path1</span> / <span style="color: #2aa198;">'0.069-all-results/0dot069_all_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">odot069_models2_path</span> = <span style="color: #784437;">path1</span> / <span style="color: #2aa198;">'0.069-all-results/0dot069_all_2comp_outputParam.csv'</span>
<span style="color: #268bd2;">odot069_corr1_path</span> = <span style="color: #513f78;">path2</span> / <span style="color: #2aa198;">'0.069-all-results/0dot069_lab-all_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">odot069_corr2_path</span> = <span style="color: #513f78;">path2</span> / <span style="color: #2aa198;">'0.069-all-results/0dot069_lab-all_2comp_outputParam.csv'</span>

<span style="color: #268bd2;">odot08_models1_path</span> = <span style="color: #784437;">path1</span> / <span style="color: #2aa198;">'0.08-all-results/0dot08_all_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">odot08_models2_path</span> = <span style="color: #784437;">path1</span> / <span style="color: #2aa198;">'0.08-all-results/0dot08_all_2comp_outputParam.csv'</span>
<span style="color: #268bd2;">odot08_corr1_path</span> = <span style="color: #513f78;">path2</span> / <span style="color: #2aa198;">'0.08-all-results/0dot08_lab-all_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">odot08_corr2_path</span> = <span style="color: #513f78;">path2</span> / <span style="color: #2aa198;">'0.08-all-results/0dot08_lab-all_2comp_outputParam.csv'</span>

<span style="color: #268bd2;">odot1_models1_path</span> = <span style="color: #784437;">path1</span> / <span style="color: #2aa198;">'0.1-all-results/0dot1_all_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">odot1_models2_path</span> = <span style="color: #784437;">path1</span> / <span style="color: #2aa198;">'0.1-all-results/0dot1_all_2comp_outputParam.csv'</span>
<span style="color: #268bd2;">odot1_corr1_path</span> = <span style="color: #513f78;">path2</span> / <span style="color: #2aa198;">'0.1-all-results/0dot1_lab-all_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">odot1_corr2_path</span> = <span style="color: #513f78;">path2</span> / <span style="color: #2aa198;">'0.1-all-results/0dot1_lab-all_2comp_outputParam.csv'</span>

<span style="color: #268bd2;">odot2_models1_path</span> = <span style="color: #784437;">path1</span> / <span style="color: #2aa198;">'0.2-all-results/0dot2_all_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">odot2_models2_path</span> = <span style="color: #784437;">path1</span> / <span style="color: #2aa198;">'0.2-all-results/0dot2_all_2comp_outputParam.csv'</span>
<span style="color: #268bd2;">odot2_corr1_path</span> = <span style="color: #513f78;">path2</span> / <span style="color: #2aa198;">'0.2-all-results/0dot2_lab-all_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">odot2_corr2_path</span> = <span style="color: #513f78;">path2</span> / <span style="color: #2aa198;">'0.2-all-results/0dot2_lab-all_2comp_outputParam.csv'</span>

<span style="color: #268bd2;">odot4_models1_path</span> = <span style="color: #784437;">path1</span> / <span style="color: #2aa198;">'0.4-all-results/0dot4_all_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">odot4_models2_path</span> = <span style="color: #784437;">path1</span> / <span style="color: #2aa198;">'0.4-all-results/0dot4_all_2comp_outputParam.csv'</span>
<span style="color: #268bd2;">odot4_corr1_path</span> = <span style="color: #513f78;">path2</span> / <span style="color: #2aa198;">'0.4-all-results/0dot4_lab-all_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">odot4_corr2_path</span> = <span style="color: #513f78;">path2</span> / <span style="color: #2aa198;">'0.4-all-results/0dot4_lab-all_2comp_outputParam.csv'</span>

<span style="color: #268bd2;">odot6_models1_path</span> = <span style="color: #784437;">path1</span> / <span style="color: #2aa198;">'0.6-all-results/0dot6_all_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">odot6_models2_path</span> = <span style="color: #784437;">path1</span> / <span style="color: #2aa198;">'0.6-all-results/0dot6_all_2comp_outputParam.csv'</span>
<span style="color: #268bd2;">odot6_corr1_path</span> = <span style="color: #513f78;">path2</span> / <span style="color: #2aa198;">'0.6-all-results/0dot6_lab-all_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">odot6_corr2_path</span> = <span style="color: #513f78;">path2</span> / <span style="color: #2aa198;">'0.6-all-results/0dot6_lab-all_2comp_outputParam.csv'</span>

<span style="color: #268bd2;">one_models1_path</span> = <span style="color: #784437;">path1</span> / <span style="color: #2aa198;">'1.0-all-results/1dot0_all_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">one_models2_path</span> = <span style="color: #784437;">path1</span> / <span style="color: #2aa198;">'1.0-all-results/1dot0_all_2comp_outputParam.csv'</span>
<span style="color: #268bd2;">one_corr1_path</span> = <span style="color: #513f78;">path2</span> / <span style="color: #2aa198;">'1.0-all-results/1dot0_lab-all_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">one_corr2_path</span> = <span style="color: #513f78;">path2</span> / <span style="color: #2aa198;">'1.0-all-results/1dot0_lab-all_2comp_outputParam.csv'</span>

<span style="color: #268bd2;">three_models1_path</span> = <span style="color: #784437;">path1</span> / <span style="color: #2aa198;">'3.0-all-results/3dot0_all_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">three_models2_path</span> = <span style="color: #784437;">path1</span> / <span style="color: #2aa198;">'3.0-all-results/3dot0_all_2comp_outputParam.csv'</span>
<span style="color: #268bd2;">three_corr1_path</span> = <span style="color: #513f78;">path2</span> / <span style="color: #2aa198;">'3.0-all-results/3dot0_lab-all_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">three_corr2_path</span> = <span style="color: #513f78;">path2</span> / <span style="color: #2aa198;">'3.0-all-results/3dot0_lab-all_2comp_outputParam.csv'</span>

<span style="color: #268bd2;">ten_models1_path</span> = <span style="color: #784437;">path1</span> / <span style="color: #2aa198;">'10.0-all-results/10dot0_all_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">ten_models2_path</span> = <span style="color: #784437;">path1</span> / <span style="color: #2aa198;">'10.0-all-results/10dot0_all_2comp_outputParam.csv'</span>
<span style="color: #268bd2;">ten_corr1_path</span> = <span style="color: #513f78;">path2</span> / <span style="color: #2aa198;">'10.0-all-results/10dot0_lab-all_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">ten_corr2_path</span> = <span style="color: #513f78;">path2</span> / <span style="color: #2aa198;">'10.0-all-results/10dot0_lab-all_2comp_outputParam.csv'</span>

<span style="color: #268bd2;">fifty_models1_path</span> = <span style="color: #784437;">path1</span> / <span style="color: #2aa198;">'50.0-all-results/50dot0_all_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">fifty_models2_path</span> = <span style="color: #784437;">path1</span> / <span style="color: #2aa198;">'50.0-all-results/50dot0_all_2comp_outputParam.csv'</span>
<span style="color: #268bd2;">fifty_corr1_path</span> = <span style="color: #513f78;">path2</span> / <span style="color: #2aa198;">'50.0-all-results/50dot0_lab-all_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">fifty_corr2_path</span> = <span style="color: #513f78;">path2</span> / <span style="color: #2aa198;">'50.0-all-results/50dot0_lab-all_2comp_outputParam.csv'</span>

</pre>
</div>
</details>
</li>
</ul>
<ul class="org-ul">
<li>we load the data and combine it. We convert the simulated D [um2/s] in
t[ms]. Based on an exploratory plot of A1 and A2 we swap A1-A2 and
txy1-txy2, so that A1 and txy1 always represent the bigger fitted fraction
size.
</li>
<li>I wrote a latex table export. The table should display cells with a green
background, when the correction method is inside an accepted range of +-log
10%, else it should have an orange background.
</li>
<li>I prepared tables for two occasions:
<ol class="org-ol">
<li>a short table for a beamer presentation
</li>
<li>a long table for a report
</li>
</ol>
<details>
<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">tt_txt</span> = 0.069
<span style="color: #268bd2;">odot069_models1</span> = <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #4f5c7e;">odot069_models1_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #4f5c7e;">components</span>=10*[1,], <span style="color: #7a4f7e;">sim</span>=10*[<span style="color: #784437;">tt_txt</span>])
<span style="color: #268bd2;">odot069_models2</span> = <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #78683f;">odot069_models2_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #4f5c7e;">components</span>=10*[2,], <span style="color: #7a4f7e;">sim</span>=10*[<span style="color: #784437;">tt_txt</span>])
<span style="color: #268bd2;">odot069_corr1</span> = <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #4f5c7e;">odot069_corr1_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #4f5c7e;">components</span>=2*[1,], <span style="color: #7a4f7e;">sim</span>=2*[<span style="color: #784437;">tt_txt</span>])
<span style="color: #268bd2;">odot069_corr2</span> = <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #783778;">odot069_corr2_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #4f5c7e;">components</span>=2*[2,], <span style="color: #7a4f7e;">sim</span>=2*[<span style="color: #784437;">tt_txt</span>])

<span style="color: #268bd2;">tt_txt</span> = 0.08
<span style="color: #268bd2;">odot08_models1</span> = <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #7e544f;">odot08_models1_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #4f5c7e;">components</span>=10*[1,], <span style="color: #7a4f7e;">sim</span>=10*[<span style="color: #784437;">tt_txt</span>])
<span style="color: #268bd2;">odot08_models2</span> = <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #37785e;">odot08_models2_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #4f5c7e;">components</span>=10*[2,], <span style="color: #7a4f7e;">sim</span>=10*[<span style="color: #784437;">tt_txt</span>])
<span style="color: #268bd2;">odot08_corr1</span> = <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #513f78;">odot08_corr1_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #4f5c7e;">components</span>=2*[1,], <span style="color: #7a4f7e;">sim</span>=2*[<span style="color: #784437;">tt_txt</span>])
<span style="color: #268bd2;">odot08_corr2</span> = <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #4f5c7e;">odot08_corr2_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #4f5c7e;">components</span>=2*[2,], <span style="color: #7a4f7e;">sim</span>=2*[<span style="color: #784437;">tt_txt</span>])

<span style="color: #268bd2;">tt_txt</span> = 0.1
<span style="color: #268bd2;">odot1_models1</span> = <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #7e544f;">odot1_models1_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #4f5c7e;">components</span>=10*[1,], <span style="color: #7a4f7e;">sim</span>=10*[<span style="color: #784437;">tt_txt</span>])
<span style="color: #268bd2;">odot1_models2</span> = <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #3f7178;">odot1_models2_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #4f5c7e;">components</span>=10*[2,], <span style="color: #7a4f7e;">sim</span>=10*[<span style="color: #784437;">tt_txt</span>])
<span style="color: #268bd2;">odot1_corr1</span> = <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #513f78;">odot1_corr1_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #4f5c7e;">components</span>=2*[1,], <span style="color: #7a4f7e;">sim</span>=2*[<span style="color: #784437;">tt_txt</span>])
<span style="color: #268bd2;">odot1_corr2</span> = <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #78683f;">odot1_corr2_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #4f5c7e;">components</span>=2*[2,], <span style="color: #7a4f7e;">sim</span>=2*[<span style="color: #784437;">tt_txt</span>])

<span style="color: #268bd2;">tt_txt</span> = 0.2
<span style="color: #268bd2;">odot2_models1</span> = <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #784437;">odot2_models1_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #4f5c7e;">components</span>=10*[1,], <span style="color: #7a4f7e;">sim</span>=10*[<span style="color: #784437;">tt_txt</span>])
<span style="color: #268bd2;">odot2_models2</span> = <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #7e544f;">odot2_models2_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #4f5c7e;">components</span>=10*[2,], <span style="color: #7a4f7e;">sim</span>=10*[<span style="color: #784437;">tt_txt</span>])
<span style="color: #268bd2;">odot2_corr1</span> = <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #78683f;">odot2_corr1_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #4f5c7e;">components</span>=2*[1,], <span style="color: #7a4f7e;">sim</span>=2*[<span style="color: #784437;">tt_txt</span>])
<span style="color: #268bd2;">odot2_corr2</span> = <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #783f5a;">odot2_corr2_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #4f5c7e;">components</span>=2*[2,], <span style="color: #7a4f7e;">sim</span>=2*[<span style="color: #784437;">tt_txt</span>])

<span style="color: #268bd2;">tt_txt</span> = 0.4
<span style="color: #268bd2;">odot4_models1</span> = <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #78683f;">odot4_models1_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #4f5c7e;">components</span>=10*[1,], <span style="color: #7a4f7e;">sim</span>=10*[<span style="color: #784437;">tt_txt</span>])
<span style="color: #268bd2;">odot4_models2</span> = <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #7e544f;">odot4_models2_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #4f5c7e;">components</span>=10*[2,], <span style="color: #7a4f7e;">sim</span>=10*[<span style="color: #784437;">tt_txt</span>])
<span style="color: #268bd2;">odot4_corr1</span> = <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #78683f;">odot4_corr1_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #4f5c7e;">components</span>=2*[1,], <span style="color: #7a4f7e;">sim</span>=2*[<span style="color: #784437;">tt_txt</span>])
<span style="color: #268bd2;">odot4_corr2</span> = <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #43783f;">odot4_corr2_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #4f5c7e;">components</span>=2*[2,], <span style="color: #7a4f7e;">sim</span>=2*[<span style="color: #784437;">tt_txt</span>])

<span style="color: #268bd2;">tt_txt</span> = 0.6
<span style="color: #268bd2;">odot6_models1</span> = <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #4f5c7e;">odot6_models1_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #4f5c7e;">components</span>=10*[1,], <span style="color: #7a4f7e;">sim</span>=10*[<span style="color: #784437;">tt_txt</span>])
<span style="color: #268bd2;">odot6_models2</span> = <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #4f5c7e;">odot6_models2_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #4f5c7e;">components</span>=10*[2,], <span style="color: #7a4f7e;">sim</span>=10*[<span style="color: #784437;">tt_txt</span>])
<span style="color: #268bd2;">odot6_corr1</span> = <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #783778;">odot6_corr1_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #4f5c7e;">components</span>=2*[1,], <span style="color: #7a4f7e;">sim</span>=2*[<span style="color: #784437;">tt_txt</span>])
<span style="color: #268bd2;">odot6_corr2</span> = <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #783778;">odot6_corr2_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #4f5c7e;">components</span>=2*[2,], <span style="color: #7a4f7e;">sim</span>=2*[<span style="color: #784437;">tt_txt</span>])

<span style="color: #268bd2;">tt_txt</span> = 1
<span style="color: #268bd2;">one_models1</span> = <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #3f7178;">one_models1_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #4f5c7e;">components</span>=10*[1,], <span style="color: #7a4f7e;">sim</span>=10*[<span style="color: #784437;">tt_txt</span>])
<span style="color: #268bd2;">one_models2</span> = <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #7a4f7e;">one_models2_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #4f5c7e;">components</span>=10*[2,], <span style="color: #7a4f7e;">sim</span>=10*[<span style="color: #784437;">tt_txt</span>])
<span style="color: #268bd2;">one_corr1</span> = <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #4f7e67;">one_corr1_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #4f5c7e;">components</span>=2*[1,], <span style="color: #7a4f7e;">sim</span>=2*[<span style="color: #784437;">tt_txt</span>])
<span style="color: #268bd2;">one_corr2</span> = <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #783778;">one_corr2_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #4f5c7e;">components</span>=2*[2,], <span style="color: #7a4f7e;">sim</span>=2*[<span style="color: #784437;">tt_txt</span>])

<span style="color: #268bd2;">tt_txt</span> = 3
<span style="color: #268bd2;">three_models1</span> = <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #4f7e67;">three_models1_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #4f5c7e;">components</span>=10*[1,], <span style="color: #7a4f7e;">sim</span>=10*[<span style="color: #784437;">tt_txt</span>])
<span style="color: #268bd2;">three_models2</span> = <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #4f5c7e;">three_models2_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #4f5c7e;">components</span>=10*[2,], <span style="color: #7a4f7e;">sim</span>=10*[<span style="color: #784437;">tt_txt</span>])
<span style="color: #268bd2;">three_corr1</span> = <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #707e4f;">three_corr1_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #4f5c7e;">components</span>=2*[1,], <span style="color: #7a4f7e;">sim</span>=2*[<span style="color: #784437;">tt_txt</span>])
<span style="color: #268bd2;">three_corr2</span> = <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #513f78;">three_corr2_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #4f5c7e;">components</span>=2*[2,], <span style="color: #7a4f7e;">sim</span>=2*[<span style="color: #784437;">tt_txt</span>])

<span style="color: #268bd2;">tt_txt</span> = 10
<span style="color: #268bd2;">ten_models1</span> = <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #43783f;">ten_models1_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #4f5c7e;">components</span>=10*[1,], <span style="color: #7a4f7e;">sim</span>=10*[<span style="color: #784437;">tt_txt</span>])
<span style="color: #268bd2;">ten_models2</span> = <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #78683f;">ten_models2_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #4f5c7e;">components</span>=10*[2,], <span style="color: #7a4f7e;">sim</span>=10*[<span style="color: #784437;">tt_txt</span>])
<span style="color: #268bd2;">ten_corr1</span> = <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #7e544f;">ten_corr1_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #4f5c7e;">components</span>=2*[1,], <span style="color: #7a4f7e;">sim</span>=2*[<span style="color: #784437;">tt_txt</span>])
<span style="color: #268bd2;">ten_corr2</span> = <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #3f7178;">ten_corr2_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #4f5c7e;">components</span>=2*[2,], <span style="color: #7a4f7e;">sim</span>=2*[<span style="color: #784437;">tt_txt</span>])

<span style="color: #268bd2;">tt_txt</span> = 50
<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">fifty_models1 = pd.read_csv(fifty_models1_path, sep=',',</span>
<span style="color: #93a1a1;">#     </span><span style="color: #93a1a1;">index_col='name_of_plot').assign(components=10*[1,])</span>
<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">fifty_models2 = pd.read_csv(fifty_models2_path, sep=',',</span>
<span style="color: #93a1a1;">#     </span><span style="color: #93a1a1;">index_col='name_of_plot').assign(components=10*[2,])</span>
<span style="color: #268bd2;">fifty_corr1</span> = <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #784437;">fifty_corr1_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #4f5c7e;">components</span>=2*[1,], <span style="color: #7a4f7e;">sim</span>=2*[<span style="color: #784437;">tt_txt</span>])
<span style="color: #268bd2;">fifty_corr2</span> = <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #783f5a;">fifty_corr2_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #4f5c7e;">components</span>=2*[2,], <span style="color: #7a4f7e;">sim</span>=2*[<span style="color: #784437;">tt_txt</span>])

<span style="color: #268bd2;">all_param</span> = <span style="color: #783778;">pd</span>.<span style="color: #7e544f;">concat</span>([<span style="color: #37785e;">odot069_models1</span>, <span style="color: #3f7178;">odot069_models2</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #37785e;">odot069_corr1</span>, <span style="color: #43783f;">odot069_corr2</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #707e4f;">odot08_models1</span>, <span style="color: #37785e;">odot08_models2</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #7a4f7e;">odot08_corr1</span>, <span style="color: #37785e;">odot08_corr2</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #5e7837;">odot1_models2</span>, <span style="color: #783778;">odot1_models1</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #7e544f;">odot1_corr2</span>, <span style="color: #784437;">odot1_corr1</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #3f7178;">odot2_models1</span>, <span style="color: #7e544f;">odot2_models2</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #4f5c7e;">odot2_corr1</span>, <span style="color: #707e4f;">odot2_corr2</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #784437;">odot4_models1</span>, <span style="color: #783f5a;">odot4_models2</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #783f5a;">odot4_corr1</span>, <span style="color: #7e544f;">odot4_corr2</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #4f5c7e;">odot6_models1</span>, <span style="color: #3f7178;">odot6_models2</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #7e544f;">odot6_corr1</span>, <span style="color: #513f78;">odot6_corr2</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #7e544f;">one_models1</span>, <span style="color: #784437;">one_models2</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #4f7e67;">one_corr1</span>, <span style="color: #707e4f;">one_corr2</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #513f78;">three_models1</span>, <span style="color: #3f7178;">three_models2</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #4f7e67;">three_corr1</span>, <span style="color: #4f5c7e;">three_corr2</span>])
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #93a1a1;"># ten_models1, ten_models2,</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #93a1a1;"># ten_corr1, ten_corr2,</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #93a1a1;"># fifty_models1, fifty_models2,</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #93a1a1;"># fifty_corr1, fifty_corr2</span>


<span style="color: #859900; font-weight: bold;">def</span> <span style="color: #268bd2;">diffcoeff_to_transittimes</span>(<span style="color: #783778;">diff</span>, <span style="color: #513f78;">prec</span>):
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">tt</span>, <span style="color: #268bd2;">tt_low_high</span> = <span style="color: #7a4f7e;">ans</span>.<span style="color: #37785e;">convert_diffcoeff_to_transittimes</span>(<span style="color: #783778;">diff</span>, <span style="color: #4f5c7e;">fwhm</span>=250)
<span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;"># tt_txt = f'\\makecell{{${tt:.{prec}f}$\\\\$\\numrange{{{tt_low_high[0]:.{prec}f}}}{{{tt_low_high[1]:.{prec}f}}}$}}' # \\\\$(\\sim {diff})$</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">tt_txt</span> = <span style="color: #43783f;">f</span><span style="color: #2aa198;">'\\makecell{{${tt:.{prec}f}$\\\\$\\textbf{{{tt_low_high[0]:.{prec}f}-{tt_low_high[1]:.{prec}f}}}$}}'</span> <span style="color: #93a1a1;"># \\\\$(\\sim {diff})$</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">return</span> <span style="color: #784437;">tt_txt</span>

<span style="color: #859900; font-weight: bold;">def</span> <span style="color: #268bd2;">sort_fit</span>(<span style="color: #4f5c7e;">param_ls</span>):
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">sim</span> = <span style="color: #4f5c7e;">param_ls</span>[-1]
<span style="background-color: #eee8d5;"> </span>   <span style="color: #657b83; font-weight: bold;">_</span>, <span style="color: #268bd2;">tt_low_high</span> = <span style="color: #7a4f7e;">ans</span>.<span style="color: #37785e;">convert_diffcoeff_to_transittimes</span>(<span style="color: #7a4f7e;">sim</span>, <span style="color: #4f5c7e;">fwhm</span>=250)
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">array</span> = <span style="color: #707e4f;">np</span>.<span style="color: #78683f;">array</span>(<span style="color: #657b83; font-weight: bold;">list</span>(<span style="color: #4f5c7e;">param_ls</span>)[:-1]).<span style="color: #37785e;">reshape</span>((2, 2))
<span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;"># sort by transit times</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">array</span> = <span style="color: #78683f;">array</span>[:, <span style="color: #78683f;">array</span>[0, :].<span style="color: #78683f;">argsort</span>()]
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">A_fast</span> = <span style="color: #78683f;">array</span>[1, 0]
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">A_slow</span> = <span style="color: #78683f;">array</span>[1, 1]
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">t_fast</span> = <span style="color: #78683f;">array</span>[0, 0]
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">t_slow</span> = <span style="color: #78683f;">array</span>[0, 1]
<span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">if</span> <span style="color: #707e4f;">np</span>.<span style="color: #7a4f7e;">isnan</span>(<span style="color: #374478;">t_slow</span>):
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">if</span> <span style="color: #7a4f7e;">tt_low_high</span>[0] &lt;= <span style="color: #707e4f;">t_fast</span> &lt;= <span style="color: #7a4f7e;">tt_low_high</span>[1]:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;"># out = f'\\cellcolor[HTML]{{009e73}}${t_fast:.2f}$'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;"># for beamer:</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">out</span> = <span style="color: #43783f;">f</span><span style="color: #2aa198;">'\\colorbox[HTML]{{009e73}}{{\\makecell{{${t_fast:.2f}$}}}}'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">else</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;"># out = f'\\cellcolor[HTML]{{d55e00}}${t_fast:.2f}$'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">out</span> = <span style="color: #43783f;">f</span><span style="color: #2aa198;">'\\colorbox[HTML]{{d55e00}}{{\\makecell{{${t_fast:.2f}$}}}}'</span>

<span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">elif</span> <span style="color: #43783f;">f</span><span style="color: #2aa198;">'</span><span style="color: #268bd2;">{A_fast:.0%}</span><span style="color: #2aa198;">'</span> == <span style="color: #2aa198;">'100%'</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">if</span> <span style="color: #7a4f7e;">tt_low_high</span>[0] &lt;= <span style="color: #707e4f;">t_fast</span> &lt;= <span style="color: #7a4f7e;">tt_low_high</span>[1]:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;"># out = f'\\cellcolor[HTML]{{009e73}}${t_fast:.2f}(100\\%)$'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">out</span> = <span style="color: #43783f;">f</span><span style="color: #2aa198;">'\\colorbox[HTML]{{009e73}}{{\\makecell{{${t_fast:.2f}$}}}}'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">else</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;"># out = f'\\cellcolor[HTML]{{d55e00}}${t_fast:.2f}(100\\%)$'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">out</span> = <span style="color: #43783f;">f</span><span style="color: #2aa198;">'\\colorbox[HTML]{{d55e00}}{{\\makecell{{${t_fast:.2f}$}}}}'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">elif</span> <span style="color: #43783f;">f</span><span style="color: #2aa198;">'</span><span style="color: #268bd2;">{A_slow:.0%}</span><span style="color: #2aa198;">'</span> == <span style="color: #2aa198;">'100%'</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">if</span> <span style="color: #7a4f7e;">tt_low_high</span>[0] &lt;= <span style="color: #374478;">t_slow</span> &lt;= <span style="color: #7a4f7e;">tt_low_high</span>[1]:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;"># out = f'\\cellcolor[HTML]{{009e73}}${t_slow:.2f}(100\\%)$'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">out</span> = <span style="color: #43783f;">f</span><span style="color: #2aa198;">'\\colorbox[HTML]{{009e73}}{{\\makecell{{${t_slow:.2f}$}}}}'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">else</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;"># out = f'\\cellcolor[HTML]{{d55e00}}${t_slow:.2f}(100\\%)$'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">out</span> = <span style="color: #43783f;">f</span><span style="color: #2aa198;">'\\colorbox[HTML]{{d55e00}}{{\\makecell{{${t_slow:.2f}$}}}}'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">else</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">if</span> (<span style="color: #7a4f7e;">tt_low_high</span>[0] &lt;= <span style="color: #707e4f;">t_fast</span> &lt;= <span style="color: #7a4f7e;">tt_low_high</span>[1]) <span style="color: #859900; font-weight: bold;">or</span> (
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #7a4f7e;">tt_low_high</span>[0] &lt;= <span style="color: #374478;">t_slow</span> &lt;= <span style="color: #7a4f7e;">tt_low_high</span>[1]):
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;"># out = f'\\cellcolor[HTML]{{009e73}}\\colorbox[HTML]{{009e73}}{{\\makecell{{${t_fast:.2f}^f({A_fast:.0%})$\\\\'\</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;">#       f'$</span><span style="color: #268bd2;">{t_slow:.2f}</span><span style="color: #93a1a1;">^s(</span><span style="color: #268bd2;">{A_slow:.0%}</span><span style="color: #93a1a1;">)$}}}}'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">out</span> = <span style="color: #43783f;">f</span><span style="color: #2aa198;">'\\colorbox[HTML]{{009e73}}{{\\makecell{{${t_fast:.2f}$\\\\'</span>\
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #43783f;">f</span><span style="color: #2aa198;">'$</span><span style="color: #268bd2;">{t_slow:.2f}</span><span style="color: #2aa198;">$}}}}'</span>

<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">else</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;"># out = f'\\cellcolor[HTML]{{d55e00}}\\colorbox[HTML]{{d55e00}}{{\\makecell{{${t_fast:.2f}^f({A_fast:.0%})$\\\\'\</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;">#       f'$</span><span style="color: #268bd2;">{t_slow:.2f}</span><span style="color: #93a1a1;">^s(</span><span style="color: #268bd2;">{A_slow:.0%}</span><span style="color: #93a1a1;">)$}}}}'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">out</span> = <span style="color: #43783f;">f</span><span style="color: #2aa198;">'\\colorbox[HTML]{{d55e00}}{{\\makecell{{${t_fast:.2f}$\\\\'</span>\
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #43783f;">f</span><span style="color: #2aa198;">'$</span><span style="color: #268bd2;">{t_slow:.2f}</span><span style="color: #2aa198;">$}}}}'</span>

<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">out</span> = <span style="color: #7e544f;">out</span>.<span style="color: #784437;">replace</span>(<span style="color: #2aa198;">'%'</span>, <span style="color: #2aa198;">'\\%'</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">return</span> <span style="color: #7e544f;">out</span>


<span style="color: #37785e;">all_param</span>[<span style="color: #2aa198;">'fit results'</span>] = <span style="color: #37785e;">all_param</span>[[<span style="color: #2aa198;">'txy1'</span>, <span style="color: #2aa198;">'txy2'</span>, <span style="color: #2aa198;">'A1'</span>, <span style="color: #2aa198;">'A2'</span>, <span style="color: #2aa198;">'sim'</span>]].<span style="color: #4f5c7e;">apply</span>(<span style="color: #859900; font-weight: bold;">lambda</span> <span style="color: #3f7178;">x</span>: <span style="color: #4f7e67;">sort_fit</span>(<span style="color: #3f7178;">x</span>), <span style="color: #784437;">axis</span>=1)
<span style="color: #268bd2;">all_param</span> = <span style="color: #37785e;">all_param</span>[[<span style="color: #2aa198;">'name_of_plot'</span>, <span style="color: #2aa198;">'sim'</span>, <span style="color: #2aa198;">'components'</span>, <span style="color: #2aa198;">'fit results'</span>]]
<span style="color: #268bd2;">all_param</span> = <span style="color: #37785e;">all_param</span>.<span style="color: #7a4f7e;">pivot_table</span>(<span style="color: #783778;">values</span>=<span style="color: #2aa198;">'fit results'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #784437;">columns</span>=<span style="color: #2aa198;">'sim'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #43783f;">index</span>=[<span style="color: #2aa198;">'name_of_plot'</span>, <span style="color: #2aa198;">'components'</span>],
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #374478;">aggfunc</span>=<span style="color: #859900; font-weight: bold;">lambda</span> <span style="color: #3f7178;">x</span>: <span style="color: #2aa198;">'-'</span>.<span style="color: #784437;">join</span>(<span style="color: #3f7178;">x</span>))
<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">for beamer: only dirty, delete, and cutandshift</span>
<span style="color: #268bd2;">first</span> = [<span style="color: #2aa198;">'dirty'</span>, <span style="color: #2aa198;">'cutandshift'</span>, <span style="color: #2aa198;">'delete'</span>]
<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">dirty, delete, cutandshift, and all models</span>
<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">first = ['dirty', 'cutandshift', 'delete'] + model_name_ls.copy()</span>

<span style="color: #268bd2;">second</span> = [1, 2]
<span style="color: #268bd2;">index_order</span> = <span style="color: #783778;">pd</span>.<span style="color: #784437;">MultiIndex</span>.<span style="color: #43783f;">from_product</span>([<span style="color: #78683f;">first</span>, <span style="color: #4f5c7e;">second</span>],
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #783f5a;">names</span>=[<span style="color: #5e7837;">r</span><span style="color: #2aa198;">'\makecell{type of\\processing}'</span>, <span style="color: #2aa198;">'fit'</span>])
<span style="color: #268bd2;">column_order</span> = [0.069, 0.08, 0.1, 0.2, 0.4, 0.6, 1, 3] <span style="color: #93a1a1;">#, 10, 50]</span>
<span style="color: #268bd2;">all_param</span> = <span style="color: #37785e;">all_param</span>.<span style="color: #783f5a;">reindex</span>(<span style="color: #43783f;">index</span>=<span style="color: #4f5c7e;">index_order</span>, <span style="color: #784437;">columns</span>=<span style="color: #374478;">column_order</span>)
<span style="color: #268bd2;">all_param</span> = <span style="color: #37785e;">all_param</span>.<span style="color: #513f78;">rename_axis</span>(<span style="color: #784437;">columns</span>={<span style="color: #2aa198;">'sim'</span> : <span style="color: #5e7837;">r</span><span style="color: #2aa198;">'\makecell{simulated \tau_D [\unit{\ms}]\\\log 10\% \text{ tol.}}'</span>}) <span style="color: #93a1a1;"># \\(\sim D [\unit[per-mode = fraction]{\micro\metre\squared\per\second}])</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #93a1a1;"># index={'fit' : 'fit^*'})</span>
<span style="color: #268bd2;">all_param</span> = <span style="color: #37785e;">all_param</span>.<span style="color: #707e4f;">rename</span>(<span style="color: #43783f;">index</span>={<span style="color: #2aa198;">'dirty'</span> : <span style="color: #5e7837;">r</span><span style="color: #2aa198;">'\makecell{control:\\no correction}'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">'delete'</span> : <span style="color: #5e7837;">r</span><span style="color: #2aa198;">'\makecell{old method:\\weight=0}'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">'cutandshift'</span> : <span style="color: #5e7837;">r</span><span style="color: #2aa198;">'\makecell{new method:\\cut and shift}'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">'ff67b'</span> : <span style="color: #5e7837;">r</span><span style="color: #2aa198;">'\makecell{prediction model:\\ff67b (\qty{14}{\mega\byte})}'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">'34766'</span> : <span style="color: #5e7837;">r</span><span style="color: #2aa198;">'\makecell{prediction model:\\34766 (\qty{73}{\mega\byte})}'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">'714af'</span> : <span style="color: #5e7837;">r</span><span style="color: #2aa198;">'\makecell{prediction model:\\714af (\qty{234}{\mega\byte})}'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">'34a6d'</span> : <span style="color: #5e7837;">r</span><span style="color: #2aa198;">'\makecell{prediction model:\\34a6d (\qty{7}{\mega\byte})}'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">'484af'</span> : <span style="color: #5e7837;">r</span><span style="color: #2aa198;">'\makecell{prediction model:\\484af (\qty{275}{\mega\byte})}'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">'0cd20'</span> : <span style="color: #5e7837;">r</span><span style="color: #2aa198;">'\makecell{prediction model:\\0cd20 (\qty{200}{\mega\byte})}'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">'fe81d'</span> : <span style="color: #5e7837;">r</span><span style="color: #2aa198;">'\makecell{prediction model:\\fe81d (\qty{186}{\mega\byte})}'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">'19e3e'</span> : <span style="color: #5e7837;">r</span><span style="color: #2aa198;">'\makecell{prediction model:\\19e3e (\qty{172}{\mega\byte})}'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">'c1204'</span> : <span style="color: #5e7837;">r</span><span style="color: #2aa198;">'\makecell{prediction model:\\c1204 (\qty{312}{\mega\byte})}'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   1 : <span style="color: #5e7837;">r</span><span style="color: #2aa198;">'\makecell{1 species}'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   2 : <span style="color: #5e7837;">r</span><span style="color: #2aa198;">'\makecell{2 - fast sp.\\2 - slow sp.}'</span>},
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #784437;">columns</span>={0.069 : <span style="color: #374478;">diffcoeff_to_transittimes</span>(0.069, <span style="color: #513f78;">prec</span>=0),
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  0.08 : <span style="color: #374478;">diffcoeff_to_transittimes</span>(0.08, <span style="color: #513f78;">prec</span>=0),
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  0.1 : <span style="color: #374478;">diffcoeff_to_transittimes</span>(0.1, <span style="color: #513f78;">prec</span>=0),
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  0.2 : <span style="color: #374478;">diffcoeff_to_transittimes</span>(0.2, <span style="color: #513f78;">prec</span>=0),
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  0.4 : <span style="color: #374478;">diffcoeff_to_transittimes</span>(0.4, <span style="color: #513f78;">prec</span>=0),
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  0.6 : <span style="color: #374478;">diffcoeff_to_transittimes</span>(0.6, <span style="color: #513f78;">prec</span>=0),
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  1 : <span style="color: #374478;">diffcoeff_to_transittimes</span>(1, <span style="color: #513f78;">prec</span>=1),
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  3 : <span style="color: #374478;">diffcoeff_to_transittimes</span>(3, <span style="color: #513f78;">prec</span>=2)})
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #93a1a1;"># 10 : diffcoeff_to_transittimes(10, prec=3),</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #93a1a1;"># 50 : diffcoeff_to_transittimes(50, prec=4)</span>



<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">for creation of multiindex:</span>
<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">predictions_mi = len(predictions) * ['prediction',]</span>
<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">column_multiindex = ['no correction', 'control', 'control'] + predictions_mi</span>
<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">column_tuple = list(zip(column_multiindex, column_order))</span>
<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">all_param.columns = pd.MultiIndex.from_tuples(column_tuple)</span>

<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">for nanoletters</span>
<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">with pd.option_context("max_colwidth", 1000):</span>
<span style="color: #93a1a1;">#     </span><span style="color: #93a1a1;">print(all_param.to_latex(escape=False,</span>
<span style="color: #93a1a1;">#                              </span><span style="color: #93a1a1;">column_format='cccccccccccccccccccc',</span>
<span style="color: #93a1a1;">#                              </span><span style="color: #93a1a1;">multicolumn_format='c',</span>
<span style="color: #93a1a1;">#                              </span><span style="color: #93a1a1;">longtable=True,</span>
<span style="color: #93a1a1;">#                              </span><span style="color: #93a1a1;">caption=('Justification of "cut and shift" in simulated fluorescence traces, and comparison of different models for prediction followed by "cut and shift" correction', 'Simulated data - correction results')))</span>
<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">for beamer</span>
<span style="color: #859900; font-weight: bold;">with</span> <span style="color: #783778;">pd</span>.<span style="color: #5e7837;">option_context</span>(<span style="color: #2aa198;">"max_colwidth"</span>, 1000):
<span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">print</span>(<span style="color: #37785e;">all_param</span>.<span style="color: #783778;">to_latex</span>(<span style="color: #5e7837;">escape</span>=<span style="color: #859900; font-weight: bold;">False</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #78683f;">column_format</span>=<span style="color: #2aa198;">'ccrrrrrrrrrrrrrrrrrr'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #374478;">multicolumn_format</span>=<span style="color: #2aa198;">'c'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #37785e;">caption</span>=(<span style="color: #2aa198;">'"cut and shift" vs old correction method in simulated fluorescence traces'</span>, <span style="color: #2aa198;">'Simulated data - correction results'</span>)))


<span style="color: #37785e;">all_param</span>
</pre>
</div>

<pre class="example">
\begin{table}
\centering
\caption[Simulated data - correction results]{"cut and shift" vs old correction method in simulated fluorescence traces}
\begin{tabular}{ccrrrrrrrrrrrrrrrrrr}
\toprule
                                 &amp; \makecell{simulated \tau_D [\unit{\ms}]\\\log 10\% \text{ tol.}} &amp;                     \makecell{$163$\\$\textbf{98-272}$} &amp;                     \makecell{$141$\\$\textbf{86-231}$} &amp;                     \makecell{$113$\\$\textbf{70-181}$} &amp;                       \makecell{$56$\\$\textbf{38-84}$} &amp;                      \makecell{$28$\\$\textbf{20-39}$} &amp;                      \makecell{$19$\\$\textbf{14-25}$} &amp;                  \makecell{$11.3$\\$\textbf{8.8-14.4}$} &amp;                \makecell{$3.76$\\$\textbf{3.29-4.29}$} \\
\makecell{type of\\processing} &amp; fit &amp;                                                         &amp;                                                         &amp;                                                         &amp;                                                         &amp;                                                        &amp;                                                        &amp;                                                         &amp;                                                        \\
\midrule
\makecell{control:\\no correction} &amp; \makecell{1 species} &amp;             \colorbox[HTML]{d55e00}{\makecell{$58.92$}} &amp;            \colorbox[HTML]{009e73}{\makecell{$142.83$}} &amp;             \colorbox[HTML]{009e73}{\makecell{$80.93$}} &amp;            \colorbox[HTML]{d55e00}{\makecell{$145.00$}} &amp;            \colorbox[HTML]{009e73}{\makecell{$27.55$}} &amp;            \colorbox[HTML]{d55e00}{\makecell{$54.11$}} &amp;            \colorbox[HTML]{d55e00}{\makecell{$110.39$}} &amp;           \colorbox[HTML]{d55e00}{\makecell{$287.87$}} \\
                                 &amp; \makecell{2 - fast sp.\\2 - slow sp.} &amp;   \colorbox[HTML]{009e73}{\makecell{$15.85$\\$229.90$}} &amp;   \colorbox[HTML]{d55e00}{\makecell{$70.02$\\$445.84$}} &amp;   \colorbox[HTML]{009e73}{\makecell{$12.82$\\$138.39$}} &amp;   \colorbox[HTML]{009e73}{\makecell{$53.66$\\$446.38$}} &amp;  \colorbox[HTML]{d55e00}{\makecell{$13.17$\\$383.01$}} &amp;  \colorbox[HTML]{009e73}{\makecell{$16.68$\\$424.67$}} &amp;   \colorbox[HTML]{d55e00}{\makecell{$47.23$\\$284.90$}} &amp;  \colorbox[HTML]{d55e00}{\makecell{$16.59$\\$643.73$}} \\
\makecell{new method:\\cut and shift} &amp; \makecell{1 species} &amp;            \colorbox[HTML]{009e73}{\makecell{$161.43$}} &amp;            \colorbox[HTML]{009e73}{\makecell{$130.03$}} &amp;            \colorbox[HTML]{009e73}{\makecell{$100.67$}} &amp;             \colorbox[HTML]{009e73}{\makecell{$53.11$}} &amp;            \colorbox[HTML]{009e73}{\makecell{$26.25$}} &amp;            \colorbox[HTML]{009e73}{\makecell{$17.43$}} &amp;             \colorbox[HTML]{009e73}{\makecell{$11.52$}} &amp;             \colorbox[HTML]{009e73}{\makecell{$3.62$}} \\
&amp; \makecell{2 - fast sp.\\2 - slow sp.} &amp;  \colorbox[HTML]{009e73}{\makecell{$120.86$\\$429.73$}} &amp;    \colorbox[HTML]{009e73}{\makecell{$4.33$\\$131.89$}} &amp;  \colorbox[HTML]{009e73}{\makecell{$100.67$\\$100.68$}} &amp;     \colorbox[HTML]{009e73}{\makecell{$0.00$\\$53.11$}} &amp;    \colorbox[HTML]{009e73}{\makecell{$0.01$\\$26.34$}} &amp;            \colorbox[HTML]{009e73}{\makecell{$17.43$}} &amp;             \colorbox[HTML]{009e73}{\makecell{$11.52$}} &amp;     \colorbox[HTML]{009e73}{\makecell{$3.62$\\$3.62$}} \\
\makecell{old method:\\weight=0} &amp; \makecell{1 species} &amp;            \colorbox[HTML]{d55e00}{\makecell{$383.41$}} &amp;            \colorbox[HTML]{d55e00}{\makecell{$253.55$}} &amp;            \colorbox[HTML]{d55e00}{\makecell{$293.12$}} &amp;            \colorbox[HTML]{d55e00}{\makecell{$301.92$}} &amp;           \colorbox[HTML]{d55e00}{\makecell{$287.00$}} &amp;           \colorbox[HTML]{d55e00}{\makecell{$143.32$}} &amp;            \colorbox[HTML]{d55e00}{\makecell{$142.88$}} &amp;           \colorbox[HTML]{d55e00}{\makecell{$362.80$}} \\
                                 &amp; \makecell{2 - fast sp.\\2 - slow sp.} &amp;   \colorbox[HTML]{d55e00}{\makecell{$28.66$\\$819.05$}} &amp;  \colorbox[HTML]{d55e00}{\makecell{$45.97$\\$1158.57$}} &amp;   \colorbox[HTML]{d55e00}{\makecell{$36.14$\\$723.50$}} &amp;  \colorbox[HTML]{009e73}{\makecell{$44.09$\\$1733.81$}} &amp;  \colorbox[HTML]{d55e00}{\makecell{$19.30$\\$747.77$}} &amp;  \colorbox[HTML]{d55e00}{\makecell{$10.94$\\$211.09$}} &amp;  \colorbox[HTML]{d55e00}{\makecell{$34.31$\\$1041.96$}} &amp;  \colorbox[HTML]{d55e00}{\makecell{$20.37$\\$775.82$}} \\
\bottomrule
\end{tabular}
\end{table}
</pre>
<table class="table table-striped table-bordered table-hover table-condensed">


<colgroup>
<col  class="left">

<col  class="left">

<col  class="left">

<col  class="left">

<col  class="left">

<col  class="left">

<col  class="left">

<col  class="left">

<col  class="left">

<col  class="left">
</colgroup>
<thead>
<tr>
<th scope="col" class="text-left">&#xa0;</th>
<th scope="col" class="text-left">\makecell{simulated &tau;<sub>D</sub> [\unit{\ms}]\\log 10\% \text{ tol.}}</th>
<th scope="col" class="text-left">\makecell{$163$\\\(\textbf{98-272}\)}</th>
<th scope="col" class="text-left">\makecell{$141$\\\(\textbf{86-231}\)}</th>
<th scope="col" class="text-left">\makecell{$113$\\\(\textbf{70-181}\)}</th>
<th scope="col" class="text-left">\makecell{$56$\\\(\textbf{38-84}\)}</th>
<th scope="col" class="text-left">\makecell{$28$\\\(\textbf{20-39}\)}</th>
<th scope="col" class="text-left">\makecell{$19$\\\(\textbf{14-25}\)}</th>
<th scope="col" class="text-left">\makecell{$11.3$\\\(\textbf{8.8-14.4}\)}</th>
<th scope="col" class="text-left">\makecell{$3.76$\\\(\textbf{3.29-4.29}\)}</th>
</tr>
</thead>
<tbody>
<tr>
<td class="text-left">\makecell{type of\\processing}</td>
<td class="text-left">fit</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">\makecell{control:\\no correction}</td>
<td class="text-left">\makecell{1 species}</td>
<td class="text-left">\colorbox[HTML]{d55e00}{\makecell{$58.92$}}</td>
<td class="text-left">\colorbox[HTML]{009e73}{\makecell{$142.83$}}</td>
<td class="text-left">\colorbox[HTML]{009e73}{\makecell{$80.93$}}</td>
<td class="text-left">\colorbox[HTML]{d55e00}{\makecell{$145.00$}}</td>
<td class="text-left">\colorbox[HTML]{009e73}{\makecell{$27.55$}}</td>
<td class="text-left">\colorbox[HTML]{d55e00}{\makecell{$54.11$}}</td>
<td class="text-left">\colorbox[HTML]{d55e00}{\makecell{$110.39$}}</td>
<td class="text-left">\colorbox[HTML]{d55e00}{\makecell{$287.87$}}</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">\makecell{2 - fast sp.\\2 - slow sp.}</td>
<td class="text-left">\colorbox[HTML]{009e73}{\makecell{$15.85$\\$22&#x2026;</td>
<td class="text-left">\colorbox[HTML]{d55e00}{\makecell{$70.02$\\$44&#x2026;</td>
<td class="text-left">\colorbox[HTML]{009e73}{\makecell{$12.82$\\$13&#x2026;</td>
<td class="text-left">\colorbox[HTML]{009e73}{\makecell{$53.66$\\$44&#x2026;</td>
<td class="text-left">\colorbox[HTML]{d55e00}{\makecell{$13.17$\\$38&#x2026;</td>
<td class="text-left">\colorbox[HTML]{009e73}{\makecell{$16.68$\\$42&#x2026;</td>
<td class="text-left">\colorbox[HTML]{d55e00}{\makecell{$47.23$\\$28&#x2026;</td>
<td class="text-left">\colorbox[HTML]{d55e00}{\makecell{$16.59$\\$64&#x2026;</td>
</tr>

<tr>
<td class="text-left">\makecell{new method:\\cut and shift}</td>
<td class="text-left">\makecell{1 species}</td>
<td class="text-left">\colorbox[HTML]{009e73}{\makecell{$161.43$}}</td>
<td class="text-left">\colorbox[HTML]{009e73}{\makecell{$130.03$}}</td>
<td class="text-left">\colorbox[HTML]{009e73}{\makecell{$100.67$}}</td>
<td class="text-left">\colorbox[HTML]{009e73}{\makecell{$53.11$}}</td>
<td class="text-left">\colorbox[HTML]{009e73}{\makecell{$26.25$}}</td>
<td class="text-left">\colorbox[HTML]{009e73}{\makecell{$17.43$}}</td>
<td class="text-left">\colorbox[HTML]{009e73}{\makecell{$11.52$}}</td>
<td class="text-left">\colorbox[HTML]{009e73}{\makecell{$3.62$}}</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">\makecell{2 - fast sp.\\2 - slow sp.}</td>
<td class="text-left">\colorbox[HTML]{009e73}{\makecell{$120.86$\\$4&#x2026;</td>
<td class="text-left">\colorbox[HTML]{009e73}{\makecell{$4.33$\\$131&#x2026;</td>
<td class="text-left">\colorbox[HTML]{009e73}{\makecell{$100.67$\\$1&#x2026;</td>
<td class="text-left">\colorbox[HTML]{009e73}{\makecell{$0.00$\\$53&#x2026;.</td>
<td class="text-left">\colorbox[HTML]{009e73}{\makecell{$0.01$\\$26&#x2026;.</td>
<td class="text-left">\colorbox[HTML]{009e73}{\makecell{$17.43$}}</td>
<td class="text-left">\colorbox[HTML]{009e73}{\makecell{$11.52$}}</td>
<td class="text-left">\colorbox[HTML]{009e73}{\makecell{$3.62$\\$3.6&#x2026;</td>
</tr>

<tr>
<td class="text-left">\makecell{old method:\\weight=0}</td>
<td class="text-left">\makecell{1 species}</td>
<td class="text-left">\colorbox[HTML]{d55e00}{\makecell{$383.41$}}</td>
<td class="text-left">\colorbox[HTML]{d55e00}{\makecell{$253.55$}}</td>
<td class="text-left">\colorbox[HTML]{d55e00}{\makecell{$293.12$}}</td>
<td class="text-left">\colorbox[HTML]{d55e00}{\makecell{$301.92$}}</td>
<td class="text-left">\colorbox[HTML]{d55e00}{\makecell{$287.00$}}</td>
<td class="text-left">\colorbox[HTML]{d55e00}{\makecell{$143.32$}}</td>
<td class="text-left">\colorbox[HTML]{d55e00}{\makecell{$142.88$}}</td>
<td class="text-left">\colorbox[HTML]{d55e00}{\makecell{$362.80$}}</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">\makecell{2 - fast sp.\\2 - slow sp.}</td>
<td class="text-left">\colorbox[HTML]{d55e00}{\makecell{$28.66$\\$81&#x2026;</td>
<td class="text-left">\colorbox[HTML]{d55e00}{\makecell{$45.97$\\$11&#x2026;</td>
<td class="text-left">\colorbox[HTML]{d55e00}{\makecell{$36.14$\\$72&#x2026;</td>
<td class="text-left">\colorbox[HTML]{009e73}{\makecell{$44.09$\\$17&#x2026;</td>
<td class="text-left">\colorbox[HTML]{d55e00}{\makecell{$19.30$\\$74&#x2026;</td>
<td class="text-left">\colorbox[HTML]{d55e00}{\makecell{$10.94$\\$21&#x2026;</td>
<td class="text-left">\colorbox[HTML]{d55e00}{\makecell{$34.31$\\$10&#x2026;</td>
<td class="text-left">\colorbox[HTML]{d55e00}{\makecell{$20.37$\\$77&#x2026;</td>
</tr>
</tbody>
</table>
</details>
</li>

<li>I copied the latex code in the latex online editor Overleaf and compiled it
there. The rendered PDF looks like this for the beamer slide:

<embed src="./other/sim_models_beamer_table.pdf" width="100%" height="500px" />
</li>

<li>and here the rendered PDF of a long table
<embed src="./other/sim_models_longtable.pdf" width="100%" height="500px" />
</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-sec-2-1-12" class="outline-4">
<h4 id="sec-2-1-12"><span class="section-number-4">2.1.12</span> Experiment 3: Run models on experimental data</h4>
<div class="outline-text-4" id="text-2-1-12">
</div><div id="outline-container-sec-2-1-12-1" class="outline-5">
<h5 id="sec-2-1-12-1"><span class="section-number-5">2.1.12.1</span> node 1 (overview)</h5>
<div class="outline-text-5" id="text-2-1-12-1">
<ul class="org-ul">
<li>this is the <code>prepare-jupyter</code> function
<details>
<div class="org-src-container">

<pre class="src src-jupyter-python" id="prepare-jupyter">%<span style="color: #707e4f;">cd</span> /<span style="color: #5e7837;">beegfs</span>/<span style="color: #7a4f7e;">ye53nis</span>/<span style="color: #784437;">drmed</span>-<span style="color: #784437;">git</span>
<span style="color: #859900; font-weight: bold;">import</span> <span style="color: #7a4f7e;">logging</span>
<span style="color: #859900; font-weight: bold;">import</span> <span style="color: #7e544f;">os</span>
<span style="color: #859900; font-weight: bold;">import</span> <span style="color: #513f78;">sys</span>

<span style="color: #859900; font-weight: bold;">import</span> <span style="color: #37785e;">matplotlib</span>.<span style="color: #4f7e67;">pyplot</span> <span style="color: #859900; font-weight: bold;">as</span> <span style="color: #4f7e67;">plt</span>
<span style="color: #859900; font-weight: bold;">import</span> <span style="color: #4f5c7e;">numpy</span> <span style="color: #859900; font-weight: bold;">as</span> <span style="color: #707e4f;">np</span>
<span style="color: #859900; font-weight: bold;">import</span> <span style="color: #5e7837;">pandas</span> <span style="color: #859900; font-weight: bold;">as</span> <span style="color: #783778;">pd</span>
<span style="color: #859900; font-weight: bold;">import</span> <span style="color: #78683f;">seaborn</span> <span style="color: #859900; font-weight: bold;">as</span> <span style="color: #4f5c7e;">sns</span>

<span style="color: #859900; font-weight: bold;">from</span> <span style="color: #43783f;">pathlib</span> <span style="color: #859900; font-weight: bold;">import</span> <span style="color: #78683f;">Path</span>
<span style="color: #859900; font-weight: bold;">from</span> <span style="color: #4f7e67;">pprint</span> <span style="color: #859900; font-weight: bold;">import</span> <span style="color: #4f7e67;">pprint</span>
<span style="color: #859900; font-weight: bold;">from</span> <span style="color: #513f78;">tensorflow</span>.<span style="color: #784437;">keras</span>.<span style="color: #43783f;">optimizers</span> <span style="color: #859900; font-weight: bold;">import</span> <span style="color: #783778;">Adam</span>
<span style="color: #859900; font-weight: bold;">from</span> <span style="color: #5e7837;">mlflow</span>.<span style="color: #784437;">keras</span> <span style="color: #859900; font-weight: bold;">import</span> <span style="color: #783f5a;">load_model</span>

<span style="color: #268bd2;">FLUOTRACIFY_PATH</span> = <span style="color: #2aa198;">'/beegfs/ye53nis/drmed-git/src/'</span>
<span style="color: #513f78;">sys</span>.<span style="color: #513f78;">path</span>.<span style="color: #5e7837;">append</span>(<span style="color: #784437;">FLUOTRACIFY_PATH</span>)
<span style="color: #859900; font-weight: bold;">from</span> <span style="color: #783778;">fluotracify</span>.<span style="color: #4f5c7e;">applications</span> <span style="color: #859900; font-weight: bold;">import</span> <span style="color: #3f7178;">corr_fit_object</span> <span style="color: #859900; font-weight: bold;">as</span> <span style="color: #78683f;">cfo</span>
<span style="color: #859900; font-weight: bold;">from</span> <span style="color: #783778;">fluotracify</span>.<span style="color: #3f7178;">training</span> <span style="color: #859900; font-weight: bold;">import</span> <span style="color: #783778;">build_model</span> <span style="color: #859900; font-weight: bold;">as</span> <span style="color: #374478;">bm</span>

<span style="color: #268bd2;">data_path</span> = <span style="color: #78683f;">Path</span>(<span style="color: #513f78;">data_path</span>)
<span style="color: #268bd2;">output_path</span> = <span style="color: #78683f;">Path</span>(<span style="color: #37785e;">output_path</span>)
<span style="color: #268bd2;">log_path</span> = <span style="color: #37785e;">output_path</span>.<span style="color: #374478;">parent</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'</span><span style="color: #268bd2;">{output_path.name}</span><span style="color: #2aa198;">.log'</span>

<span style="color: #7a4f7e;">logging</span>.<span style="color: #7e544f;">basicConfig</span>(<span style="color: #43783f;">filename</span>=<span style="color: #43783f;">log_path</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #783778;">filemode</span>=<span style="color: #2aa198;">'w'</span>, <span style="color: #657b83; font-weight: bold;">format</span>=<span style="color: #2aa198;">'%(asctime)s - %(message)s'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #374478;">force</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #268bd2;">log</span> = <span style="color: #7a4f7e;">logging</span>.<span style="color: #784437;">getLogger</span>(<span style="color: #657b83; font-weight: bold;">__name__</span>)
<span style="color: #78683f;">log</span>.<span style="color: #4f5c7e;">setLevel</span>(<span style="color: #7a4f7e;">logging</span>.<span style="color: #783778;">DEBUG</span>)

<span style="color: #4f5c7e;">sns</span>.<span style="color: #374478;">set_theme</span>(<span style="color: #3f7178;">style</span>=<span style="color: #2aa198;">"whitegrid"</span>, <span style="color: #784437;">font_scale</span>=2, <span style="color: #5e7837;">palette</span>=<span style="color: #2aa198;">'colorblind'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #4f7e67;">context</span>=<span style="color: #2aa198;">'paper'</span>)
<span style="color: #859900; font-weight: bold;">class</span> <span style="color: #b58900;">ParameterClass</span>():
<span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">"""Stores parameters for correlation """</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">def</span> <span style="color: #268bd2;">__init__</span>(<span style="color: #859900; font-weight: bold;">self</span>):
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;"># Where the data is stored.</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">self</span><span style="color: #268bd2;">.data</span> = []
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">self</span><span style="color: #268bd2;">.objectRef</span> = []
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">self</span><span style="color: #268bd2;">.subObjectRef</span> = []
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">self</span><span style="color: #268bd2;">.colors</span> = [<span style="color: #2aa198;">'blue'</span>, <span style="color: #2aa198;">'green'</span>, <span style="color: #2aa198;">'red'</span>, <span style="color: #2aa198;">'cyan'</span>, <span style="color: #2aa198;">'magenta'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #2aa198;">'yellow'</span>, <span style="color: #2aa198;">'black'</span>]
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">self</span><span style="color: #268bd2;">.numOfLoaded</span> = 0
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;"># very fast from Ncasc ~ 14 onwards</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">self</span><span style="color: #268bd2;">.NcascStart</span> = 0
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">self</span><span style="color: #268bd2;">.NcascEnd</span> = 30  <span style="color: #93a1a1;"># 25</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">self</span><span style="color: #268bd2;">.Nsub</span> = 6  <span style="color: #93a1a1;"># 6</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">self</span><span style="color: #268bd2;">.photonLifetimeBin</span> = 10  <span style="color: #93a1a1;"># used for photon decay</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">self</span><span style="color: #268bd2;">.photonCountBin</span> = 1  <span style="color: #93a1a1;"># used for time series</span>

<span style="color: #268bd2;">par_obj</span> = <span style="color: #4f7e67;">ParameterClass</span>()

<span style="color: #268bd2;">model_ls</span> = [<span style="color: #2aa198;">'ff67be0b68e540a9a29a36a2d0c7a5be'</span>, <span style="color: #2aa198;">'347669d050f344ad9fb9e480c814f727'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">'714af8cd12c1441eac4ca980e8c20070'</span>, <span style="color: #2aa198;">'34a6d207ac594035b1009c330fb67a65'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">'484af471c61943fa90e5f78e78a229f0'</span>, <span style="color: #2aa198;">'0cd2023eeaf745aca0d3e8ad5e1fc653'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">'fe81d71c52404ed790b3a32051258da9'</span>, <span style="color: #2aa198;">'19e3e786e1bc4e2b93856f5dc9de8216'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">'c1204e3a8a1e4c40a35b5b7b1922d1ce'</span>]

<span style="color: #268bd2;">model_name_ls</span> = [<span style="color: #43783f;">f</span><span style="color: #2aa198;">'</span><span style="color: #268bd2;">{s:.5}</span><span style="color: #2aa198;">'</span> <span style="color: #859900; font-weight: bold;">for</span> <span style="color: #784437;">s</span> <span style="color: #859900; font-weight: bold;">in</span> <span style="color: #513f78;">model_ls</span>]

<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">scaler_ls = ['minmax', 'robust', 'maxabs', 'l2', 'standard', 'quant_g', 'standard',</span>
<span style="color: #93a1a1;">#              </span><span style="color: #93a1a1;">'standard', 'robust']</span>

<span style="color: #268bd2;">pred_thresh</span> = 0.5

<span style="color: #859900; font-weight: bold;">if</span> <span style="color: #268bd2;">data_path.name</span> == <span style="color: #2aa198;">"1911DD_atto+LUVs"</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">path_clean1</span> = <span style="color: #513f78;">data_path</span> / <span style="color: #2aa198;">'clean_ptu_part1/'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">path_clean2</span> = <span style="color: #513f78;">data_path</span> / <span style="color: #2aa198;">'clean_ptu_part2/'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">path_dirty1</span> = <span style="color: #513f78;">data_path</span> / <span style="color: #2aa198;">'dirty_ptu_part1/'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">path_dirty2</span> = <span style="color: #513f78;">data_path</span> / <span style="color: #2aa198;">'dirty_ptu_part2/'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">files_clean1</span> = [<span style="color: #4f5c7e;">path_clean1</span> / <span style="color: #43783f;">f</span> <span style="color: #859900; font-weight: bold;">for</span> <span style="color: #43783f;">f</span> <span style="color: #859900; font-weight: bold;">in</span> <span style="color: #7e544f;">os</span>.<span style="color: #783778;">listdir</span>(<span style="color: #4f5c7e;">path_clean1</span>) <span style="color: #859900; font-weight: bold;">if</span> <span style="color: #43783f;">f</span>.<span style="color: #783778;">endswith</span>(<span style="color: #2aa198;">'.ptu'</span>)]
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">files_clean2</span> = [<span style="color: #783f5a;">path_clean2</span> / <span style="color: #43783f;">f</span> <span style="color: #859900; font-weight: bold;">for</span> <span style="color: #43783f;">f</span> <span style="color: #859900; font-weight: bold;">in</span> <span style="color: #7e544f;">os</span>.<span style="color: #783778;">listdir</span>(<span style="color: #783f5a;">path_clean2</span>) <span style="color: #859900; font-weight: bold;">if</span> <span style="color: #43783f;">f</span>.<span style="color: #783778;">endswith</span>(<span style="color: #2aa198;">'.ptu'</span>)]
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">files_dirty1</span> = [<span style="color: #3f7178;">path_dirty1</span> / <span style="color: #43783f;">f</span> <span style="color: #859900; font-weight: bold;">for</span> <span style="color: #43783f;">f</span> <span style="color: #859900; font-weight: bold;">in</span> <span style="color: #7e544f;">os</span>.<span style="color: #783778;">listdir</span>(<span style="color: #3f7178;">path_dirty1</span>) <span style="color: #859900; font-weight: bold;">if</span> <span style="color: #43783f;">f</span>.<span style="color: #783778;">endswith</span>(<span style="color: #2aa198;">'.ptu'</span>)]
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">files_dirty2</span> = [<span style="color: #784437;">path_dirty2</span> / <span style="color: #43783f;">f</span> <span style="color: #859900; font-weight: bold;">for</span> <span style="color: #43783f;">f</span> <span style="color: #859900; font-weight: bold;">in</span> <span style="color: #7e544f;">os</span>.<span style="color: #783778;">listdir</span>(<span style="color: #784437;">path_dirty2</span>) <span style="color: #859900; font-weight: bold;">if</span> <span style="color: #43783f;">f</span>.<span style="color: #783778;">endswith</span>(<span style="color: #2aa198;">'.ptu'</span>)]

<span style="color: #859900; font-weight: bold;">if</span> <span style="color: #268bd2;">data_path.name</span> == <span style="color: #2aa198;">"191113_Pex5_2_structured"</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">path_clean</span> = <span style="color: #513f78;">data_path</span> / <span style="color: #2aa198;">'HsPEX5EGFP 1-100001'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">path_dirty</span> = <span style="color: #513f78;">data_path</span> / <span style="color: #2aa198;">'TbPEX5EGFP 1-10002'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">files_clean</span> = [<span style="color: #5e7837;">path_clean</span> / <span style="color: #43783f;">f</span> <span style="color: #859900; font-weight: bold;">for</span> <span style="color: #43783f;">f</span> <span style="color: #859900; font-weight: bold;">in</span> <span style="color: #7e544f;">os</span>.<span style="color: #783778;">listdir</span>(<span style="color: #5e7837;">path_clean</span>) <span style="color: #859900; font-weight: bold;">if</span> <span style="color: #43783f;">f</span>.<span style="color: #783778;">endswith</span>(<span style="color: #2aa198;">'.ptu'</span>)]
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">files_dirty</span> = [<span style="color: #783778;">path_dirty</span> / <span style="color: #43783f;">f</span> <span style="color: #859900; font-weight: bold;">for</span> <span style="color: #43783f;">f</span> <span style="color: #859900; font-weight: bold;">in</span> <span style="color: #7e544f;">os</span>.<span style="color: #783778;">listdir</span>(<span style="color: #783778;">path_dirty</span>) <span style="color: #859900; font-weight: bold;">if</span> <span style="color: #43783f;">f</span>.<span style="color: #783778;">endswith</span>(<span style="color: #2aa198;">'.ptu'</span>)]

<span style="color: #859900; font-weight: bold;">def</span> <span style="color: #268bd2;">predict_correct_correlate_ptu</span>(<span style="color: #3f7178;">files</span>, <span style="color: #5e7837;">model_id</span>, <span style="color: #783778;">method</span>, <span style="color: #513f78;">out_path</span>):

<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">logged_scaler</span> = <span style="color: #78683f;">Path</span>(<span style="color: #43783f;">f</span><span style="color: #2aa198;">'/beegfs/ye53nis/drmed-git/data/mlruns/10/{model_ls[model_id]}/params/scaler'</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">logged_scaler</span> = !<span style="color: #4f7e67;">cat</span> $<span style="color: #783f5a;">logged_scaler</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">logged_scaler</span> = <span style="color: #783f5a;">logged_scaler</span>[0]

<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">logged_model</span> = <span style="color: #78683f;">Path</span>(<span style="color: #43783f;">f</span><span style="color: #2aa198;">'/beegfs/ye53nis/drmed-git/data/mlruns/10/{model_ls[model_id]}/artifacts/model'</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">logged_model</span> = <span style="color: #783f5a;">load_model</span>(<span style="color: #783f5a;">logged_model</span>, <span style="color: #657b83; font-weight: bold;">compile</span>=<span style="color: #859900; font-weight: bold;">False</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="color: #783f5a;">logged_model</span>.<span style="color: #374478;">compile</span>(<span style="color: #783f5a;">loss</span>=<span style="color: #374478;">bm</span>.<span style="color: #783f5a;">binary_ce_dice_loss</span>(),
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #7a4f7e;">optimizer</span>=<span style="color: #783778;">Adam</span>(),
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #43783f;">metrics</span> = <span style="color: #374478;">bm</span>.<span style="color: #374478;">unet_metrics</span>([0.1, 0.3, 0.5, 0.7, 0.9]))
<span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">if</span> <span style="color: #268bd2;">method</span> == <span style="color: #2aa198;">'delete_and_shift'</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">method_str</span> = <span style="color: #2aa198;">'DELSHIFT'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">elif</span> <span style="color: #268bd2;">method</span> == <span style="color: #2aa198;">'delete'</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">method_str</span> = <span style="color: #2aa198;">'DEL'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">for</span> <span style="color: #78683f;">idx</span>, <span style="color: #784437;">myfile</span> <span style="color: #859900; font-weight: bold;">in</span> <span style="color: #657b83; font-weight: bold;">enumerate</span>(<span style="color: #3f7178;">files</span>):
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">ptufile</span> = <span style="color: #78683f;">cfo</span>.<span style="color: #5e7837;">PicoObject</span>(<span style="color: #784437;">myfile</span>, <span style="color: #37785e;">par_obj</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">ptufile</span>.<span style="color: #37785e;">predictTimeSeries</span>(<span style="color: #43783f;">model</span>=<span style="color: #783f5a;">logged_model</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #4f5c7e;">scaler</span>=<span style="color: #783f5a;">logged_scaler</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">ptufile</span>.<span style="color: #37785e;">correctTCSPC</span>(<span style="color: #783778;">method</span>=<span style="color: #783778;">method</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">for</span> <span style="color: #3f7178;">key</span> <span style="color: #859900; font-weight: bold;">in</span> <span style="color: #657b83; font-weight: bold;">list</span>(<span style="color: #3f7178;">ptufile</span>.<span style="color: #7a4f7e;">trueTimeArr</span>.<span style="color: #78683f;">keys</span>()):
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">if</span> <span style="color: #783778;">method_str</span> <span style="color: #859900; font-weight: bold;">in</span> <span style="color: #268bd2;">key</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">ptufile</span>.<span style="color: #4f5c7e;">get_autocorrelation</span>(<span style="color: #783778;">method</span>=<span style="color: #2aa198;">'tttr2xfcs'</span>, <span style="color: #374478;">name</span>=<span style="color: #3f7178;">key</span>)


<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">for</span> <span style="color: #5e7837;">m</span> <span style="color: #859900; font-weight: bold;">in</span> [<span style="color: #2aa198;">'multipletau'</span>, <span style="color: #2aa198;">'tttr2xfcs'</span>, <span style="color: #2aa198;">'tttr2xfcs_with_weights'</span>]:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">if</span> <span style="color: #5e7837;">m</span> <span style="color: #859900; font-weight: bold;">in</span> <span style="color: #657b83; font-weight: bold;">list</span>(<span style="color: #3f7178;">ptufile</span>.<span style="color: #5e7837;">autoNorm</span>.<span style="color: #78683f;">keys</span>()):
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">for</span> <span style="color: #3f7178;">key</span>, <span style="color: #43783f;">item</span> <span style="color: #859900; font-weight: bold;">in</span> <span style="color: #657b83; font-weight: bold;">list</span>(<span style="color: #3f7178;">ptufile</span>.<span style="color: #5e7837;">autoNorm</span>[<span style="color: #5e7837;">m</span>].<span style="color: #374478;">items</span>()):
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">if</span> <span style="color: #783778;">method_str</span> <span style="color: #859900; font-weight: bold;">in</span> <span style="color: #268bd2;">key</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">ptufile</span>.<span style="color: #7a4f7e;">save_autocorrelation</span>(<span style="color: #374478;">name</span>=<span style="color: #3f7178;">key</span>, <span style="color: #783778;">method</span>=<span style="color: #5e7837;">m</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #37785e;">output_path</span>=<span style="color: #513f78;">out_path</span>)


<span style="color: #859900; font-weight: bold;">def</span> <span style="color: #268bd2;">correlate_ptu</span>(<span style="color: #3f7178;">files</span>, <span style="color: #513f78;">out_path</span>):
<span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">for</span> <span style="color: #78683f;">idx</span>, <span style="color: #784437;">myfile</span> <span style="color: #859900; font-weight: bold;">in</span> <span style="color: #657b83; font-weight: bold;">enumerate</span>(<span style="color: #3f7178;">files</span>):
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">ptufile</span> = <span style="color: #78683f;">cfo</span>.<span style="color: #5e7837;">PicoObject</span>(<span style="color: #784437;">myfile</span>, <span style="color: #37785e;">par_obj</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">for</span> <span style="color: #3f7178;">key</span> <span style="color: #859900; font-weight: bold;">in</span> <span style="color: #657b83; font-weight: bold;">list</span>(<span style="color: #3f7178;">ptufile</span>.<span style="color: #7a4f7e;">trueTimeArr</span>.<span style="color: #78683f;">keys</span>()):
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">ptufile</span>.<span style="color: #4f5c7e;">get_autocorrelation</span>(<span style="color: #783778;">method</span>=<span style="color: #2aa198;">'tttr2xfcs'</span>, <span style="color: #374478;">name</span>=<span style="color: #3f7178;">key</span>)


<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">for</span> <span style="color: #5e7837;">m</span> <span style="color: #859900; font-weight: bold;">in</span> [<span style="color: #2aa198;">'multipletau'</span>, <span style="color: #2aa198;">'tttr2xfcs'</span>, <span style="color: #2aa198;">'tttr2xfcs_with_weights'</span>]:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">if</span> <span style="color: #5e7837;">m</span> <span style="color: #859900; font-weight: bold;">in</span> <span style="color: #657b83; font-weight: bold;">list</span>(<span style="color: #3f7178;">ptufile</span>.<span style="color: #5e7837;">autoNorm</span>.<span style="color: #78683f;">keys</span>()):
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">for</span> <span style="color: #3f7178;">key</span>, <span style="color: #43783f;">item</span> <span style="color: #859900; font-weight: bold;">in</span> <span style="color: #657b83; font-weight: bold;">list</span>(<span style="color: #3f7178;">ptufile</span>.<span style="color: #5e7837;">autoNorm</span>[<span style="color: #5e7837;">m</span>].<span style="color: #374478;">items</span>()):
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">ptufile</span>.<span style="color: #7a4f7e;">save_autocorrelation</span>(<span style="color: #374478;">name</span>=<span style="color: #3f7178;">key</span>, <span style="color: #783778;">method</span>=<span style="color: #5e7837;">m</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #37785e;">output_path</span>=<span style="color: #513f78;">out_path</span>)


</pre>
</div>
</details>
<pre class="example">
/beegfs/ye53nis/drmed-git
2023-01-10 17:38:18.004165: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcudart.so.11.0'; dlerror: libcudart.so.11.0: cannot open shared object file: No such file or directory
2023-01-10 17:38:18.004236: I tensorflow/stream_executor/cuda/cudart_stub.cc:29] Ignore above cudart dlerror if you do not have a GPU set up on your machine.
</pre>
</li>

<li>this is the <code>kill-jupyter</code> function
<div class="org-src-container">

<pre class="src src-jupyter-python" id="kill-jupyter"><span style="color: #7e544f;">os</span>.<span style="color: #784437;">_exit</span>(00)
</pre>
</div>

<pre class="example">
7a752b61-60c1-4322-8105-e8dbd705caa0
</pre>
</li>
</ul>
<ul class="org-ul">
<li>now call the model and apply it to <code>af488+luv</code> data (with peak artifacts),
first with <code>delete_and_shift</code>, which we later called <code>cut and stitch</code>
<details>
<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 0

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'dirty_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">files</span>=<span style="color: #783f5a;">files_dirty1</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #5e7837;">model_id</span>=<span style="color: #5e7837;">model_id</span>, <span style="color: #783778;">method</span>=<span style="color: #2aa198;">'delete_and_shift'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>

<pre class="example">
2022-05-23 14:47:32.428742: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcuda.so.1'; dlerror: libcuda.so.1: cannot open shared object file: No such file or directory
2022-05-23 14:47:32.428785: W tensorflow/stream_executor/cuda/cuda_driver.cc:269] failed call to cuInit: UNKNOWN ERROR (303)
2022-05-23 14:47:32.428823: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:156] kernel driver does not appear to be running on this host (node105): /proc/driver/nvidia/version does not exist
2022-05-23 14:47:32.429138: I tensorflow/core/platform/cpu_feature_guard.cc:193] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX2 FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
WARNING:tensorflow:Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
</pre>


<pre class="example">
2df4455b-0130-4b59-af50-3a85f1419fd2
</pre>


<pre class="example">
/beegfs/ye53nis/drmed-git
2022-05-23 19:52:48.412017: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcudart.so.11.0'; dlerror: libcudart.so.11.0: cannot open shared object file: No such file or directory
2022-05-23 19:52:48.412054: I tensorflow/stream_executor/cuda/cudart_stub.cc:29] Ignore above cudart dlerror if you do not have a GPU set up on your machine.
</pre>


<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 0

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'dirty_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">files</span>=<span style="color: #513f78;">files_dirty2</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #5e7837;">model_id</span>=<span style="color: #5e7837;">model_id</span>, <span style="color: #783778;">method</span>=<span style="color: #2aa198;">'delete_and_shift'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>

<pre class="example">
2022-05-23 19:53:11.911961: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcuda.so.1'; dlerror: libcuda.so.1: cannot open shared object file: No such file or directory
2022-05-23 19:53:11.912000: W tensorflow/stream_executor/cuda/cuda_driver.cc:269] failed call to cuInit: UNKNOWN ERROR (303)
2022-05-23 19:53:11.912024: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:156] kernel driver does not appear to be running on this host (node105): /proc/driver/nvidia/version does not exist
2022-05-23 19:53:11.912392: I tensorflow/core/platform/cpu_feature_guard.cc:193] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX2 FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
WARNING:tensorflow:Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
</pre>


<ul class="org-ul">
<li>on node 2:
<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 1

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'dirty_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">files</span>=<span style="color: #783f5a;">files_dirty1</span> <span style="color: #859900; font-weight: bold;">and</span> <span style="color: #513f78;">files_dirty2</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #5e7837;">model_id</span>=<span style="color: #5e7837;">model_id</span>, <span style="color: #783778;">method</span>=<span style="color: #2aa198;">'delete_and_shift'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>
</li>

<li>on node 3:
<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 2

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'dirty_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">files</span>=<span style="color: #783f5a;">files_dirty1</span> <span style="color: #859900; font-weight: bold;">and</span> <span style="color: #513f78;">files_dirty2</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #5e7837;">model_id</span>=<span style="color: #5e7837;">model_id</span>, <span style="color: #783778;">method</span>=<span style="color: #2aa198;">'delete_and_shift'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>
</li>
<li>on node 2:
<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 3  <span style="color: #93a1a1;"># 34a6d</span>

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'dirty_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">files</span>=<span style="color: #37785e;">files_dirty</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #5e7837;">model_id</span>=0,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>
</li>
<li>on node 3:
<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 4  <span style="color: #93a1a1;"># 484af</span>

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'dirty_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">files</span>=<span style="color: #37785e;">files_dirty</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #5e7837;">model_id</span>=0,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>

<pre class="example">
ea569473-6848-41cb-bae6-4f5ac1590e71
</pre>


<pre class="example">
/beegfs/ye53nis/drmed-git
2022-05-23 21:51:34.834624: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcudart.so.11.0'; dlerror: libcudart.so.11.0: cannot open shared object file: No such file or directory
2022-05-23 21:51:34.834663: I tensorflow/stream_executor/cuda/cudart_stub.cc:29] Ignore above cudart dlerror if you do not have a GPU set up on your machine.
</pre>
</li>

<li>on node 1:
<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 5 <span style="color: #93a1a1;"># 0cd20</span>

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'dirty_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="color: #3f7178;">files</span>=<span style="color: #783f5a;">files_dirty1</span>,
<span style="color: #5e7837;">model_id</span>=<span style="color: #5e7837;">model_id</span>, <span style="color: #783778;">method</span>=<span style="color: #2aa198;">'delete_and_shift'</span>,
<span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>

<pre class="example">
2022-05-23 21:52:02.797179: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcuda.so.1'; dlerror: libcuda.so.1: cannot open shared object file: No such file or directory
2022-05-23 21:52:02.797239: W tensorflow/stream_executor/cuda/cuda_driver.cc:269] failed call to cuInit: UNKNOWN ERROR (303)
2022-05-23 21:52:02.797260: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:156] kernel driver does not appear to be running on this host (node105): /proc/driver/nvidia/version does not exist
2022-05-23 21:52:02.797625: I tensorflow/core/platform/cpu_feature_guard.cc:193] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX2 FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
WARNING:tensorflow:Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
</pre>


<pre class="example">
/beegfs/ye53nis/drmed-git
2022-05-24 10:12:54.289832: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcudart.so.11.0'; dlerror: libcudart.so.11.0: cannot open shared object file: No such file or directory
2022-05-24 10:12:54.289868: I tensorflow/stream_executor/cuda/cudart_stub.cc:29] Ignore above cudart dlerror if you do not have a GPU set up on your machine.
</pre>


<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 5 <span style="color: #93a1a1;"># 0cd20</span>

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'dirty_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="color: #3f7178;">files</span>=<span style="color: #513f78;">files_dirty2</span>,
<span style="color: #5e7837;">model_id</span>=<span style="color: #5e7837;">model_id</span>, <span style="color: #783778;">method</span>=<span style="color: #2aa198;">'delete_and_shift'</span>,
<span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>

<pre class="example">
2022-05-24 10:13:01.303436: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcuda.so.1'; dlerror: libcuda.so.1: cannot open shared object file: No such file or directory
2022-05-24 10:13:01.303503: W tensorflow/stream_executor/cuda/cuda_driver.cc:269] failed call to cuInit: UNKNOWN ERROR (303)
2022-05-24 10:13:01.303541: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:156] kernel driver does not appear to be running on this host (node105): /proc/driver/nvidia/version does not exist
2022-05-24 10:13:01.303975: I tensorflow/core/platform/cpu_feature_guard.cc:193] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX2 FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
WARNING:tensorflow:Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
</pre>
</li>

<li>on node 2:
<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 6 <span style="color: #93a1a1;"># fe81d</span>

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'dirty_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="color: #3f7178;">files</span>=<span style="color: #783f5a;">files_dirty1</span>,
<span style="color: #5e7837;">model_id</span>=<span style="color: #5e7837;">model_id</span>, <span style="color: #783778;">method</span>=<span style="color: #2aa198;">'delete_and_shift'</span>,
<span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>

<pre class="example">
bf3b2ade-cc27-404c-b7bc-9db7a0583d4e
</pre>


<pre class="example">
/beegfs/ye53nis/drmed-git
2022-05-24 13:29:48.438857: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcudart.so.11.0'; dlerror: libcudart.so.11.0: cannot open shared object file: No such file or directory
2022-05-24 13:29:48.438908: I tensorflow/stream_executor/cuda/cudart_stub.cc:29] Ignore above cudart dlerror if you do not have a GPU set up on your machine.
</pre>
</li>

<li>on node 1:
<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 7 <span style="color: #93a1a1;"># 19e3e</span>

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'dirty_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="color: #3f7178;">files</span>=<span style="color: #783f5a;">files_dirty1</span>,
<span style="color: #5e7837;">model_id</span>=<span style="color: #5e7837;">model_id</span>, <span style="color: #783778;">method</span>=<span style="color: #2aa198;">'delete_and_shift'</span>,
<span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>

<pre class="example">
2022-05-24 13:30:26.419948: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcuda.so.1'; dlerror: libcuda.so.1: cannot open shared object file: No such file or directory
2022-05-24 13:30:26.420019: W tensorflow/stream_executor/cuda/cuda_driver.cc:269] failed call to cuInit: UNKNOWN ERROR (303)
2022-05-24 13:30:26.420055: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:156] kernel driver does not appear to be running on this host (node105): /proc/driver/nvidia/version does not exist
2022-05-24 13:30:26.420612: I tensorflow/core/platform/cpu_feature_guard.cc:193] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX2 FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
WARNING:tensorflow:Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
</pre>


<pre class="example">
c55ec613-2fe9-4dd8-bbb0-03251a8173c2
</pre>


<pre class="example">
/beegfs/ye53nis/drmed-git
2022-05-24 17:07:04.399895: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcudart.so.11.0'; dlerror: libcudart.so.11.0: cannot open shared object file: No such file or directory
2022-05-24 17:07:04.399949: I tensorflow/stream_executor/cuda/cudart_stub.cc:29] Ignore above cudart dlerror if you do not have a GPU set up on your machine.
</pre>
</li>

<li>on node 1:
<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 7 <span style="color: #93a1a1;"># 19e3e</span>

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'dirty_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="color: #3f7178;">files</span>=<span style="color: #513f78;">files_dirty2</span>,
<span style="color: #5e7837;">model_id</span>=<span style="color: #5e7837;">model_id</span>, <span style="color: #783778;">method</span>=<span style="color: #2aa198;">'delete_and_shift'</span>,
<span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>

<pre class="example">
2022-05-24 17:07:10.270368: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcuda.so.1'; dlerror: libcuda.so.1: cannot open shared object file: No such file or directory
2022-05-24 17:07:10.270428: W tensorflow/stream_executor/cuda/cuda_driver.cc:269] failed call to cuInit: UNKNOWN ERROR (303)
2022-05-24 17:07:10.270454: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:156] kernel driver does not appear to be running on this host (node105): /proc/driver/nvidia/version does not exist
2022-05-24 17:07:10.270792: I tensorflow/core/platform/cpu_feature_guard.cc:193] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX2 FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
WARNING:tensorflow:Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
</pre>
</li>

<li>on node 3:
<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 8  <span style="color: #93a1a1;"># c1204</span>

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'dirty_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">files</span>=<span style="color: #37785e;">files_dirty</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #5e7837;">model_id</span>=<span style="color: #5e7837;">model_id</span>, <span style="color: #783778;">method</span>=<span style="color: #2aa198;">'delete_and_shift'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>
</li>
</ul>
</details>
</li>
<li>now do <code>af488</code> and <code>af488+luvs</code> correlations without any correction
<details>
<ul class="org-ul">
<li>on node 3:
<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'clean/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #78683f;">correlate_ptu</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">files</span>=<span style="color: #784437;">files_clean_1</span> <span style="color: #859900; font-weight: bold;">and</span> <span style="color: #43783f;">files_clean2</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>
</li>

<li>on node 1:
<pre class="example">
a26d0ea2-4340-4437-afb6-5e931c8efe68
</pre>


<pre class="example">
/beegfs/ye53nis/drmed-git
2022-05-27 13:21:04.304353: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcudart.so.11.0'; dlerror: libcudart.so.11.0: cannot open shared object file: No such file or directory
2022-05-27 13:21:04.304423: I tensorflow/stream_executor/cuda/cudart_stub.cc:29] Ignore above cudart dlerror if you do not have a GPU set up on your machine.
</pre>


<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'dirty/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #78683f;">correlate_ptu</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">files</span>=<span style="color: #513f78;">files_dirty2</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>
</li>
</ul>
<ul class="org-ul">
<li>on node 3:
<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'clean/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #78683f;">correlate_ptu</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">files</span>=<span style="color: #784437;">files_clean_1</span> <span style="color: #859900; font-weight: bold;">and</span> <span style="color: #43783f;">files_clean2</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>
<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'dirty/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #78683f;">correlate_ptu</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">files</span>=<span style="color: #513f78;">files_dirty2</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>
</li>
</ul>
</details>
</li>
<li>now call the model and apply it to <code>af488</code> data (without peak artifacts -
this is a control, the models should not detect peak artifacts here), first
with <code>delete_and_shift</code>, which we later called <code>cut and stitch</code>
<details>
<ul class="org-ul">
<li>on node 1:
<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 5 <span style="color: #93a1a1;"># 0cd20</span>

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'clean_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="color: #3f7178;">files</span>=<span style="color: #7e544f;">files_clean1</span>,
<span style="color: #5e7837;">model_id</span>=<span style="color: #5e7837;">model_id</span>, <span style="color: #783778;">method</span>=<span style="color: #2aa198;">'delete_and_shift'</span>,
<span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>

<pre class="example">
2022-05-25 14:48:29.187895: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcuda.so.1'; dlerror: libcuda.so.1: cannot open shared object file: No such file or directory
2022-05-25 14:48:29.187952: W tensorflow/stream_executor/cuda/cuda_driver.cc:269] failed call to cuInit: UNKNOWN ERROR (303)
2022-05-25 14:48:29.187985: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:156] kernel driver does not appear to be running on this host (node105): /proc/driver/nvidia/version does not exist
2022-05-25 14:48:29.188422: I tensorflow/core/platform/cpu_feature_guard.cc:193] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX2 FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
WARNING:tensorflow:Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
</pre>


<pre class="example">
7e9aa800-f60f-4d9a-b565-722c72070338
</pre>


<pre class="example">
/beegfs/ye53nis/drmed-git
2022-05-25 16:48:58.124680: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcudart.so.11.0'; dlerror: libcudart.so.11.0: cannot open shared object file: No such file or directory
2022-05-25 16:48:58.124720: I tensorflow/stream_executor/cuda/cudart_stub.cc:29] Ignore above cudart dlerror if you do not have a GPU set up on your machine.
</pre>


<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 5 <span style="color: #93a1a1;"># 0cd20</span>

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'clean_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="color: #3f7178;">files</span>=<span style="color: #43783f;">files_clean2</span>,
<span style="color: #5e7837;">model_id</span>=<span style="color: #5e7837;">model_id</span>, <span style="color: #783778;">method</span>=<span style="color: #2aa198;">'delete_and_shift'</span>,
<span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>

<pre class="example">
2022-05-25 16:49:18.365951: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcuda.so.1'; dlerror: libcuda.so.1: cannot open shared object file: No such file or directory
2022-05-25 16:49:18.366011: W tensorflow/stream_executor/cuda/cuda_driver.cc:269] failed call to cuInit: UNKNOWN ERROR (303)
2022-05-25 16:49:18.366045: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:156] kernel driver does not appear to be running on this host (node105): /proc/driver/nvidia/version does not exist
2022-05-25 16:49:18.366534: I tensorflow/core/platform/cpu_feature_guard.cc:193] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX2 FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
WARNING:tensorflow:Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
</pre>
</li>

<li>on node 3:
<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 2 <span style="color: #93a1a1;"># 714af</span>

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'clean_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">files</span>=<span style="color: #784437;">files_clean_1</span> <span style="color: #859900; font-weight: bold;">and</span> <span style="color: #43783f;">files_clean2</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #5e7837;">model_id</span>=<span style="color: #5e7837;">model_id</span>, <span style="color: #783778;">method</span>=<span style="color: #2aa198;">'delete_and_shift'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>
</li>

<li>on node 2:
<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 0 <span style="color: #93a1a1;"># ff67b</span>

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'clean_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">files</span>=<span style="color: #7e544f;">files_clean1</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #5e7837;">model_id</span>=<span style="color: #5e7837;">model_id</span>, <span style="color: #783778;">method</span>=<span style="color: #2aa198;">'delete_and_shift'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>
</li>

<li>on node 1:
<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 1 <span style="color: #93a1a1;"># 34766</span>

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'clean_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="color: #3f7178;">files</span>=<span style="color: #7e544f;">files_clean1</span>,
<span style="color: #5e7837;">model_id</span>=<span style="color: #5e7837;">model_id</span>, <span style="color: #783778;">method</span>=<span style="color: #2aa198;">'delete_and_shift'</span>,
<span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>

<pre class="example">
2022-05-26 00:11:02.988574: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcuda.so.1'; dlerror: libcuda.so.1: cannot open shared object file: No such file or directory
2022-05-26 00:11:02.988629: W tensorflow/stream_executor/cuda/cuda_driver.cc:269] failed call to cuInit: UNKNOWN ERROR (303)
2022-05-26 00:11:02.988653: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:156] kernel driver does not appear to be running on this host (node105): /proc/driver/nvidia/version does not exist
2022-05-26 00:11:02.988969: I tensorflow/core/platform/cpu_feature_guard.cc:193] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX2 FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
WARNING:tensorflow:Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
</pre>


<pre class="example">
/beegfs/ye53nis/drmed-git
2022-05-26 11:49:10.130005: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcudart.so.11.0'; dlerror: libcudart.so.11.0: cannot open shared object file: No such file or directory
2022-05-26 11:49:10.130041: I tensorflow/stream_executor/cuda/cudart_stub.cc:29] Ignore above cudart dlerror if you do not have a GPU set up on your machine.
</pre>


<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 1

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'clean_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="color: #3f7178;">files</span>=<span style="color: #43783f;">files_clean2</span>,
<span style="color: #5e7837;">model_id</span>=<span style="color: #5e7837;">model_id</span>, <span style="color: #783778;">method</span>=<span style="color: #2aa198;">'delete_and_shift'</span>,
<span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>

<pre class="example">
2022-05-26 11:49:16.690889: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcuda.so.1'; dlerror: libcuda.so.1: cannot open shared object file: No such file or directory
2022-05-26 11:49:16.690951: W tensorflow/stream_executor/cuda/cuda_driver.cc:269] failed call to cuInit: UNKNOWN ERROR (303)
2022-05-26 11:49:16.690989: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:156] kernel driver does not appear to be running on this host (node105): /proc/driver/nvidia/version does not exist
2022-05-26 11:49:16.691462: I tensorflow/core/platform/cpu_feature_guard.cc:193] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX2 FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
WARNING:tensorflow:Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
</pre>
</li>
<li>on node 2:
<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 3 <span style="color: #93a1a1;"># 34a6d</span>

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'clean_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">files</span>=<span style="color: #784437;">files_clean_1</span> <span style="color: #859900; font-weight: bold;">and</span> <span style="color: #43783f;">files_clean2</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #5e7837;">model_id</span>=<span style="color: #5e7837;">model_id</span>, <span style="color: #783778;">method</span>=<span style="color: #2aa198;">'delete_and_shift'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>
</li>

<li>on node 1:
<pre class="example">
a26d0ea2-4340-4437-afb6-5e931c8efe68
</pre>


<pre class="example">
/beegfs/ye53nis/drmed-git
2022-05-27 13:21:04.304353: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcudart.so.11.0'; dlerror: libcudart.so.11.0: cannot open shared object file: No such file or directory
2022-05-27 13:21:04.304423: I tensorflow/stream_executor/cuda/cudart_stub.cc:29] Ignore above cudart dlerror if you do not have a GPU set up on your machine.
</pre>
</li>

<li>on node 2:
<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 7 <span style="color: #93a1a1;"># 19e3e</span>

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'clean_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">files</span>=<span style="color: #784437;">files_clean_1</span> <span style="color: #859900; font-weight: bold;">and</span> <span style="color: #43783f;">files_clean2</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #5e7837;">model_id</span>=<span style="color: #5e7837;">model_id</span>, <span style="color: #783778;">method</span>=<span style="color: #2aa198;">'delete_and_shift'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>
</li>

<li>on node 3:
<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 4 <span style="color: #93a1a1;"># 484af</span>

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'clean_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">files</span>=<span style="color: #784437;">files_clean_1</span> <span style="color: #859900; font-weight: bold;">and</span> <span style="color: #43783f;">files_clean2</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #5e7837;">model_id</span>=<span style="color: #5e7837;">model_id</span>, <span style="color: #783778;">method</span>=<span style="color: #2aa198;">'delete_and_shift'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>
</li>

<li>on node 2:
<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 8 <span style="color: #93a1a1;"># c1204</span>

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'clean_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">files</span>=<span style="color: #784437;">files_clean_1</span> <span style="color: #859900; font-weight: bold;">and</span> <span style="color: #43783f;">files_clean2</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #5e7837;">model_id</span>=<span style="color: #5e7837;">model_id</span>, <span style="color: #783778;">method</span>=<span style="color: #2aa198;">'delete_and_shift'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>
</li>

<li>on node 3:
<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 6 <span style="color: #93a1a1;"># fe81d</span>

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'clean_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">files</span>=<span style="color: #784437;">files_clean_1</span> <span style="color: #859900; font-weight: bold;">and</span> <span style="color: #43783f;">files_clean2</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #5e7837;">model_id</span>=<span style="color: #5e7837;">model_id</span>, <span style="color: #783778;">method</span>=<span style="color: #2aa198;">'delete_and_shift'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>
</li>
</ul>
</details>
</li>

<li>now call the model and apply it to <code>pex5</code> data. First the correlations of
Trypanosoma brucei-PEX5-eGFP (peak artifacts) and Homo sapiens-PEX5-eGFP
(no artifacts) without corrections. Not that <code>prepare-jupyter</code> now looks
like this: <code>#+CALL:
    prepare-jupyter("/beegfs/ye53nis/data/191113_Pex5_2_structured",
    output_path="/beegfs/ye53nis/drmed-git/data/exp-220227-unet/2022-06-02_experimental-pex5/")</code>
<details>
<ul class="org-ul">
<li>on node 1:
<pre class="example">
/beegfs/ye53nis/drmed-git
</pre>


<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'clean/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #78683f;">correlate_ptu</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">files</span>=<span style="color: #5e7837;">files_clean</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>

<pre class="example">
274c16ef-1bb8-47fd-9ac9-d83e193d2c7c
</pre>


<pre class="example">
/beegfs/ye53nis/drmed-git
2022-06-03 00:20:04.405561: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcudart.so.11.0'; dlerror: libcudart.so.11.0: cannot open shared object file: No such file or directory
2022-06-03 00:20:04.405614: I tensorflow/stream_executor/cuda/cudart_stub.cc:29] Ignore above cudart dlerror if you do not have a GPU set up on your machine.
</pre>


<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'dirty/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #78683f;">correlate_ptu</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">files</span>=<span style="color: #37785e;">files_dirty</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>

<pre class="example">
2022-06-02 16:25:02.408577: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcuda.so.1'; dlerror: libcuda.so.1: cannot open shared object file: No such file or directory
2022-06-02 16:25:02.408633: W tensorflow/stream_executor/cuda/cuda_driver.cc:269] failed call to cuInit: UNKNOWN ERROR (303)
2022-06-02 16:25:02.408668: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:156] kernel driver does not appear to be running on this host (node034): /proc/driver/nvidia/version does not exist
2022-06-02 16:25:02.409190: I tensorflow/core/platform/cpu_feature_guard.cc:193] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX2 FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
WARNING:tensorflow:Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
</pre>
</li>
</ul>
</details>
</li>
<li>now call the model and apply it to all <code>pex5</code> data (with and without peak
artifacts), first with <code>delete_and_shift</code> correction, which we later called
<code>cut and stitch</code>
<details>
<ul class="org-ul">
<li>on node 2:
<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 0 <span style="color: #93a1a1;"># ff67b</span>

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'dirty_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">files</span>=<span style="color: #37785e;">files_dirty</span> <span style="color: #859900; font-weight: bold;">and</span> <span style="color: #5e7837;">files_clean</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #5e7837;">model_id</span>=<span style="color: #5e7837;">model_id</span>, <span style="color: #783778;">method</span>=<span style="color: #2aa198;">'delete_and_shift'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>
</li>

<li>on node 3:
<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 1  <span style="color: #93a1a1;"># 34766</span>

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'dirty_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">files</span>=<span style="color: #37785e;">files_dirty</span> <span style="color: #859900; font-weight: bold;">and</span> <span style="color: #5e7837;">files_clean</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #5e7837;">model_id</span>=<span style="color: #5e7837;">model_id</span>, <span style="color: #783778;">method</span>=<span style="color: #2aa198;">'delete_and_shift'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>

<pre class="example">
WARNING:tensorflow:Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
</pre>


<pre class="example">
e17bafa1-336e-4ae4-9eac-2e4e754b163b
</pre>


<pre class="example">
/beegfs/ye53nis/drmed-git
2022-06-03 00:35:48.794905: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcudart.so.11.0'; dlerror: libcudart.so.11.0: cannot open shared object file: No such file or directory
2022-06-03 00:35:48.794949: I tensorflow/stream_executor/cuda/cudart_stub.cc:29] Ignore above cudart dlerror if you do not have a GPU set up on your machine.
</pre>
</li>

<li>on node 1:
<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 2  <span style="color: #93a1a1;"># 714af</span>

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'dirty_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">files</span>=<span style="color: #37785e;">files_dirty</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #5e7837;">model_id</span>=<span style="color: #5e7837;">model_id</span>, <span style="color: #783778;">method</span>=<span style="color: #2aa198;">'delete_and_shift'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>

<pre class="example">
2022-06-03 00:36:59.208902: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcuda.so.1'; dlerror: libcuda.so.1: cannot open shared object file: No such file or directory
2022-06-03 00:36:59.208990: W tensorflow/stream_executor/cuda/cuda_driver.cc:269] failed call to cuInit: UNKNOWN ERROR (303)
2022-06-03 00:36:59.209034: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:156] kernel driver does not appear to be running on this host (node034): /proc/driver/nvidia/version does not exist
2022-06-03 00:36:59.209615: I tensorflow/core/platform/cpu_feature_guard.cc:193] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX2 FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
WARNING:tensorflow:Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
</pre>


<pre class="example">
cb8ca215-2cec-4c8a-b57f-9e7a3fa0850a
</pre>


<pre class="example">
/beegfs/ye53nis/drmed-git
2022-06-03 01:03:42.934510: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcudart.so.11.0'; dlerror: libcudart.so.11.0: cannot open shared object file: No such file or directory
2022-06-03 01:03:42.934560: I tensorflow/stream_executor/cuda/cudart_stub.cc:29] Ignore above cudart dlerror if you do not have a GPU set up on your machine.
</pre>


<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 2  <span style="color: #93a1a1;"># 714af</span>

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'clean_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">files</span>=<span style="color: #5e7837;">files_clean</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #5e7837;">model_id</span>=<span style="color: #5e7837;">model_id</span>, <span style="color: #783778;">method</span>=<span style="color: #2aa198;">'delete_and_shift'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>

<pre class="example">
2022-06-03 01:03:53.314614: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcuda.so.1'; dlerror: libcuda.so.1: cannot open shared object file: No such file or directory
2022-06-03 01:03:53.314706: W tensorflow/stream_executor/cuda/cuda_driver.cc:269] failed call to cuInit: UNKNOWN ERROR (303)
2022-06-03 01:03:53.314759: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:156] kernel driver does not appear to be running on this host (node034): /proc/driver/nvidia/version does not exist
2022-06-03 01:03:53.315343: I tensorflow/core/platform/cpu_feature_guard.cc:193] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX2 FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
WARNING:tensorflow:Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
</pre>
</li>

<li>on node 2:
<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 3 <span style="color: #93a1a1;"># 34a6d</span>

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'dirty_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">files</span>=<span style="color: #37785e;">files_dirty</span> <span style="color: #859900; font-weight: bold;">and</span> <span style="color: #5e7837;">files_clean</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #5e7837;">model_id</span>=<span style="color: #5e7837;">model_id</span>, <span style="color: #783778;">method</span>=<span style="color: #2aa198;">'delete_and_shift'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>
</li>

<li>on node 1:
<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 4  <span style="color: #93a1a1;"># 484af</span>

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'dirty_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">files</span>=<span style="color: #37785e;">files_dirty</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #5e7837;">model_id</span>=<span style="color: #5e7837;">model_id</span>, <span style="color: #783778;">method</span>=<span style="color: #2aa198;">'delete_and_shift'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>

<pre class="example">
2022-06-03 16:05:25.702609: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcuda.so.1'; dlerror: libcuda.so.1: cannot open shared object file: No such file or directory
2022-06-03 16:05:25.702662: W tensorflow/stream_executor/cuda/cuda_driver.cc:269] failed call to cuInit: UNKNOWN ERROR (303)
2022-06-03 16:05:25.702697: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:156] kernel driver does not appear to be running on this host (node034): /proc/driver/nvidia/version does not exist
2022-06-03 16:05:25.703121: I tensorflow/core/platform/cpu_feature_guard.cc:193] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX2 FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
WARNING:tensorflow:Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
</pre>


<pre class="example">
/beegfs/ye53nis/drmed-git
2022-06-03 17:13:28.754363: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcudart.so.11.0'; dlerror: libcudart.so.11.0: cannot open shared object file: No such file or directory
2022-06-03 17:13:28.754407: I tensorflow/stream_executor/cuda/cudart_stub.cc:29] Ignore above cudart dlerror if you do not have a GPU set up on your machine.
</pre>


<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 4  <span style="color: #93a1a1;"># 484af</span>

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'clean_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">files</span>=<span style="color: #5e7837;">files_clean</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #5e7837;">model_id</span>=<span style="color: #5e7837;">model_id</span>, <span style="color: #783778;">method</span>=<span style="color: #2aa198;">'delete_and_shift'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>

<pre class="example">
2022-06-03 17:13:35.380945: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcuda.so.1'; dlerror: libcuda.so.1: cannot open shared object file: No such file or directory
2022-06-03 17:13:35.380992: W tensorflow/stream_executor/cuda/cuda_driver.cc:269] failed call to cuInit: UNKNOWN ERROR (303)
2022-06-03 17:13:35.381021: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:156] kernel driver does not appear to be running on this host (node034): /proc/driver/nvidia/version does not exist
2022-06-03 17:13:35.381294: I tensorflow/core/platform/cpu_feature_guard.cc:193] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX2 FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
WARNING:tensorflow:Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
</pre>
</li>

<li>on node 3:
<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 5  <span style="color: #93a1a1;"># 0cd20</span>

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'dirty_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">files</span>=<span style="color: #37785e;">files_dirty</span> <span style="color: #859900; font-weight: bold;">and</span> <span style="color: #5e7837;">files_clean</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #5e7837;">model_id</span>=<span style="color: #5e7837;">model_id</span>, <span style="color: #783778;">method</span>=<span style="color: #2aa198;">'delete_and_shift'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>
</li>

<li>on node 2:
<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 6 <span style="color: #93a1a1;"># fe81d</span>

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'dirty_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">files</span>=<span style="color: #37785e;">files_dirty</span> <span style="color: #859900; font-weight: bold;">and</span> <span style="color: #5e7837;">files_clean</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #5e7837;">model_id</span>=<span style="color: #5e7837;">model_id</span>, <span style="color: #783778;">method</span>=<span style="color: #2aa198;">'delete_and_shift'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>
</li>

<li>on node 1:
<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 7  <span style="color: #93a1a1;"># 19e3e</span>

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'dirty_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">files</span>=<span style="color: #37785e;">files_dirty</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #5e7837;">model_id</span>=<span style="color: #5e7837;">model_id</span>, <span style="color: #783778;">method</span>=<span style="color: #2aa198;">'delete_and_shift'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>

<pre class="example">
2022-06-03 17:59:22.958003: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcuda.so.1'; dlerror: libcuda.so.1: cannot open shared object file: No such file or directory
2022-06-03 17:59:22.958066: W tensorflow/stream_executor/cuda/cuda_driver.cc:269] failed call to cuInit: UNKNOWN ERROR (303)
2022-06-03 17:59:22.958106: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:156] kernel driver does not appear to be running on this host (node034): /proc/driver/nvidia/version does not exist
2022-06-03 17:59:22.958596: I tensorflow/core/platform/cpu_feature_guard.cc:193] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX2 FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
WARNING:tensorflow:Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
</pre>


<pre class="example">
/beegfs/ye53nis/drmed-git
2022-06-03 18:12:09.643502: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcudart.so.11.0'; dlerror: libcudart.so.11.0: cannot open shared object file: No such file or directory
2022-06-03 18:12:09.643564: I tensorflow/stream_executor/cuda/cudart_stub.cc:29] Ignore above cudart dlerror if you do not have a GPU set up on your machine.
</pre>


<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 7  <span style="color: #93a1a1;"># 19e3e</span>

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'clean_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">files</span>=<span style="color: #5e7837;">files_clean</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #5e7837;">model_id</span>=<span style="color: #5e7837;">model_id</span>, <span style="color: #783778;">method</span>=<span style="color: #2aa198;">'delete_and_shift'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>

<pre class="example">
2022-06-03 18:12:16.305111: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcuda.so.1'; dlerror: libcuda.so.1: cannot open shared object file: No such file or directory
2022-06-03 18:12:16.305153: W tensorflow/stream_executor/cuda/cuda_driver.cc:269] failed call to cuInit: UNKNOWN ERROR (303)
2022-06-03 18:12:16.305181: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:156] kernel driver does not appear to be running on this host (node034): /proc/driver/nvidia/version does not exist
2022-06-03 18:12:16.305464: I tensorflow/core/platform/cpu_feature_guard.cc:193] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX2 FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
WARNING:tensorflow:Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
</pre>


<p>
on node 3:
</p>
<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 8  <span style="color: #93a1a1;"># c1204</span>

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'dirty_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">files</span>=<span style="color: #37785e;">files_dirty</span> <span style="color: #859900; font-weight: bold;">and</span> <span style="color: #5e7837;">files_clean</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #5e7837;">model_id</span>=<span style="color: #5e7837;">model_id</span>, <span style="color: #783778;">method</span>=<span style="color: #2aa198;">'delete_and_shift'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>
</li>
</ul>
</details>
</li>
<li>now call the model and apply it to all <code>pex5</code> data (with and without peak
artifacts), now with <code>delete</code> correction, which we later called <code>set to
    zero</code>
<details>
<ul class="org-ul">
<li>on node 2
<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 0 <span style="color: #93a1a1;"># ff67b</span>

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'dirty_delete_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">files</span>=<span style="color: #37785e;">files_dirty</span> <span style="color: #859900; font-weight: bold;">and</span> <span style="color: #5e7837;">files_clean</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #5e7837;">model_id</span>=<span style="color: #5e7837;">model_id</span>, <span style="color: #783778;">method</span>=<span style="color: #2aa198;">'delete'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>

<p>
on node 1:
</p>
<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 1  <span style="color: #93a1a1;"># 34766</span>

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'dirty_delete_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">files</span>=<span style="color: #37785e;">files_dirty</span> <span style="color: #859900; font-weight: bold;">and</span> <span style="color: #5e7837;">files_clean</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #5e7837;">model_id</span>=<span style="color: #5e7837;">model_id</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #783778;">method</span>=<span style="color: #2aa198;">'delete'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>

<pre class="example">
2022-06-03 18:34:51.572833: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcuda.so.1'; dlerror: libcuda.so.1: cannot open shared object file: No such file or directory
2022-06-03 18:34:51.572883: W tensorflow/stream_executor/cuda/cuda_driver.cc:269] failed call to cuInit: UNKNOWN ERROR (303)
2022-06-03 18:34:51.572912: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:156] kernel driver does not appear to be running on this host (node034): /proc/driver/nvidia/version does not exist
2022-06-03 18:34:51.573277: I tensorflow/core/platform/cpu_feature_guard.cc:193] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX2 FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
WARNING:tensorflow:Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
</pre>


<pre class="example">
947e95f9-7f45-4e35-a5f6-857c1a00df32
</pre>


<pre class="example">
/beegfs/ye53nis/drmed-git
2022-06-05 19:58:02.542852: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcudart.so.11.0'; dlerror: libcudart.so.11.0: cannot open shared object file: No such file or directory
2022-06-05 19:58:02.542898: I tensorflow/stream_executor/cuda/cudart_stub.cc:29] Ignore above cudart dlerror if you do not have a GPU set up on your machine.
</pre>


<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 1  <span style="color: #93a1a1;"># 34766</span>

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'clean_delete_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">files</span>=<span style="color: #5e7837;">files_clean</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #5e7837;">model_id</span>=<span style="color: #5e7837;">model_id</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #783778;">method</span>=<span style="color: #2aa198;">'delete'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>

<pre class="example">
2022-06-05 19:58:25.596269: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcuda.so.1'; dlerror: libcuda.so.1: cannot open shared object file: No such file or directory
2022-06-05 19:58:25.596330: W tensorflow/stream_executor/cuda/cuda_driver.cc:269] failed call to cuInit: UNKNOWN ERROR (303)
2022-06-05 19:58:25.596366: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:156] kernel driver does not appear to be running on this host (node034): /proc/driver/nvidia/version does not exist
2022-06-05 19:58:25.596907: I tensorflow/core/platform/cpu_feature_guard.cc:193] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX2 FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
WARNING:tensorflow:Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
</pre>
</li>

<li>on node 3
<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 2  <span style="color: #93a1a1;"># 714af</span>

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'dirty_delete_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">files</span>=<span style="color: #37785e;">files_dirty</span> <span style="color: #859900; font-weight: bold;">and</span> <span style="color: #5e7837;">files_clean</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #5e7837;">model_id</span>=<span style="color: #5e7837;">model_id</span>, <span style="color: #783778;">method</span>=<span style="color: #2aa198;">'delete'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>
</li>
<li>on node 1:
<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 3  <span style="color: #93a1a1;"># 34a6d</span>

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'dirty_delete_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">files</span>=<span style="color: #37785e;">files_dirty</span> <span style="color: #859900; font-weight: bold;">and</span> <span style="color: #5e7837;">files_clean</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #5e7837;">model_id</span>=<span style="color: #5e7837;">model_id</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #783778;">method</span>=<span style="color: #2aa198;">'delete'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>

<pre class="example">
2022-06-05 20:29:47.728848: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcuda.so.1'; dlerror: libcuda.so.1: cannot open shared object file: No such file or directory
2022-06-05 20:29:47.728912: W tensorflow/stream_executor/cuda/cuda_driver.cc:269] failed call to cuInit: UNKNOWN ERROR (303)
2022-06-05 20:29:47.728949: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:156] kernel driver does not appear to be running on this host (node034): /proc/driver/nvidia/version does not exist
2022-06-05 20:29:47.729437: I tensorflow/core/platform/cpu_feature_guard.cc:193] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX2 FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
WARNING:tensorflow:Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
</pre>


<pre class="example">
2623f23f-2abb-44a9-8a8a-37fe279cda97
</pre>


<pre class="example">
/beegfs/ye53nis/drmed-git
2022-06-06 11:30:37.942306: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcudart.so.11.0'; dlerror: libcudart.so.11.0: cannot open shared object file: No such file or directory
2022-06-06 11:30:37.942353: I tensorflow/stream_executor/cuda/cudart_stub.cc:29] Ignore above cudart dlerror if you do not have a GPU set up on your machine.
</pre>


<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 3  <span style="color: #93a1a1;"># 34a6d</span>

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'clean_delete_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">files</span>=<span style="color: #5e7837;">files_clean</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #5e7837;">model_id</span>=<span style="color: #5e7837;">model_id</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #783778;">method</span>=<span style="color: #2aa198;">'delete'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>

<pre class="example">
2022-06-06 11:30:52.913876: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcuda.so.1'; dlerror: libcuda.so.1: cannot open shared object file: No such file or directory
2022-06-06 11:30:52.913938: W tensorflow/stream_executor/cuda/cuda_driver.cc:269] failed call to cuInit: UNKNOWN ERROR (303)
2022-06-06 11:30:52.913990: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:156] kernel driver does not appear to be running on this host (node034): /proc/driver/nvidia/version does not exist
2022-06-06 11:30:52.914431: I tensorflow/core/platform/cpu_feature_guard.cc:193] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX2 FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
WARNING:tensorflow:Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
</pre>
</li>

<li>on node 2
<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 4  <span style="color: #93a1a1;"># 484af</span>

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'dirty_delete_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">files</span>=<span style="color: #37785e;">files_dirty</span> <span style="color: #859900; font-weight: bold;">and</span> <span style="color: #5e7837;">files_clean</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #5e7837;">model_id</span>=<span style="color: #5e7837;">model_id</span>, <span style="color: #783778;">method</span>=<span style="color: #2aa198;">'delete'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>
</li>

<li>on node 3
<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 5  <span style="color: #93a1a1;"># 0cd20</span>

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'dirty_delete_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">files</span>=<span style="color: #37785e;">files_dirty</span> <span style="color: #859900; font-weight: bold;">and</span> <span style="color: #5e7837;">files_clean</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #5e7837;">model_id</span>=<span style="color: #5e7837;">model_id</span>, <span style="color: #783778;">method</span>=<span style="color: #2aa198;">'delete'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>
</li>

<li>on node 1:
<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 6   <span style="color: #93a1a1;"># fe81d</span>

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'dirty_delete_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">files</span>=<span style="color: #37785e;">files_dirty</span> <span style="color: #859900; font-weight: bold;">and</span> <span style="color: #5e7837;">files_clean</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #5e7837;">model_id</span>=<span style="color: #5e7837;">model_id</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #783778;">method</span>=<span style="color: #2aa198;">'delete'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>

<pre class="example">
2022-06-06 16:01:59.893483: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcuda.so.1'; dlerror: libcuda.so.1: cannot open shared object file: No such file or directory
2022-06-06 16:01:59.893526: W tensorflow/stream_executor/cuda/cuda_driver.cc:269] failed call to cuInit: UNKNOWN ERROR (303)
2022-06-06 16:01:59.893551: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:156] kernel driver does not appear to be running on this host (node034): /proc/driver/nvidia/version does not exist
2022-06-06 16:01:59.893887: I tensorflow/core/platform/cpu_feature_guard.cc:193] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX2 FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
WARNING:tensorflow:Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
</pre>


<pre class="example">
---------------------------------------------------------------------------
NameError                                 Traceback (most recent call last)
Input In [1], in &lt;cell line: 1&gt;()
----&gt; 1 os._exit(00)

NameError: name 'os' is not defined
</pre>

<pre class="example">
/beegfs/ye53nis/drmed-git
2022-06-06 16:01:50.356512: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcudart.so.11.0'; dlerror: libcudart.so.11.0: cannot open shared object file: No such file or directory
2022-06-06 16:01:50.356556: I tensorflow/stream_executor/cuda/cudart_stub.cc:29] Ignore above cudart dlerror if you do not have a GPU set up on your machine.
</pre>


<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 6  <span style="color: #93a1a1;"># fe81d</span>

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'clean_delete_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">files</span>=<span style="color: #5e7837;">files_clean</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #5e7837;">model_id</span>=<span style="color: #5e7837;">model_id</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #783778;">method</span>=<span style="color: #2aa198;">'delete'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>
</li>
<li>on node 2
<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 7  <span style="color: #93a1a1;"># 19e3e</span>

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'dirty_delete_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">files</span>=<span style="color: #37785e;">files_dirty</span> <span style="color: #859900; font-weight: bold;">and</span> <span style="color: #5e7837;">files_clean</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #5e7837;">model_id</span>=<span style="color: #5e7837;">model_id</span>, <span style="color: #783778;">method</span>=<span style="color: #2aa198;">'delete'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>
</li>
</ul>
</details>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-2-1-12-2" class="outline-5">
<h5 id="sec-2-1-12-2"><span class="section-number-5">2.1.12.2</span> node 2</h5>
<div class="outline-text-5" id="text-2-1-12-2">
<ol class="org-ol">
<li>Set up tmux (if we haven't done that before) (<code>#+CALL:
       setup-tmux[:session local]</code>)
<table class="table table-striped table-bordered table-hover table-condensed">


<colgroup>
<col  class="left">

<col  class="left">

<col  class="left">
</colgroup>
<tbody>
<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">sh-5.1$</td>
<td class="text-left">ye53nis@ara-login01.rz.uni-jena.de's</td>
<td class="text-left">password:</td>
</tr>

<tr>
<td class="text-left">&gt;</td>
<td class="text-left">ye53nis@ara-login01.rz.uni-jena.de's</td>
<td class="text-left">password:</td>
</tr>
</tbody>
</table>
</li>

<li>Request compute node
<div class="org-src-container">

<pre class="src src-tmux"><span style="color: #657b83; font-weight: bold;">cd</span> <span style="color: #513f78;">/</span>
<span style="color: #78683f;">srun</span> <span style="color: #707e4f;">-p</span> <span style="color: #78683f;">s_standard</span> <span style="color: #374478;">--time</span>=<span style="color: #3f7178;">7-10:00:00</span> <span style="color: #7e544f;">--ntasks-per-node</span>=<span style="color: #783f5a;">24</span> <span style="color: #783f5a;">--mem-per-cpu</span>=<span style="color: #3f7178;">2000</span> <span style="color: #7e544f;">--pty</span> <span style="color: #374478;">bash</span>
</pre>
</div>
</li>

<li>Start Jupyter Lab (<code>#+CALL: jpt-tmux[:session jpmux]</code>)
<div class="org-src-container">

<pre class="src src-tmux"><span style="color: #4f5c7e;">conda</span> <span style="color: #4f7e67;">activate</span> <span style="color: #37785e;">tf</span>
<span style="color: #657b83; font-weight: bold;">export</span> <span style="color: #268bd2;">PORT</span>=<span style="color: #37785e;">8890</span>
<span style="color: #657b83; font-weight: bold;">export</span> <span style="color: #268bd2;">XDG_RUNTIME_DIR</span>=<span style="color: #2aa198;">''</span>
<span style="color: #657b83; font-weight: bold;">export</span> <span style="color: #268bd2;">XDG_RUNTIME_DIR</span>=<span style="color: #2aa198;">""</span>
<span style="color: #37785e;">jupyter</span> <span style="color: #4f5c7e;">lab</span> <span style="color: #783778;">--no-browser</span> <span style="color: #5e7837;">--port</span>=$<span style="color: #268bd2;">PORT</span>
</pre>
</div>

<pre class="example">
(tf) [ye53nis@node152 /]$ jupyter lab --no-browser --port=$PORT
[I 2022-06-03 00:24:43.720 ServerApp] jupyterlab | extension was successfully linked.
[I 2022-06-03 00:24:44.304 ServerApp] nbclassic | extension was successfully linked.
[I 2022-06-03 00:24:44.363 ServerApp] nbclassic | extension was successfully loaded.
[I 2022-06-03 00:24:44.364 LabApp] JupyterLab extension loaded from /home/ye53nis/.conda/envs/tf/lib/python3.9/site-packages/jupyterlab
[I 2022-06-03 00:24:44.364 LabApp] JupyterLab application directory is /home/ye53nis/.conda/envs/tf/share/jupyter/lab
[I 2022-06-03 00:24:44.368 ServerApp] jupyterlab | extension was successfully loaded.
[I 2022-06-03 00:24:44.369 ServerApp] Serving notebooks from local directory: /
[I 2022-06-03 00:24:44.369 ServerApp] Jupyter Server 1.13.5 is running at:
[I 2022-06-03 00:24:44.369 ServerApp] http://localhost:8890/lab?token=b2f94d18a55263d5a94b5c7e52c96c60bfdfc076bfb6f00a
[I 2022-06-03 00:24:44.369 ServerApp]  or http://127.0.0.1:8890/lab?token=b2f94d18a55263d5a94b5c7e52c96c60bfdfc076bfb6f00a
[I 2022-06-03 00:24:44.370 ServerApp] Use Control-C to stop this server and shut down all kernels (twice to skip confirmation).
[C 2022-06-03 00:24:44.376 ServerApp]

    To access the server, open this file in a browser:
        file:///home/ye53nis/.local/share/jupyter/runtime/jpserver-207633-open.html
    Or copy and paste one of these URLs:
        http://localhost:8890/lab?token=b2f94d18a55263d5a94b5c7e52c96c60bfdfc076bfb6f00a
     or http://127.0.0.1:8890/lab?token=b2f94d18a55263d5a94b5c7e52c96c60bfdfc076bfb6f00a
</pre>
</li>

<li>Create SSH Tunnel for jupyter lab to the local computer (e.g. <code>#+CALL:
       ssh-tunnel(port="8889", node="node160")</code>)
<table class="table table-striped table-bordered table-hover table-condensed">


<colgroup>
<col  class="left">

<col  class="left">

<col  class="left">

<col  class="left">

<col  class="left">

<col  class="left">

<col  class="left">

<col  class="left">

<col  class="left">
</colgroup>
<tbody>
<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">sh-5.1$</td>
<td class="text-left">sh-5.1$</td>
<td class="text-left">ye53nis@ara-login01.rz.uni-jena.de's</td>
<td class="text-left">password:</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">ye53nis@node152's</td>
<td class="text-left">password:</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">Last</td>
<td class="text-left">login:</td>
<td class="text-left">Mon</td>
<td class="text-left">Jun</td>
<td class="text-left">6</td>
<td class="text-left">11:31:14</td>
<td class="text-left">2022</td>
<td class="text-left">from</td>
<td class="text-left">login01.ara</td>
</tr>
</tbody>
</table>
</li>

<li>this subtree was connected to another compute node. I kept the going
track record of all executed commands in the mother node. These following
two code blocks are just examples. The process was the same as in the
mother node.

<pre class="example">
/beegfs/ye53nis/drmed-git
2022-06-06 16:03:48.742170: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcudart.so.11.0'; dlerror: libcudart.so.11.0: cannot open shared object file: No such file or directory
2022-06-06 16:03:48.742202: I tensorflow/stream_executor/cuda/cudart_stub.cc:29] Ignore above cudart dlerror if you do not have a GPU set up on your machine.
</pre>


<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 7  <span style="color: #93a1a1;"># 19e3e</span>

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'dirty_delete_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">files</span>=<span style="color: #37785e;">files_dirty</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #5e7837;">model_id</span>=<span style="color: #5e7837;">model_id</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #783778;">method</span>=<span style="color: #2aa198;">'delete'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>

<pre class="example">
2022-06-06 16:03:54.537136: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcuda.so.1'; dlerror: libcuda.so.1: cannot open shared object file: No such file or directory
2022-06-06 16:03:54.537186: W tensorflow/stream_executor/cuda/cuda_driver.cc:269] failed call to cuInit: UNKNOWN ERROR (303)
2022-06-06 16:03:54.537212: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:156] kernel driver does not appear to be running on this host (node152): /proc/driver/nvidia/version does not exist
2022-06-06 16:03:54.537595: I tensorflow/core/platform/cpu_feature_guard.cc:193] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX2 AVX512F FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
WARNING:tensorflow:Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
</pre>


<pre class="example">
744ddb63-44d8-4041-b531-2ce90bcb0e5c
</pre>


<pre class="example">
/beegfs/ye53nis/drmed-git
2022-06-06 11:31:31.271711: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcudart.so.11.0'; dlerror: libcudart.so.11.0: cannot open shared object file: No such file or directory
2022-06-06 11:31:31.271745: I tensorflow/stream_executor/cuda/cudart_stub.cc:29] Ignore above cudart dlerror if you do not have a GPU set up on your machine.
</pre>


<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 4  <span style="color: #93a1a1;"># 484af</span>

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'clean_delete_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">files</span>=<span style="color: #5e7837;">files_clean</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #5e7837;">model_id</span>=<span style="color: #5e7837;">model_id</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #783778;">method</span>=<span style="color: #2aa198;">'delete'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>

<pre class="example">
2022-06-06 11:31:39.219733: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcuda.so.1'; dlerror: libcuda.so.1: cannot open shared object file: No such file or directory
2022-06-06 11:31:39.219776: W tensorflow/stream_executor/cuda/cuda_driver.cc:269] failed call to cuInit: UNKNOWN ERROR (303)
2022-06-06 11:31:39.219797: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:156] kernel driver does not appear to be running on this host (node152): /proc/driver/nvidia/version does not exist
2022-06-06 11:31:39.220117: I tensorflow/core/platform/cpu_feature_guard.cc:193] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX2 AVX512F FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
WARNING:tensorflow:Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `
</pre>
</li>
</ol>
</div>
</div>

<div id="outline-container-sec-2-1-12-3" class="outline-5">
<h5 id="sec-2-1-12-3"><span class="section-number-5">2.1.12.3</span> node 3</h5>
<div class="outline-text-5" id="text-2-1-12-3">
<ol class="org-ol">
<li>Set up tmux (if we haven't done that before) (<code>#+CALL:
       setup-tmux[:session local]</code>)
<table class="table table-striped table-bordered table-hover table-condensed">


<colgroup>
<col  class="left">

<col  class="left">

<col  class="left">
</colgroup>
<tbody>
<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">sh-5.1$</td>
<td class="text-left">ye53nis@ara-login01.rz.uni-jena.de's</td>
<td class="text-left">password:</td>
</tr>

<tr>
<td class="text-left">&gt;</td>
<td class="text-left">ye53nis@ara-login01.rz.uni-jena.de's</td>
<td class="text-left">password:</td>
</tr>
</tbody>
</table>
</li>

<li>Request compute node
<div class="org-src-container">

<pre class="src src-tmux"><span style="color: #657b83; font-weight: bold;">cd</span> <span style="color: #513f78;">/</span>
<span style="color: #78683f;">srun</span> <span style="color: #707e4f;">-p</span> <span style="color: #78683f;">s_standard</span> <span style="color: #374478;">--time</span>=<span style="color: #3f7178;">7-10:00:00</span> <span style="color: #7e544f;">--ntasks-per-node</span>=<span style="color: #783f5a;">24</span> <span style="color: #783f5a;">--mem-per-cpu</span>=<span style="color: #3f7178;">2000</span> <span style="color: #7e544f;">--pty</span> <span style="color: #374478;">bash</span>
</pre>
</div>
</li>

<li>Start Jupyter Lab (<code>#+CALL: jpt-tmux[:session jpmux]</code>)
<div class="org-src-container">

<pre class="src src-tmux"><span style="color: #4f5c7e;">conda</span> <span style="color: #4f7e67;">activate</span> <span style="color: #37785e;">tf</span>
<span style="color: #657b83; font-weight: bold;">export</span> <span style="color: #268bd2;">PORT</span>=<span style="color: #784437;">8891</span>
<span style="color: #657b83; font-weight: bold;">export</span> <span style="color: #268bd2;">XDG_RUNTIME_DIR</span>=<span style="color: #2aa198;">''</span>
<span style="color: #657b83; font-weight: bold;">export</span> <span style="color: #268bd2;">XDG_RUNTIME_DIR</span>=<span style="color: #2aa198;">""</span>
<span style="color: #37785e;">jupyter</span> <span style="color: #4f5c7e;">lab</span> <span style="color: #783778;">--no-browser</span> <span style="color: #5e7837;">--port</span>=$<span style="color: #268bd2;">PORT</span>
</pre>
</div>

<pre class="example">
(tf) [ye53nis@node155 /]$ jupyter lab --no-browser --port=$PORT
[I 2022-06-03 00:28:12.112 ServerApp] jupyterlab | extension was successfully linked.
[I 2022-06-03 00:28:12.735 ServerApp] nbclassic | extension was successfully linked.
[I 2022-06-03 00:28:12.778 ServerApp] nbclassic | extension was successfully loaded.
[I 2022-06-03 00:28:12.780 LabApp] JupyterLab extension loaded from /home/ye53nis/.conda/envs/tf/lib/python3.9/site-packages/jupyterlab
[I 2022-06-03 00:28:12.780 LabApp] JupyterLab application directory is /home/ye53nis/.conda/envs/tf/share/jupyter/lab
[I 2022-06-03 00:28:12.783 ServerApp] jupyterlab | extension was successfully loaded.
[I 2022-06-03 00:28:12.784 ServerApp] Serving notebooks from local directory: /
[I 2022-06-03 00:28:12.784 ServerApp] Jupyter Server 1.13.5 is running at:
[I 2022-06-03 00:28:12.784 ServerApp] http://localhost:8891/lab?token=fe7d23f6a124fa20ea2b5d7f0dfadc3b20f0db64f8feadfd
[I 2022-06-03 00:28:12.784 ServerApp]  or http://127.0.0.1:8891/lab?token=fe7d23f6a124fa20ea2b5d7f0dfadc3b20f0db64f8feadfd
[I 2022-06-03 00:28:12.784 ServerApp] Use Control-C to stop this server and shut down all kernels (twice to skip confirmation).
[C 2022-06-03 00:28:12.790 ServerApp]

    To access the server, open this file in a browser:
        file:///home/ye53nis/.local/share/jupyter/runtime/jpserver-12523-open.html
    Or copy and paste one of these URLs:
        http://localhost:8891/lab?token=fe7d23f6a124fa20ea2b5d7f0dfadc3b20f0db64f8feadfd
     or http://127.0.0.1:8891/lab?token=fe7d23f6a124fa20ea2b5d7f0dfadc3b20f0db64f8feadfd
</pre>
</li>

<li>Create SSH Tunnel for jupyter lab to the local computer (e.g. <code>#+CALL:
       ssh-tunnel(port="8889", node="node160")</code>)
<table class="table table-striped table-bordered table-hover table-condensed">


<colgroup>
<col  class="left">

<col  class="left">

<col  class="left">

<col  class="left">

<col  class="left">

<col  class="left">

<col  class="left">

<col  class="left">

<col  class="left">
</colgroup>
<tbody>
<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">sh-5.1$</td>
<td class="text-left">sh-5.1$</td>
<td class="text-left">ye53nis@ara-login01.rz.uni-jena.de's</td>
<td class="text-left">password:</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">ye53nis@node155's</td>
<td class="text-left">password:</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">Last</td>
<td class="text-left">login:</td>
<td class="text-left">Mon</td>
<td class="text-left">Jun</td>
<td class="text-left">6</td>
<td class="text-left">11:32:59</td>
<td class="text-left">2022</td>
<td class="text-left">from</td>
<td class="text-left">login01.ara</td>
</tr>
</tbody>
</table>
</li>

<li>this subtree was connected to another compute node. I kept the going
track record of all executed commands in the mother node. These following
two code blocks are just examples. The process was the same as in the
mother node.

<pre class="example">
/beegfs/ye53nis/drmed-git
2022-06-06 16:04:50.862041: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcudart.so.11.0'; dlerror: libcudart.so.11.0: cannot open shared object file: No such file or directory
2022-06-06 16:04:50.862080: I tensorflow/stream_executor/cuda/cudart_stub.cc:29] Ignore above cudart dlerror if you do not have a GPU set up on your machine.
</pre>


<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 5  <span style="color: #93a1a1;"># 0cd20</span>

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'dirty_delete_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">files</span>=<span style="color: #37785e;">files_dirty</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #5e7837;">model_id</span>=<span style="color: #5e7837;">model_id</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #783778;">method</span>=<span style="color: #2aa198;">'delete'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>

<pre class="example">
2022-06-06 11:33:30.480931: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcuda.so.1'; dlerror: libcuda.so.1: cannot open shared object file: No such file or directory
2022-06-06 11:33:30.480975: W tensorflow/stream_executor/cuda/cuda_driver.cc:269] failed call to cuInit: UNKNOWN ERROR (303)
2022-06-06 11:33:30.481005: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:156] kernel driver does not appear to be running on this host (node155): /proc/driver/nvidia/version does not exist
2022-06-06 11:33:30.481315: I tensorflow/core/platform/cpu_feature_guard.cc:193] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX2 AVX512F FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
WARNING:tensorflow:Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
</pre>


<pre class="example">
/beegfs/ye53nis/drmed-git
</pre>


<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 5  <span style="color: #93a1a1;"># 0cd20</span>

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'clean_delete_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">files</span>=<span style="color: #5e7837;">files_clean</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #5e7837;">model_id</span>=<span style="color: #5e7837;">model_id</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #783778;">method</span>=<span style="color: #2aa198;">'delete'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>

<pre class="example">
2022-06-06 16:04:56.835044: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcuda.so.1'; dlerror: libcuda.so.1: cannot open shared object file: No such file or directory
2022-06-06 16:04:56.835085: W tensorflow/stream_executor/cuda/cuda_driver.cc:269] failed call to cuInit: UNKNOWN ERROR (303)
2022-06-06 16:04:56.835105: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:156] kernel driver does not appear to be running on this host (node155): /proc/driver/nvidia/version does not exist
2022-06-06 16:04:56.835386: I tensorflow/core/platform/cpu_feature_guard.cc:193] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX2 AVX512F FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
WARNING:tensorflow:Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
</pre>
</li>
</ol>
</div>
</div>

<div id="outline-container-sec-2-1-12-4" class="outline-5">
<h5 id="sec-2-1-12-4"><span class="section-number-5">2.1.12.4</span> <span class="timestamp-wrapper"><span class="timestamp">&lt;2023-01-10 Di&gt; </span></span> Apply <code>averaging</code> and <code>settozero</code> correction with <code>0cd20</code></h5>
<div class="outline-text-5" id="text-2-1-12-4">
<ul class="org-ul">
<li>let's first prepare the function which loads modules, the files list, and
provides a wrapper for the <code>fluotracify</code> correlation and correction
functions:
</li>
<li><code>prepare-jupyter-averaging(data_path="/beegfs/ye53nis/data/1911DD_atto+LUVs",
    output_path="/beegfs/ye53nis/drmed-git/data/exp-220227-unet/2023-01-10_experimental-averaging-delete/")</code>
<code>prepare-jupyter-averaging(data_path="/beegfs/ye53nis/data/1911DD_atto+LUVs",
    output_path="/beegfs/ye53nis/drmed-git/data/exp-220227-unet/2023-01-10_experimental-averaging-delete/")</code>
<details>
<div class="org-src-container">

<pre class="src src-jupyter-python" id="prepare-jupyter-averaging">%<span style="color: #707e4f;">cd</span> /<span style="color: #5e7837;">beegfs</span>/<span style="color: #7a4f7e;">ye53nis</span>/<span style="color: #784437;">drmed</span>-<span style="color: #784437;">git</span>
<span style="color: #859900; font-weight: bold;">import</span> <span style="color: #7a4f7e;">logging</span>
<span style="color: #859900; font-weight: bold;">import</span> <span style="color: #7e544f;">os</span>
<span style="color: #859900; font-weight: bold;">import</span> <span style="color: #513f78;">sys</span>

<span style="color: #859900; font-weight: bold;">import</span> <span style="color: #37785e;">matplotlib</span>.<span style="color: #4f7e67;">pyplot</span> <span style="color: #859900; font-weight: bold;">as</span> <span style="color: #4f7e67;">plt</span>
<span style="color: #859900; font-weight: bold;">import</span> <span style="color: #4f5c7e;">numpy</span> <span style="color: #859900; font-weight: bold;">as</span> <span style="color: #707e4f;">np</span>
<span style="color: #859900; font-weight: bold;">import</span> <span style="color: #5e7837;">pandas</span> <span style="color: #859900; font-weight: bold;">as</span> <span style="color: #783778;">pd</span>
<span style="color: #859900; font-weight: bold;">import</span> <span style="color: #78683f;">seaborn</span> <span style="color: #859900; font-weight: bold;">as</span> <span style="color: #4f5c7e;">sns</span>

<span style="color: #859900; font-weight: bold;">from</span> <span style="color: #43783f;">pathlib</span> <span style="color: #859900; font-weight: bold;">import</span> <span style="color: #78683f;">Path</span>
<span style="color: #859900; font-weight: bold;">from</span> <span style="color: #4f7e67;">pprint</span> <span style="color: #859900; font-weight: bold;">import</span> <span style="color: #4f7e67;">pprint</span>
<span style="color: #859900; font-weight: bold;">from</span> <span style="color: #513f78;">tensorflow</span>.<span style="color: #784437;">keras</span>.<span style="color: #43783f;">optimizers</span> <span style="color: #859900; font-weight: bold;">import</span> <span style="color: #783778;">Adam</span>
<span style="color: #859900; font-weight: bold;">from</span> <span style="color: #5e7837;">mlflow</span>.<span style="color: #784437;">keras</span> <span style="color: #859900; font-weight: bold;">import</span> <span style="color: #783f5a;">load_model</span>

<span style="color: #268bd2;">FLUOTRACIFY_PATH</span> = <span style="color: #2aa198;">'/beegfs/ye53nis/drmed-git/src/'</span>
<span style="color: #513f78;">sys</span>.<span style="color: #513f78;">path</span>.<span style="color: #5e7837;">append</span>(<span style="color: #784437;">FLUOTRACIFY_PATH</span>)
<span style="color: #859900; font-weight: bold;">from</span> <span style="color: #783778;">fluotracify</span>.<span style="color: #4f5c7e;">applications</span> <span style="color: #859900; font-weight: bold;">import</span> <span style="color: #3f7178;">corr_fit_object</span> <span style="color: #859900; font-weight: bold;">as</span> <span style="color: #78683f;">cfo</span>
<span style="color: #859900; font-weight: bold;">from</span> <span style="color: #783778;">fluotracify</span>.<span style="color: #3f7178;">training</span> <span style="color: #859900; font-weight: bold;">import</span> <span style="color: #783778;">build_model</span> <span style="color: #859900; font-weight: bold;">as</span> <span style="color: #374478;">bm</span>

<span style="color: #268bd2;">data_path</span> = <span style="color: #78683f;">Path</span>(<span style="color: #513f78;">data_path</span>)
<span style="color: #268bd2;">output_path</span> = <span style="color: #78683f;">Path</span>(<span style="color: #37785e;">output_path</span>)
<span style="color: #268bd2;">log_path</span> = <span style="color: #37785e;">output_path</span>.<span style="color: #374478;">parent</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'</span><span style="color: #268bd2;">{output_path.name}</span><span style="color: #2aa198;">.log'</span>

<span style="color: #7a4f7e;">logging</span>.<span style="color: #7e544f;">basicConfig</span>(<span style="color: #43783f;">filename</span>=<span style="color: #43783f;">log_path</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #783778;">filemode</span>=<span style="color: #2aa198;">'w'</span>, <span style="color: #657b83; font-weight: bold;">format</span>=<span style="color: #2aa198;">'%(asctime)s - %(message)s'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #374478;">force</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #268bd2;">log</span> = <span style="color: #7a4f7e;">logging</span>.<span style="color: #784437;">getLogger</span>(<span style="color: #657b83; font-weight: bold;">__name__</span>)
<span style="color: #78683f;">log</span>.<span style="color: #4f5c7e;">setLevel</span>(<span style="color: #7a4f7e;">logging</span>.<span style="color: #783778;">DEBUG</span>)

<span style="color: #4f5c7e;">sns</span>.<span style="color: #374478;">set_theme</span>(<span style="color: #3f7178;">style</span>=<span style="color: #2aa198;">"whitegrid"</span>, <span style="color: #784437;">font_scale</span>=2, <span style="color: #5e7837;">palette</span>=<span style="color: #2aa198;">'colorblind'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #4f7e67;">context</span>=<span style="color: #2aa198;">'paper'</span>)

<span style="color: #859900; font-weight: bold;">class</span> <span style="color: #b58900;">ParameterClass</span>():
<span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">"""Stores parameters for correlation """</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">def</span> <span style="color: #268bd2;">__init__</span>(<span style="color: #859900; font-weight: bold;">self</span>):
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;"># Where the data is stored.</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">self</span><span style="color: #268bd2;">.data</span> = []
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">self</span><span style="color: #268bd2;">.objectRef</span> = []
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">self</span><span style="color: #268bd2;">.subObjectRef</span> = []
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">self</span><span style="color: #268bd2;">.colors</span> = [<span style="color: #2aa198;">'blue'</span>, <span style="color: #2aa198;">'green'</span>, <span style="color: #2aa198;">'red'</span>, <span style="color: #2aa198;">'cyan'</span>, <span style="color: #2aa198;">'magenta'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #2aa198;">'yellow'</span>, <span style="color: #2aa198;">'black'</span>]
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">self</span><span style="color: #268bd2;">.numOfLoaded</span> = 0
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;"># very fast from Ncasc ~ 14 onwards</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">self</span><span style="color: #268bd2;">.NcascStart</span> = 0
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">self</span><span style="color: #268bd2;">.NcascEnd</span> = 30  <span style="color: #93a1a1;"># 25</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">self</span><span style="color: #268bd2;">.Nsub</span> = 6  <span style="color: #93a1a1;"># 6</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">self</span><span style="color: #268bd2;">.photonLifetimeBin</span> = 10  <span style="color: #93a1a1;"># used for photon decay</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">self</span><span style="color: #268bd2;">.photonCountBin</span> = 1  <span style="color: #93a1a1;"># used for time series</span>

<span style="color: #268bd2;">par_obj</span> = <span style="color: #4f7e67;">ParameterClass</span>()

<span style="color: #268bd2;">model_ls</span> = [<span style="color: #2aa198;">'ff67be0b68e540a9a29a36a2d0c7a5be'</span>, <span style="color: #2aa198;">'347669d050f344ad9fb9e480c814f727'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">'714af8cd12c1441eac4ca980e8c20070'</span>, <span style="color: #2aa198;">'34a6d207ac594035b1009c330fb67a65'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">'484af471c61943fa90e5f78e78a229f0'</span>, <span style="color: #2aa198;">'0cd2023eeaf745aca0d3e8ad5e1fc653'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">'fe81d71c52404ed790b3a32051258da9'</span>, <span style="color: #2aa198;">'19e3e786e1bc4e2b93856f5dc9de8216'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">'c1204e3a8a1e4c40a35b5b7b1922d1ce'</span>]

<span style="color: #268bd2;">model_name_ls</span> = [<span style="color: #43783f;">f</span><span style="color: #2aa198;">'</span><span style="color: #268bd2;">{s:.5}</span><span style="color: #2aa198;">'</span> <span style="color: #859900; font-weight: bold;">for</span> <span style="color: #784437;">s</span> <span style="color: #859900; font-weight: bold;">in</span> <span style="color: #513f78;">model_ls</span>]

<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">scaler_ls = ['minmax', 'robust', 'maxabs', 'l2', 'standard', 'quant_g', 'standard',</span>
<span style="color: #93a1a1;">#              </span><span style="color: #93a1a1;">'standard', 'robust']</span>

<span style="color: #268bd2;">pred_thresh</span> = 0.5

<span style="color: #859900; font-weight: bold;">if</span> <span style="color: #268bd2;">data_path.name</span> == <span style="color: #2aa198;">"1911DD_atto+LUVs"</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">path_clean1</span> = <span style="color: #513f78;">data_path</span> / <span style="color: #2aa198;">'clean_ptu_part1/'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">path_clean2</span> = <span style="color: #513f78;">data_path</span> / <span style="color: #2aa198;">'clean_ptu_part2/'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">path_dirty1</span> = <span style="color: #513f78;">data_path</span> / <span style="color: #2aa198;">'dirty_ptu_part1/'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">path_dirty2</span> = <span style="color: #513f78;">data_path</span> / <span style="color: #2aa198;">'dirty_ptu_part2/'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">files_clean1</span> = [<span style="color: #4f5c7e;">path_clean1</span> / <span style="color: #43783f;">f</span> <span style="color: #859900; font-weight: bold;">for</span> <span style="color: #43783f;">f</span> <span style="color: #859900; font-weight: bold;">in</span> <span style="color: #7e544f;">os</span>.<span style="color: #783778;">listdir</span>(<span style="color: #4f5c7e;">path_clean1</span>) <span style="color: #859900; font-weight: bold;">if</span> <span style="color: #43783f;">f</span>.<span style="color: #783778;">endswith</span>(<span style="color: #2aa198;">'.ptu'</span>)]
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">files_clean2</span> = [<span style="color: #783f5a;">path_clean2</span> / <span style="color: #43783f;">f</span> <span style="color: #859900; font-weight: bold;">for</span> <span style="color: #43783f;">f</span> <span style="color: #859900; font-weight: bold;">in</span> <span style="color: #7e544f;">os</span>.<span style="color: #783778;">listdir</span>(<span style="color: #783f5a;">path_clean2</span>) <span style="color: #859900; font-weight: bold;">if</span> <span style="color: #43783f;">f</span>.<span style="color: #783778;">endswith</span>(<span style="color: #2aa198;">'.ptu'</span>)]
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">files_dirty1</span> = [<span style="color: #3f7178;">path_dirty1</span> / <span style="color: #43783f;">f</span> <span style="color: #859900; font-weight: bold;">for</span> <span style="color: #43783f;">f</span> <span style="color: #859900; font-weight: bold;">in</span> <span style="color: #7e544f;">os</span>.<span style="color: #783778;">listdir</span>(<span style="color: #3f7178;">path_dirty1</span>) <span style="color: #859900; font-weight: bold;">if</span> <span style="color: #43783f;">f</span>.<span style="color: #783778;">endswith</span>(<span style="color: #2aa198;">'.ptu'</span>)]
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">files_dirty2</span> = [<span style="color: #784437;">path_dirty2</span> / <span style="color: #43783f;">f</span> <span style="color: #859900; font-weight: bold;">for</span> <span style="color: #43783f;">f</span> <span style="color: #859900; font-weight: bold;">in</span> <span style="color: #7e544f;">os</span>.<span style="color: #783778;">listdir</span>(<span style="color: #784437;">path_dirty2</span>) <span style="color: #859900; font-weight: bold;">if</span> <span style="color: #43783f;">f</span>.<span style="color: #783778;">endswith</span>(<span style="color: #2aa198;">'.ptu'</span>)]

<span style="color: #859900; font-weight: bold;">if</span> <span style="color: #268bd2;">data_path.name</span> == <span style="color: #2aa198;">"191113_Pex5_2_structured"</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">path_clean</span> = <span style="color: #513f78;">data_path</span> / <span style="color: #2aa198;">'HsPEX5EGFP 1-100001'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">path_dirty</span> = <span style="color: #513f78;">data_path</span> / <span style="color: #2aa198;">'TbPEX5EGFP 1-10002'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">files_clean</span> = [<span style="color: #5e7837;">path_clean</span> / <span style="color: #43783f;">f</span> <span style="color: #859900; font-weight: bold;">for</span> <span style="color: #43783f;">f</span> <span style="color: #859900; font-weight: bold;">in</span> <span style="color: #7e544f;">os</span>.<span style="color: #783778;">listdir</span>(<span style="color: #5e7837;">path_clean</span>) <span style="color: #859900; font-weight: bold;">if</span> <span style="color: #43783f;">f</span>.<span style="color: #783778;">endswith</span>(<span style="color: #2aa198;">'.ptu'</span>)]
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">files_dirty</span> = [<span style="color: #783778;">path_dirty</span> / <span style="color: #43783f;">f</span> <span style="color: #859900; font-weight: bold;">for</span> <span style="color: #43783f;">f</span> <span style="color: #859900; font-weight: bold;">in</span> <span style="color: #7e544f;">os</span>.<span style="color: #783778;">listdir</span>(<span style="color: #783778;">path_dirty</span>) <span style="color: #859900; font-weight: bold;">if</span> <span style="color: #43783f;">f</span>.<span style="color: #783778;">endswith</span>(<span style="color: #2aa198;">'.ptu'</span>)]

<span style="color: #859900; font-weight: bold;">def</span> <span style="color: #268bd2;">predict_correct_correlate_ptu</span>(<span style="color: #3f7178;">files</span>, <span style="color: #5e7837;">model_id</span>, <span style="color: #783778;">method</span>, <span style="color: #513f78;">out_path</span>):

<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">logged_scaler</span> = <span style="color: #78683f;">Path</span>(<span style="color: #43783f;">f</span><span style="color: #2aa198;">'/beegfs/ye53nis/drmed-git/data/mlruns/10/{model_ls[model_id]}/params/scaler'</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">logged_scaler</span> = !<span style="color: #4f7e67;">cat</span> $<span style="color: #783f5a;">logged_scaler</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">logged_scaler</span> = <span style="color: #783f5a;">logged_scaler</span>[0]

<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">logged_model</span> = <span style="color: #78683f;">Path</span>(<span style="color: #43783f;">f</span><span style="color: #2aa198;">'/beegfs/ye53nis/drmed-git/data/mlruns/10/{model_ls[model_id]}/artifacts/model'</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">logged_model</span> = <span style="color: #783f5a;">load_model</span>(<span style="color: #783f5a;">logged_model</span>, <span style="color: #657b83; font-weight: bold;">compile</span>=<span style="color: #859900; font-weight: bold;">False</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="color: #783f5a;">logged_model</span>.<span style="color: #374478;">compile</span>(<span style="color: #783f5a;">loss</span>=<span style="color: #374478;">bm</span>.<span style="color: #783f5a;">binary_ce_dice_loss</span>(),
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #7a4f7e;">optimizer</span>=<span style="color: #783778;">Adam</span>(),
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #43783f;">metrics</span> = <span style="color: #374478;">bm</span>.<span style="color: #374478;">unet_metrics</span>([0.1, 0.3, 0.5, 0.7, 0.9]))
<span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">if</span> <span style="color: #268bd2;">method</span> == <span style="color: #2aa198;">'delete_and_shift'</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">method_corr</span> = <span style="color: #2aa198;">'tttr2xfcs'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">method_str</span> = <span style="color: #2aa198;">'DELSHIFT'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">elif</span> <span style="color: #268bd2;">method</span> == <span style="color: #2aa198;">'delete'</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">method_corr</span> = <span style="color: #2aa198;">'tttr2xfcs'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">method_str</span> = <span style="color: #2aa198;">'DEL'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">elif</span> <span style="color: #268bd2;">method</span> == <span style="color: #2aa198;">'weights'</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">method_corr</span> = <span style="color: #2aa198;">'tttr2xfcs_with_weights'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">method_str</span> = <span style="color: #2aa198;">'tttr2xfcs_with_weights'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">elif</span> <span style="color: #268bd2;">method</span> == <span style="color: #2aa198;">'averaging'</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">method_corr</span> = <span style="color: #2aa198;">'tttr2xfcs_with_averaging'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">method_str</span> = <span style="color: #2aa198;">'tttr2xfcs_with_averaging'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">for</span> <span style="color: #78683f;">idx</span>, <span style="color: #784437;">myfile</span> <span style="color: #859900; font-weight: bold;">in</span> <span style="color: #657b83; font-weight: bold;">enumerate</span>(<span style="color: #3f7178;">files</span>):
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">ptufile</span> = <span style="color: #78683f;">cfo</span>.<span style="color: #5e7837;">PicoObject</span>(<span style="color: #784437;">myfile</span>, <span style="color: #37785e;">par_obj</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">ptufile</span>.<span style="color: #37785e;">predictTimeSeries</span>(<span style="color: #783778;">method</span>=<span style="color: #2aa198;">'unet'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #43783f;">model</span>=<span style="color: #783f5a;">logged_model</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #4f5c7e;">scaler</span>=<span style="color: #783f5a;">logged_scaler</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">ptufile</span>.<span style="color: #37785e;">correctTCSPC</span>(<span style="color: #783778;">method</span>=<span style="color: #783778;">method</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">if</span> <span style="color: #783778;">method</span> <span style="color: #859900; font-weight: bold;">in</span> [<span style="color: #2aa198;">'delete'</span>, <span style="color: #2aa198;">'delete_and_shift'</span>, <span style="color: #2aa198;">'weights'</span>]:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">for</span> <span style="color: #3f7178;">key</span> <span style="color: #859900; font-weight: bold;">in</span> <span style="color: #3f7178;">ptufile</span>.<span style="color: #7a4f7e;">trueTimeArr</span>.<span style="color: #78683f;">keys</span>():
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">ptufile</span>.<span style="color: #4f5c7e;">get_autocorrelation</span>(<span style="color: #783778;">method</span>=<span style="color: #43783f;">method_corr</span>, <span style="color: #374478;">name</span>=<span style="color: #3f7178;">key</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">elif</span> <span style="color: #268bd2;">method</span> == <span style="color: #2aa198;">'averaging'</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">for</span> <span style="color: #3f7178;">key</span> <span style="color: #859900; font-weight: bold;">in</span> <span style="color: #3f7178;">ptufile</span>.<span style="color: #4f7e67;">trueTimeParts</span>.<span style="color: #78683f;">keys</span>():
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">ptufile</span>.<span style="color: #4f5c7e;">get_autocorrelation</span>(<span style="color: #783778;">method</span>=<span style="color: #43783f;">method_corr</span>, <span style="color: #374478;">name</span>=<span style="color: #3f7178;">key</span>)

<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">if</span> <span style="color: #43783f;">method_corr</span> <span style="color: #859900; font-weight: bold;">in</span> <span style="color: #657b83; font-weight: bold;">list</span>(<span style="color: #3f7178;">ptufile</span>.<span style="color: #5e7837;">autoNorm</span>.<span style="color: #78683f;">keys</span>()):
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">for</span> <span style="color: #3f7178;">key</span> <span style="color: #859900; font-weight: bold;">in</span> <span style="color: #657b83; font-weight: bold;">list</span>(<span style="color: #3f7178;">ptufile</span>.<span style="color: #5e7837;">autoNorm</span>[<span style="color: #43783f;">method_corr</span>].<span style="color: #78683f;">keys</span>()):
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">if</span> ((<span style="color: #783778;">method_str</span> <span style="color: #859900; font-weight: bold;">in</span> <span style="color: #3f7178;">key</span>) <span style="color: #859900; font-weight: bold;">or</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   (<span style="color: #783778;">method_str</span> <span style="color: #859900; font-weight: bold;">in</span> [<span style="color: #2aa198;">'tttr2xfcs_with_weights'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">'tttr2xfcs_with_averaging'</span>])):
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">ptufile</span>.<span style="color: #7a4f7e;">save_autocorrelation</span>(<span style="color: #374478;">name</span>=<span style="color: #3f7178;">key</span>, <span style="color: #783778;">method</span>=<span style="color: #43783f;">method_corr</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #37785e;">output_path</span>=<span style="color: #513f78;">out_path</span>)
</pre>
</div>
</details>
<pre class="example">
/beegfs/ye53nis/drmed-git
</pre>


<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #859900; font-weight: bold;">import</span> <span style="color: #7e544f;">importlib</span>
<span style="color: #7e544f;">importlib</span>.<span style="color: #707e4f;">reload</span>(<span style="color: #78683f;">cfo</span>)
</pre>
</div>

<pre class="example">
&lt;module 'fluotracify.applications.corr_fit_object' from '/beegfs/ye53nis/drmed-git/src/fluotracify/applications/corr_fit_object.py'&gt;
</pre>
</li>

<li>let's also define a function to kill the jupyter environment. This is due
to the <code>fluotracify</code> correlation algorithm memory allocation problem I
haven't figured out yet. It will fill the memory after processing ~300
files of the <code>af488</code> experiments (higher count rates). Because I haven't
figured out how to solve this problem, I split the folders in parts and
restart the environment.
<div class="org-src-container">

<pre class="src src-jupyter-python" id="kill-jupyter"><span style="color: #7e544f;">os</span>.<span style="color: #784437;">_exit</span>(00)
</pre>
</div>

<pre class="example">
7a752b61-60c1-4322-8105-e8dbd705caa0
</pre>
</li>

<li>first: <code>af488luvs</code> and <code>af488</code> with <code>averaging</code> and <code>delete</code> correction
(later we called it <code>set to zero</code>). We only use mode <code>0cd20</code> for prediction,
because this has proved to be the most robust.
<details>
<ul class="org-ul">
<li><code>#+CALL: prepare-jupyter-averaging()</code>
<pre class="example">
/beegfs/ye53nis/drmed-git
2023-01-12 13:29:49.334418: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcudart.so.11.0'; dlerror: libcudart.so.11.0: cannot open shared object file: No such file or directory
2023-01-12 13:29:49.334472: I tensorflow/stream_executor/cuda/cudart_stub.cc:29] Ignore above cudart dlerror if you do not have a GPU set up on your machine.
</pre>


<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 5

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'dirty_averaging_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #268bd2;">ptufile</span> = <span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">files</span>=<span style="color: #783f5a;">files_dirty1</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #5e7837;">model_id</span>=<span style="color: #5e7837;">model_id</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #783778;">method</span>=<span style="color: #2aa198;">'averaging'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>
</li>

<li><code>#+CALL: kill-jupyter()</code>
<pre class="example">
1603e9bd-2d3a-4295-ace3-d86b1cdf4f4f
</pre>
</li>

<li><code>#+CALL: prepare-jupyter-averaging()</code> etc&#x2026;
<pre class="example">
/beegfs/ye53nis/drmed-git
2023-01-12 17:28:27.364198: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcudart.so.11.0'; dlerror: libcudart.so.11.0: cannot open shared object file: No such file or directory
2023-01-12 17:28:27.364273: I tensorflow/stream_executor/cuda/cudart_stub.cc:29] Ignore above cudart dlerror if you do not have a GPU set up on your machine.
</pre>


<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 5

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'dirty_averaging_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #268bd2;">ptufile</span> = <span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">files</span>=<span style="color: #513f78;">files_dirty2</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #5e7837;">model_id</span>=<span style="color: #5e7837;">model_id</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #783778;">method</span>=<span style="color: #2aa198;">'averaging'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>

<pre class="example">
2023-01-12 17:28:58.975546: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcuda.so.1'; dlerror: libcuda.so.1: cannot open shared object file: No such file or directory
2023-01-12 17:28:58.975606: W tensorflow/stream_executor/cuda/cuda_driver.cc:269] failed call to cuInit: UNKNOWN ERROR (303)
2023-01-12 17:28:58.975643: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:156] kernel driver does not appear to be running on this host (node117): /proc/driver/nvidia/version does not exist
2023-01-12 17:28:58.976216: I tensorflow/core/platform/cpu_feature_guard.cc:193] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX2 FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
WARNING:tensorflow:Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
</pre>


<pre class="example">
/beegfs/ye53nis/drmed-git
2023-01-13 12:01:00.676480: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcudart.so.11.0'; dlerror: libcudart.so.11.0: cannot open shared object file: No such file or directory
2023-01-13 12:01:00.676539: I tensorflow/stream_executor/cuda/cudart_stub.cc:29] Ignore above cudart dlerror if you do not have a GPU set up on your machine.
</pre>


<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 5

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'clean_averaging_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #268bd2;">ptufile</span> = <span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">files</span>=<span style="color: #7e544f;">files_clean1</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #5e7837;">model_id</span>=<span style="color: #5e7837;">model_id</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #783778;">method</span>=<span style="color: #2aa198;">'averaging'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>

<pre class="example">
2023-01-13 12:07:29.082697: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcuda.so.1'; dlerror: libcuda.so.1: cannot open shared object file: No such file or directory
2023-01-13 12:07:29.082756: W tensorflow/stream_executor/cuda/cuda_driver.cc:269] failed call to cuInit: UNKNOWN ERROR (303)
2023-01-13 12:07:29.082791: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:156] kernel driver does not appear to be running on this host (node117): /proc/driver/nvidia/version does not exist
2023-01-13 12:07:29.083227: I tensorflow/core/platform/cpu_feature_guard.cc:193] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX2 FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
WARNING:tensorflow:Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
</pre>


<pre class="example">
5b633a1b-0c54-453f-a4bf-a9d30182fdd3
</pre>


<pre class="example">
/beegfs/ye53nis/drmed-git
2023-01-13 14:38:58.893878: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcudart.so.11.0'; dlerror: libcudart.so.11.0: cannot open shared object file: No such file or directory
2023-01-13 14:38:58.893919: I tensorflow/stream_executor/cuda/cudart_stub.cc:29] Ignore above cudart dlerror if you do not have a GPU set up on your machine.
</pre>


<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 5

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'clean_averaging_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #268bd2;">ptufile</span> = <span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">files</span>=<span style="color: #43783f;">files_clean2</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #5e7837;">model_id</span>=<span style="color: #5e7837;">model_id</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #783778;">method</span>=<span style="color: #2aa198;">'averaging'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>

<pre class="example">
2023-01-13 14:39:25.593798: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcuda.so.1'; dlerror: libcuda.so.1: cannot open shared object file: No such file or directory
2023-01-13 14:39:25.593871: W tensorflow/stream_executor/cuda/cuda_driver.cc:269] failed call to cuInit: UNKNOWN ERROR (303)
2023-01-13 14:39:25.593915: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:156] kernel driver does not appear to be running on this host (node117): /proc/driver/nvidia/version does not exist
2023-01-13 14:39:25.594445: I tensorflow/core/platform/cpu_feature_guard.cc:193] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX2 FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
WARNING:tensorflow:Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
</pre>


<pre class="example">
a965cd3e-f452-4c79-9428-b5152c3ba8aa
</pre>
</li>

<li>second: <code>af488luvs</code> and <code>af488</code> delete correction.
</li>
<li><code>#+CALL: prepare-jupyter-averaging()</code> etc&#x2026;
<pre class="example">
/beegfs/ye53nis/drmed-git
2023-01-16 16:37:55.758832: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcudart.so.11.0'; dlerror: libcudart.so.11.0: cannot open shared object file: No such file or directory
2023-01-16 16:37:55.758867: I tensorflow/stream_executor/cuda/cudart_stub.cc:29] Ignore above cudart dlerror if you do not have a GPU set up on your machine.
</pre>


<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 5

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'dirty_delete_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #268bd2;">ptufile</span> = <span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">files</span>=<span style="color: #783f5a;">files_dirty1</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #5e7837;">model_id</span>=<span style="color: #5e7837;">model_id</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #783778;">method</span>=<span style="color: #2aa198;">'delete'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>

<pre class="example">
WARNING:tensorflow:Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
</pre>


<pre class="example">
b91bd6bb-e7b8-44c1-b014-02275b3516b6
</pre>


<pre class="example">
/beegfs/ye53nis/drmed-git
2023-01-16 23:53:43.486077: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcudart.so.11.0'; dlerror: libcudart.so.11.0: cannot open shared object file: No such file or directory
2023-01-16 23:53:43.486120: I tensorflow/stream_executor/cuda/cudart_stub.cc:29] Ignore above cudart dlerror if you do not have a GPU set up on your machine.
</pre>


<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 5

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'dirty_delete_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #268bd2;">ptufile</span> = <span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">files</span>=<span style="color: #513f78;">files_dirty2</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #5e7837;">model_id</span>=<span style="color: #5e7837;">model_id</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #783778;">method</span>=<span style="color: #2aa198;">'delete'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>

<pre class="example">
2023-01-16 23:53:57.181417: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcuda.so.1'; dlerror: libcuda.so.1: cannot open shared object file: No such file or directory
2023-01-16 23:53:57.181479: W tensorflow/stream_executor/cuda/cuda_driver.cc:269] failed call to cuInit: UNKNOWN ERROR (303)
2023-01-16 23:53:57.181516: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:156] kernel driver does not appear to be running on this host (node117): /proc/driver/nvidia/version does not exist
2023-01-16 23:53:57.181940: I tensorflow/core/platform/cpu_feature_guard.cc:193] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX2 FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
WARNING:tensorflow:Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
</pre>


<pre class="example">
/beegfs/ye53nis/drmed-git
2023-01-17 13:11:45.290135: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcudart.so.11.0'; dlerror: libcudart.so.11.0: cannot open shared object file: No such file or directory
2023-01-17 13:11:45.290197: I tensorflow/stream_executor/cuda/cudart_stub.cc:29] Ignore above cudart dlerror if you do not have a GPU set up on your machine.
</pre>


<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 5

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'clean_delete_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #268bd2;">ptufile</span> = <span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">files</span>=<span style="color: #7e544f;">files_clean1</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #5e7837;">model_id</span>=<span style="color: #5e7837;">model_id</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #783778;">method</span>=<span style="color: #2aa198;">'delete'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>

<pre class="example">
2023-01-17 13:12:04.995182: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcuda.so.1'; dlerror: libcuda.so.1: cannot open shared object file: No such file or directory
2023-01-17 13:12:04.995223: W tensorflow/stream_executor/cuda/cuda_driver.cc:269] failed call to cuInit: UNKNOWN ERROR (303)
2023-01-17 13:12:04.995253: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:156] kernel driver does not appear to be running on this host (node117): /proc/driver/nvidia/version does not exist
2023-01-17 13:12:04.995535: I tensorflow/core/platform/cpu_feature_guard.cc:193] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX2 FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
WARNING:tensorflow:Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
</pre>


<pre class="example">
63efbb75-e4b2-4b2c-ba46-ecf44a9d66fc
</pre>


<pre class="example">
/beegfs/ye53nis/drmed-git
2023-01-17 17:20:22.162939: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcudart.so.11.0'; dlerror: libcudart.so.11.0: cannot open shared object file: No such file or directory
2023-01-17 17:20:22.162993: I tensorflow/stream_executor/cuda/cudart_stub.cc:29] Ignore above cudart dlerror if you do not have a GPU set up on your machine.
</pre>


<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 5

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'clean_delete_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #268bd2;">ptufile</span> = <span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">files</span>=<span style="color: #43783f;">files_clean2</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #5e7837;">model_id</span>=<span style="color: #5e7837;">model_id</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #783778;">method</span>=<span style="color: #2aa198;">'delete'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>

<pre class="example">
2023-01-17 17:20:51.771891: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcuda.so.1'; dlerror: libcuda.so.1: cannot open shared object file: No such file or directory
2023-01-17 17:20:51.771954: W tensorflow/stream_executor/cuda/cuda_driver.cc:269] failed call to cuInit: UNKNOWN ERROR (303)
2023-01-17 17:20:51.771992: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:156] kernel driver does not appear to be running on this host (node117): /proc/driver/nvidia/version does not exist
2023-01-17 17:20:51.772457: I tensorflow/core/platform/cpu_feature_guard.cc:193] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX2 FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
WARNING:tensorflow:Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
</pre>


<pre class="example">
63efbb75-e4b2-4b2c-ba46-ecf44a9d66fc
</pre>
</li>
</ul>
</details>
</li>
<li>third: <code>tb-pex5</code> and <code>hs-pex5</code> with <code>averaging</code> correction and <code>set to zero</code>
correction. Because these files are small and memory allocation is less of
a problem, we don't need to kill our jupyter session in between
<details>
<ul class="org-ul">
<li><code>#+CALL: prepare-jupyter-averaging("/beegfs/ye53nis/data/191113_Pex5_2_structured")</code>
<pre class="example">
/beegfs/ye53nis/drmed-git
2023-01-18 11:53:14.696643: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcudart.so.11.0'; dlerror: libcudart.so.11.0: cannot open shared object file: No such file or directory
2023-01-18 11:53:14.696707: I tensorflow/stream_executor/cuda/cudart_stub.cc:29] Ignore above cudart dlerror if you do not have a GPU set up on your machine.
</pre>

<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 5

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'tbpex5_averaging_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #268bd2;">ptufile</span> = <span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">files</span>=<span style="color: #37785e;">files_dirty</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #5e7837;">model_id</span>=<span style="color: #5e7837;">model_id</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #783778;">method</span>=<span style="color: #2aa198;">'averaging'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>

<pre class="example">
WARNING:tensorflow:Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
</pre>


<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 5

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'tbpex5_delete_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #268bd2;">ptufile</span> = <span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">files</span>=<span style="color: #37785e;">files_dirty</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #5e7837;">model_id</span>=<span style="color: #5e7837;">model_id</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #783778;">method</span>=<span style="color: #2aa198;">'delete'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>

<pre class="example">
WARNING:tensorflow:Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
</pre>


<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 5

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'hspex5_averaging_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #268bd2;">ptufile</span> = <span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">files</span>=<span style="color: #5e7837;">files_clean</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #5e7837;">model_id</span>=<span style="color: #5e7837;">model_id</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #783778;">method</span>=<span style="color: #2aa198;">'averaging'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>

<pre class="example">
WARNING:tensorflow:Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
</pre>


<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">model_id</span> = 5

<span style="color: #268bd2;">out_dir</span> = <span style="color: #37785e;">output_path</span> / <span style="color: #43783f;">f</span><span style="color: #2aa198;">'hspex5_delete_</span><span style="color: #268bd2;">{model_name_ls[model_id]}</span><span style="color: #2aa198;">/'</span>

<span style="color: #7e544f;">os</span>.<span style="color: #43783f;">makedirs</span>(<span style="color: #43783f;">out_dir</span>, <span style="color: #707e4f;">exist_ok</span>=<span style="color: #859900; font-weight: bold;">True</span>)

<span style="color: #268bd2;">ptufile</span> = <span style="color: #37785e;">predict_correct_correlate_ptu</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">files</span>=<span style="color: #5e7837;">files_clean</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #5e7837;">model_id</span>=<span style="color: #5e7837;">model_id</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #783778;">method</span>=<span style="color: #2aa198;">'delete'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">out_path</span>=<span style="color: #43783f;">out_dir</span>)
</pre>
</div>

<pre class="example">
WARNING:tensorflow:Unable to restore custom metric. Please ensure that the layer implements `get_config` and `from_config` when saving. In addition, please use the `custom_objects` arg when calling `load_model()`.
</pre>
</li>
</ul>
</details>
</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-sec-2-1-13" class="outline-4">
<h4 id="sec-2-1-13"><span class="section-number-4">2.1.13</span> Analysis 3: correlations and fits of experimental data</h4>
<div class="outline-text-4" id="text-2-1-13">
</div><div id="outline-container-sec-2-1-13-1" class="outline-5">
<h5 id="sec-2-1-13-1"><span class="section-number-5">2.1.13.1</span> compare model performance on <code>af488</code> data</h5>
<div class="outline-text-5" id="text-2-1-13-1">
<ul class="org-ul">
<li>call <code>#+CALL: jupyter-set-output-directory()</code>
<pre class="example">
./data/exp-220227-unet/jupyter
</pre>
</li>
</ul>
<ul class="org-ul">
<li>first, illlustrative correlations and fits from <code>FoCuS-point</code> fitting. We
start with the data which was later used to plot <code>avg_param</code> data
<details>
<ul class="org-ul">
<li>Averaged curves of <code>AF488</code> (no artifacts) with proceesings (no
correction + all models, each curves is averaged from 424 correlations)
<img src="./2022-05-22_experimental-af488/clean-all-results/clean_all_1comp.png" class="img-responsive" alt="clean_all_1comp.png">
<img src="./2022-05-22_experimental-af488/clean-all-results/clean_all_2comp.png" class="img-responsive" alt="clean_all_2comp.png">
</li>
<li>Averaged curves of <code>AF488 + DiO-LUVs</code> (peak artifacts) with proceesings
(no correction + all models, each curves is averaged from 440
correlations)
<img src="./2022-05-22_experimental-af488/dirty-all-results/dirty_all_1comp.png" class="img-responsive" alt="dirty_all_1comp.png">
<img src="./2022-05-22_experimental-af488/dirty-all-results/dirty_all_2comp.png" class="img-responsive" alt="dirty_all_2comp.png">
</li>
</ul>
</details>
</li>

<li>Now we continue  with <code>AF488</code> - this is data without peak artifacts,
which was later read in as <code>all_param</code>

<details>
<ul class="org-ul">
<li><code>no correction</code>, 1 species and 2 species fits. The 1 species fit of <code>no
       correction</code> is the gold standard all correction methods are compared
against.
<img src="./2022-05-22_experimental-af488/clean-all-results/clean_no-correction_1comp.png" class="img-responsive" alt="clean_no-correction_1comp.png">
<img src="./2022-05-22_experimental-af488/clean-all-results/clean_no-correction_2comp.png" class="img-responsive" alt="clean_no-correction_2comp.png">
</li>
<li><code>0cd20</code>, 1 species and 2 species fits.
<img src="./2022-05-22_experimental-af488/clean-all-results/clean_0cd20_1comp.png" class="img-responsive" alt="clean_0cd20_1comp.png">
<img src="./2022-05-22_experimental-af488/clean-all-results/clean_0cd20_2comp.png" class="img-responsive" alt="clean_0cd20_2comp.png">
</li>
<li><code>19e3e</code>, 1 species and 2 species fits.
<img src="./2022-05-22_experimental-af488/clean-all-results/clean_19e3e_1comp.png" class="img-responsive" alt="clean_19e3e_1comp.png">
<img src="./2022-05-22_experimental-af488/clean-all-results/clean_19e3e_2comp.png" class="img-responsive" alt="clean_19e3e_2comp.png">
</li>
<li><code>34a6d</code>, 1 species and 2 species fits.
<img src="./2022-05-22_experimental-af488/clean-all-results/clean_34a6d_1comp.png" class="img-responsive" alt="clean_34a6d_1comp.png">
<img src="./2022-05-22_experimental-af488/clean-all-results/clean_34a6d_2comp.png" class="img-responsive" alt="clean_34a6d_2comp.png">
</li>
<li><code>484af</code>, 1 species and 2 species fits.
<img src="./2022-05-22_experimental-af488/clean-all-results/clean_484af_1comp.png" class="img-responsive" alt="clean_484af_1comp.png">
<img src="./2022-05-22_experimental-af488/clean-all-results/clean_484af_2comp.png" class="img-responsive" alt="clean_484af_2comp.png">
</li>
<li><code>714af</code>, 1 species and 2 species fits.
<img src="./2022-05-22_experimental-af488/clean-all-results/clean_714af_1comp.png" class="img-responsive" alt="clean_714af_1comp.png">
<img src="./2022-05-22_experimental-af488/clean-all-results/clean_714af_2comp.png" class="img-responsive" alt="clean_714af_2comp.png">
</li>
<li><code>34766</code>, 1 species and 2 species fits.
<img src="./2022-05-22_experimental-af488/clean-all-results/clean_34766_1comp.png" class="img-responsive" alt="clean_34766_1comp.png">
<img src="./2022-05-22_experimental-af488/clean-all-results/clean_34766_2comp.png" class="img-responsive" alt="clean_34766_2comp.png">
</li>
<li><code>c1204</code>, 1 species and 2 species fits.
<img src="./2022-05-22_experimental-af488/clean-all-results/clean_c1204_1comp.png" class="img-responsive" alt="clean_c1204_1comp.png">
<img src="./2022-05-22_experimental-af488/clean-all-results/clean_c1204_2comp.png" class="img-responsive" alt="clean_c1204_2comp.png">
</li>
<li><code>fe81d</code>, 1 species and 2 species fits.
<img src="./2022-05-22_experimental-af488/clean-all-results/clean_fe81d_1comp.png" class="img-responsive" alt="clean_fe81d_1comp.png">
<img src="./2022-05-22_experimental-af488/clean-all-results/clean_fe81d_2comp.png" class="img-responsive" alt="clean_fe81d_2comp.png">
</li>
<li><code>ff67b</code>, 1 species and 2 species fits.
<img src="./2022-05-22_experimental-af488/clean-all-results/clean_ff67b_1comp.png" class="img-responsive" alt="clean_ff67b_1comp.png">
<img src="./2022-05-22_experimental-af488/clean-all-results/clean_ff67b_2comp.png" class="img-responsive" alt="clean_ff67b_2comp.png">
</li>
</ul>
</details>
</li>
<li>now illlustrative correlations and fits from <code>AF488 + DiO-LUVs</code> (data with
peak artifacts). This is the data we want to correct.

<details>
<ul class="org-ul">
<li><code>no correction</code>, 1 species and 2 species fits.
<img src="./2022-05-22_experimental-af488/dirty-all-results/dirty_no-correction_1comp.png" class="img-responsive" alt="dirty_no-correction_1comp.png">
<img src="./2022-05-22_experimental-af488/dirty-all-results/dirty_no-correction_2comp.png" class="img-responsive" alt="dirty_no-correction_2comp.png">
</li>
<li><code>0cd20</code>, 1 species and 2 species fits.
<img src="./2022-05-22_experimental-af488/dirty-all-results/dirty_0cd20_1comp.png" class="img-responsive" alt="dirty_0cd20_1comp.png">
<img src="./2022-05-22_experimental-af488/dirty-all-results/dirty_0cd20_2comp.png" class="img-responsive" alt="dirty_0cd20_2comp.png">
</li>
<li><code>19e3e</code>, 1 species and 2 species fits.
<img src="./2022-05-22_experimental-af488/dirty-all-results/dirty_19e3e_1comp.png" class="img-responsive" alt="dirty_19e3e_1comp.png">
<img src="./2022-05-22_experimental-af488/dirty-all-results/dirty_19e3e_2comp.png" class="img-responsive" alt="dirty_19e3e_2comp.png">
</li>
<li><code>34a6d</code>, 1 species and 2 species fits.
<img src="./2022-05-22_experimental-af488/dirty-all-results/dirty_34a6d_1comp.png" class="img-responsive" alt="dirty_34a6d_1comp.png">
<img src="./2022-05-22_experimental-af488/dirty-all-results/dirty_34a6d_2comp.png" class="img-responsive" alt="dirty_34a6d_2comp.png">
</li>
<li><code>484af</code>, 1 species and 2 species fits.
<img src="./2022-05-22_experimental-af488/dirty-all-results/dirty_484af_1comp.png" class="img-responsive" alt="dirty_484af_1comp.png">
<img src="./2022-05-22_experimental-af488/dirty-all-results/dirty_484af_2comp.png" class="img-responsive" alt="dirty_484af_2comp.png">
</li>
<li><code>714af</code>, 1 species and 2 species fits.
<img src="./2022-05-22_experimental-af488/dirty-all-results/dirty_714af_1comp.png" class="img-responsive" alt="dirty_714af_1comp.png">
<img src="./2022-05-22_experimental-af488/dirty-all-results/dirty_714af_2comp.png" class="img-responsive" alt="dirty_714af_2comp.png">
</li>
<li><code>34766</code>, 1 species and 2 species fits.
<img src="./2022-05-22_experimental-af488/dirty-all-results/dirty_34766_1comp.png" class="img-responsive" alt="dirty_34766_1comp.png">
<img src="./2022-05-22_experimental-af488/dirty-all-results/dirty_34766_2comp.png" class="img-responsive" alt="dirty_34766_2comp.png">
</li>
<li><code>c1204</code>, 1 species and 2 species fits.
<img src="./2022-05-22_experimental-af488/dirty-all-results/dirty_c1204_1comp.png" class="img-responsive" alt="dirty_c1204_1comp.png">
<img src="./2022-05-22_experimental-af488/dirty-all-results/dirty_c1204_2comp.png" class="img-responsive" alt="dirty_c1204_2comp.png">
</li>
<li><code>fe81d</code>, 1 species and 2 species fits.
<img src="./2022-05-22_experimental-af488/dirty-all-results/dirty_fe81d_1comp.png" class="img-responsive" alt="dirty_fe81d_1comp.png">
<img src="./2022-05-22_experimental-af488/dirty-all-results/dirty_fe81d_2comp.png" class="img-responsive" alt="dirty_fe81d_2comp.png">
</li>
<li><code>ff67b</code>, 1 species and 2 species fits.
<img src="./2022-05-22_experimental-af488/dirty-all-results/dirty_ff67b_1comp.png" class="img-responsive" alt="dirty_ff67b_1comp.png">
<img src="./2022-05-22_experimental-af488/dirty-all-results/dirty_ff67b_2comp.png" class="img-responsive" alt="dirty_ff67b_2comp.png">
</li>
</ul>
</details>
</li>

<li>second, load modules and data

<details>
<div class="org-src-container">

<pre class="src src-jupyter-python">%<span style="color: #707e4f;">cd</span> ~/<span style="color: #784437;">Programme</span>/<span style="color: #784437;">drmed</span>-<span style="color: #784437;">git</span>
</pre>
</div>

<pre class="example">
/home/lex/Programme/drmed-git
</pre>


<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #859900; font-weight: bold;">import</span> <span style="color: #7e544f;">os</span>
<span style="color: #859900; font-weight: bold;">import</span> <span style="color: #4f5c7e;">numpy</span> <span style="color: #859900; font-weight: bold;">as</span> <span style="color: #707e4f;">np</span>
<span style="color: #859900; font-weight: bold;">import</span> <span style="color: #37785e;">matplotlib</span>.<span style="color: #4f7e67;">pyplot</span> <span style="color: #859900; font-weight: bold;">as</span> <span style="color: #4f7e67;">plt</span>
<span style="color: #859900; font-weight: bold;">import</span> <span style="color: #5e7837;">pandas</span> <span style="color: #859900; font-weight: bold;">as</span> <span style="color: #783778;">pd</span>
<span style="color: #859900; font-weight: bold;">import</span> <span style="color: #78683f;">seaborn</span> <span style="color: #859900; font-weight: bold;">as</span> <span style="color: #4f5c7e;">sns</span>
<span style="color: #859900; font-weight: bold;">from</span> <span style="color: #43783f;">pathlib</span> <span style="color: #859900; font-weight: bold;">import</span> <span style="color: #78683f;">Path</span>
<span style="color: #859900; font-weight: bold;">from</span> <span style="color: #4f7e67;">pprint</span> <span style="color: #859900; font-weight: bold;">import</span> <span style="color: #4f7e67;">pprint</span>

<span style="color: #4f5c7e;">sns</span>.<span style="color: #374478;">set_theme</span>(<span style="color: #3f7178;">style</span>=<span style="color: #2aa198;">"whitegrid"</span>, <span style="color: #784437;">font_scale</span>=2, <span style="color: #5e7837;">palette</span>=<span style="color: #2aa198;">'colorblind'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #4f7e67;">context</span>=<span style="color: #2aa198;">'paper'</span>)

<span style="color: #268bd2;">model_ls</span> = [<span style="color: #2aa198;">'ff67be0b68e540a9a29a36a2d0c7a5be'</span>, <span style="color: #2aa198;">'347669d050f344ad9fb9e480c814f727'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">'714af8cd12c1441eac4ca980e8c20070'</span>, <span style="color: #2aa198;">'34a6d207ac594035b1009c330fb67a65'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">'484af471c61943fa90e5f78e78a229f0'</span>, <span style="color: #2aa198;">'0cd2023eeaf745aca0d3e8ad5e1fc653'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">'fe81d71c52404ed790b3a32051258da9'</span>, <span style="color: #2aa198;">'19e3e786e1bc4e2b93856f5dc9de8216'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">'c1204e3a8a1e4c40a35b5b7b1922d1ce'</span>]

<span style="color: #268bd2;">model_name_ls</span> = [<span style="color: #43783f;">f</span><span style="color: #2aa198;">'</span><span style="color: #268bd2;">{s:.5}</span><span style="color: #2aa198;">'</span> <span style="color: #859900; font-weight: bold;">for</span> <span style="color: #784437;">s</span> <span style="color: #859900; font-weight: bold;">in</span> <span style="color: #513f78;">model_ls</span>]
</pre>
</div>

<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">path</span> = <span style="color: #78683f;">Path</span>(<span style="color: #2aa198;">'data/exp-220227-unet/2022-05-22_experimental-af488/'</span>)

<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">averaged values</span>
<span style="color: #268bd2;">dirty_avg_1comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'dirty-all-results/dirty_all_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">dirty_avg_2comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'dirty-all-results/dirty_all_2comp_outputParam.csv'</span>
<span style="color: #268bd2;">clean_avg_1comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'clean-all-results/clean_all_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">clean_avg_2comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'clean-all-results/clean_all_2comp_outputParam.csv'</span>

<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">dirty params</span>
<span style="color: #268bd2;">dirty_noc_1comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'dirty-all-results/dirty_no-correction_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">dirty_noc_2comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'dirty-all-results/dirty_no-correction_2comp_outputParam.csv'</span>

<span style="color: #268bd2;">dirty_0cd20_1comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'dirty-all-results/dirty_0cd20_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">dirty_0cd20_2comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'dirty-all-results/dirty_0cd20_2comp_outputParam.csv'</span>
<span style="color: #268bd2;">dirty_19e3e_1comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'dirty-all-results/dirty_19e3e_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">dirty_19e3e_2comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'dirty-all-results/dirty_19e3e_2comp_outputParam.csv'</span>
<span style="color: #268bd2;">dirty_34766_1comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'dirty-all-results/dirty_34766_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">dirty_34766_2comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'dirty-all-results/dirty_34766_2comp_outputParam.csv'</span>
<span style="color: #268bd2;">dirty_34a6d_1comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'dirty-all-results/dirty_34a6d_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">dirty_34a6d_2comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'dirty-all-results/dirty_34a6d_2comp_outputParam.csv'</span>
<span style="color: #268bd2;">dirty_484af_1comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'dirty-all-results/dirty_484af_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">dirty_484af_2comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'dirty-all-results/dirty_484af_2comp_outputParam.csv'</span>
<span style="color: #268bd2;">dirty_714af_1comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'dirty-all-results/dirty_714af_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">dirty_714af_2comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'dirty-all-results/dirty_714af_2comp_outputParam.csv'</span>
<span style="color: #268bd2;">dirty_c1204_1comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'dirty-all-results/dirty_c1204_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">dirty_c1204_2comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'dirty-all-results/dirty_c1204_2comp_outputParam.csv'</span>
<span style="color: #268bd2;">dirty_fe81d_1comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'dirty-all-results/dirty_fe81d_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">dirty_fe81d_2comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'dirty-all-results/dirty_fe81d_2comp_outputParam.csv'</span>
<span style="color: #268bd2;">dirty_ff67b_1comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'dirty-all-results/dirty_ff67b_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">dirty_ff67b_2comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'dirty-all-results/dirty_ff67b_2comp_outputParam.csv'</span>


<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">clean params</span>
<span style="color: #268bd2;">clean_noc_1comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'clean-all-results/clean_no-correction_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">clean_noc_2comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'clean-all-results/clean_no-correction_2comp_outputParam.csv'</span>

<span style="color: #268bd2;">clean_0cd20_1comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'clean-all-results/clean_0cd20_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">clean_0cd20_2comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'clean-all-results/clean_0cd20_2comp_outputParam.csv'</span>
<span style="color: #268bd2;">clean_19e3e_1comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'clean-all-results/clean_19e3e_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">clean_19e3e_2comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'clean-all-results/clean_19e3e_2comp_outputParam.csv'</span>
<span style="color: #268bd2;">clean_34766_1comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'clean-all-results/clean_34766_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">clean_34766_2comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'clean-all-results/clean_34766_2comp_outputParam.csv'</span>
<span style="color: #268bd2;">clean_34a6d_1comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'clean-all-results/clean_34a6d_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">clean_34a6d_2comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'clean-all-results/clean_34a6d_2comp_outputParam.csv'</span>
<span style="color: #268bd2;">clean_484af_1comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'clean-all-results/clean_484af_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">clean_484af_2comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'clean-all-results/clean_484af_2comp_outputParam.csv'</span>
<span style="color: #268bd2;">clean_714af_1comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'clean-all-results/clean_714af_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">clean_714af_2comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'clean-all-results/clean_714af_2comp_outputParam.csv'</span>
<span style="color: #268bd2;">clean_c1204_1comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'clean-all-results/clean_c1204_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">clean_c1204_2comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'clean-all-results/clean_c1204_2comp_outputParam.csv'</span>
<span style="color: #268bd2;">clean_fe81d_1comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'clean-all-results/clean_fe81d_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">clean_fe81d_2comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'clean-all-results/clean_fe81d_2comp_outputParam.csv'</span>
<span style="color: #268bd2;">clean_ff67b_1comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'clean-all-results/clean_ff67b_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">clean_ff67b_2comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'clean-all-results/clean_ff67b_2comp_outputParam.csv'</span>


<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">average parameters</span>
<span style="color: #268bd2;">dirty_avg_1comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #4f5c7e;">dirty_avg_1comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=10*[<span style="color: #2aa198;">'af488+luvs'</span>,])
<span style="color: #268bd2;">dirty_avg_2comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #5e7837;">dirty_avg_2comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=10*[<span style="color: #2aa198;">'af488+luvs'</span>,])
<span style="color: #268bd2;">clean_avg_1comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #783778;">clean_avg_1comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=10*[<span style="color: #2aa198;">'af488'</span>,])
<span style="color: #268bd2;">clean_avg_2comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #4f7e67;">clean_avg_2comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=10*[<span style="color: #2aa198;">'af488'</span>,])

<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">dirty params</span>
<span style="color: #268bd2;">dirty_noc_1comp</span> = <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #783f5a;">dirty_noc_1comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=440*[<span style="color: #2aa198;">'af488+luvs'</span>,], <span style="color: #4f7e67;">processing</span>=440*[<span style="color: #2aa198;">'No correction'</span>])
<span style="color: #268bd2;">dirty_noc_2comp</span> = <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #4f7e67;">dirty_noc_2comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=440*[<span style="color: #2aa198;">'af488+luvs'</span>,], <span style="color: #4f7e67;">processing</span>=440*[<span style="color: #2aa198;">'No correction'</span>])

<span style="color: #268bd2;">dirty_0cd20_1comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #4f5c7e;">dirty_0cd20_1comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=440*[<span style="color: #2aa198;">'af488+luvs'</span>,], <span style="color: #4f7e67;">processing</span>=440*[<span style="color: #2aa198;">'0cd20'</span>])
<span style="color: #268bd2;">dirty_0cd20_2comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #43783f;">dirty_0cd20_2comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=440*[<span style="color: #2aa198;">'af488+luvs'</span>,], <span style="color: #4f7e67;">processing</span>=440*[<span style="color: #2aa198;">'0cd20'</span>])
<span style="color: #268bd2;">dirty_19e3e_1comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #43783f;">dirty_19e3e_1comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=440*[<span style="color: #2aa198;">'af488+luvs'</span>,], <span style="color: #4f7e67;">processing</span>=440*[<span style="color: #2aa198;">'19e3e'</span>])
<span style="color: #268bd2;">dirty_19e3e_2comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #5e7837;">dirty_19e3e_2comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=440*[<span style="color: #2aa198;">'af488+luvs'</span>,], <span style="color: #4f7e67;">processing</span>=440*[<span style="color: #2aa198;">'19e3e'</span>])
<span style="color: #268bd2;">dirty_34766_1comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #513f78;">dirty_34766_1comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=440*[<span style="color: #2aa198;">'af488+luvs'</span>,], <span style="color: #4f7e67;">processing</span>=440*[<span style="color: #2aa198;">'34766'</span>])
<span style="color: #268bd2;">dirty_34766_2comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #783778;">dirty_34766_2comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=440*[<span style="color: #2aa198;">'af488+luvs'</span>,], <span style="color: #4f7e67;">processing</span>=440*[<span style="color: #2aa198;">'34766'</span>])
<span style="color: #268bd2;">dirty_34a6d_1comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #3f7178;">dirty_34a6d_1comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=440*[<span style="color: #2aa198;">'af488+luvs'</span>,], <span style="color: #4f7e67;">processing</span>=440*[<span style="color: #2aa198;">'34a6d'</span>])
<span style="color: #268bd2;">dirty_34a6d_2comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #783778;">dirty_34a6d_2comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=440*[<span style="color: #2aa198;">'af488+luvs'</span>,], <span style="color: #4f7e67;">processing</span>=440*[<span style="color: #2aa198;">'34a6d'</span>])
<span style="color: #268bd2;">dirty_484af_1comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #3f7178;">dirty_484af_1comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=440*[<span style="color: #2aa198;">'af488+luvs'</span>,], <span style="color: #4f7e67;">processing</span>=440*[<span style="color: #2aa198;">'484af'</span>])
<span style="color: #268bd2;">dirty_484af_2comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #4f5c7e;">dirty_484af_2comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=440*[<span style="color: #2aa198;">'af488+luvs'</span>,], <span style="color: #4f7e67;">processing</span>=440*[<span style="color: #2aa198;">'484af'</span>])
<span style="color: #268bd2;">dirty_714af_1comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #7e544f;">dirty_714af_1comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=440*[<span style="color: #2aa198;">'af488+luvs'</span>,], <span style="color: #4f7e67;">processing</span>=440*[<span style="color: #2aa198;">'714af'</span>])
<span style="color: #268bd2;">dirty_714af_2comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #783778;">dirty_714af_2comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=440*[<span style="color: #2aa198;">'af488+luvs'</span>,], <span style="color: #4f7e67;">processing</span>=440*[<span style="color: #2aa198;">'714af'</span>])
<span style="color: #268bd2;">dirty_c1204_1comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #5e7837;">dirty_c1204_1comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=440*[<span style="color: #2aa198;">'af488+luvs'</span>,], <span style="color: #4f7e67;">processing</span>=440*[<span style="color: #2aa198;">'c1204'</span>])
<span style="color: #268bd2;">dirty_c1204_2comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #783f5a;">dirty_c1204_2comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=440*[<span style="color: #2aa198;">'af488+luvs'</span>,], <span style="color: #4f7e67;">processing</span>=440*[<span style="color: #2aa198;">'c1204'</span>])
<span style="color: #268bd2;">dirty_fe81d_1comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #513f78;">dirty_fe81d_1comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=440*[<span style="color: #2aa198;">'af488+luvs'</span>,], <span style="color: #4f7e67;">processing</span>=440*[<span style="color: #2aa198;">'fe81d'</span>])
<span style="color: #268bd2;">dirty_fe81d_2comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #374478;">dirty_fe81d_2comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=440*[<span style="color: #2aa198;">'af488+luvs'</span>,], <span style="color: #4f7e67;">processing</span>=440*[<span style="color: #2aa198;">'fe81d'</span>])
<span style="color: #268bd2;">dirty_ff67b_1comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #4f5c7e;">dirty_ff67b_1comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=440*[<span style="color: #2aa198;">'af488+luvs'</span>,], <span style="color: #4f7e67;">processing</span>=440*[<span style="color: #2aa198;">'ff67b'</span>])
<span style="color: #268bd2;">dirty_ff67b_2comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #3f7178;">dirty_ff67b_2comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=440*[<span style="color: #2aa198;">'af488+luvs'</span>,], <span style="color: #4f7e67;">processing</span>=440*[<span style="color: #2aa198;">'ff67b'</span>])

<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">clean params</span>
<span style="color: #268bd2;">clean_noc_1comp</span> = <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #4f5c7e;">clean_noc_1comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=424*[<span style="color: #2aa198;">'af488'</span>,], <span style="color: #4f7e67;">processing</span>=424*[<span style="color: #2aa198;">'No correction'</span>])
<span style="color: #268bd2;">clean_noc_2comp</span> = <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #513f78;">clean_noc_2comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=424*[<span style="color: #2aa198;">'af488'</span>,], <span style="color: #4f7e67;">processing</span>=424*[<span style="color: #2aa198;">'No correction'</span>])

<span style="color: #268bd2;">clean_0cd20_1comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #4f5c7e;">clean_0cd20_1comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=424*[<span style="color: #2aa198;">'af488'</span>,], <span style="color: #4f7e67;">processing</span>=424*[<span style="color: #2aa198;">'0cd20'</span>])
<span style="color: #268bd2;">clean_0cd20_2comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #707e4f;">clean_0cd20_2comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=424*[<span style="color: #2aa198;">'af488'</span>,], <span style="color: #4f7e67;">processing</span>=424*[<span style="color: #2aa198;">'0cd20'</span>])
<span style="color: #268bd2;">clean_19e3e_1comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #7e544f;">clean_19e3e_1comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=424*[<span style="color: #2aa198;">'af488'</span>,], <span style="color: #4f7e67;">processing</span>=424*[<span style="color: #2aa198;">'19e3e'</span>])
<span style="color: #268bd2;">clean_19e3e_2comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #7e544f;">clean_19e3e_2comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=424*[<span style="color: #2aa198;">'af488'</span>,], <span style="color: #4f7e67;">processing</span>=424*[<span style="color: #2aa198;">'19e3e'</span>])
<span style="color: #268bd2;">clean_34766_1comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #78683f;">clean_34766_1comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=424*[<span style="color: #2aa198;">'af488'</span>,], <span style="color: #4f7e67;">processing</span>=424*[<span style="color: #2aa198;">'34766'</span>])
<span style="color: #268bd2;">clean_34766_2comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #37785e;">clean_34766_2comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=424*[<span style="color: #2aa198;">'af488'</span>,], <span style="color: #4f7e67;">processing</span>=424*[<span style="color: #2aa198;">'34766'</span>])
<span style="color: #268bd2;">clean_34a6d_1comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #7e544f;">clean_34a6d_1comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=424*[<span style="color: #2aa198;">'af488'</span>,], <span style="color: #4f7e67;">processing</span>=424*[<span style="color: #2aa198;">'34a6d'</span>])
<span style="color: #268bd2;">clean_34a6d_2comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #4f7e67;">clean_34a6d_2comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=424*[<span style="color: #2aa198;">'af488'</span>,], <span style="color: #4f7e67;">processing</span>=424*[<span style="color: #2aa198;">'34a6d'</span>])
<span style="color: #268bd2;">clean_484af_1comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #4f7e67;">clean_484af_1comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=424*[<span style="color: #2aa198;">'af488'</span>,], <span style="color: #4f7e67;">processing</span>=424*[<span style="color: #2aa198;">'484af'</span>])
<span style="color: #268bd2;">clean_484af_2comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #7e544f;">clean_484af_2comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=424*[<span style="color: #2aa198;">'af488'</span>,], <span style="color: #4f7e67;">processing</span>=424*[<span style="color: #2aa198;">'484af'</span>])
<span style="color: #268bd2;">clean_714af_1comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #4f7e67;">clean_714af_1comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=424*[<span style="color: #2aa198;">'af488'</span>,], <span style="color: #4f7e67;">processing</span>=424*[<span style="color: #2aa198;">'714af'</span>])
<span style="color: #268bd2;">clean_714af_2comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #4f7e67;">clean_714af_2comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=424*[<span style="color: #2aa198;">'af488'</span>,], <span style="color: #4f7e67;">processing</span>=424*[<span style="color: #2aa198;">'714af'</span>])
<span style="color: #268bd2;">clean_c1204_1comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #783f5a;">clean_c1204_1comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=424*[<span style="color: #2aa198;">'af488'</span>,], <span style="color: #4f7e67;">processing</span>=424*[<span style="color: #2aa198;">'c1204'</span>])
<span style="color: #268bd2;">clean_c1204_2comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #783778;">clean_c1204_2comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=424*[<span style="color: #2aa198;">'af488'</span>,], <span style="color: #4f7e67;">processing</span>=424*[<span style="color: #2aa198;">'c1204'</span>])
<span style="color: #268bd2;">clean_fe81d_1comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #37785e;">clean_fe81d_1comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=424*[<span style="color: #2aa198;">'af488'</span>,], <span style="color: #4f7e67;">processing</span>=424*[<span style="color: #2aa198;">'fe81d'</span>])
<span style="color: #268bd2;">clean_fe81d_2comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #4f7e67;">clean_fe81d_2comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=424*[<span style="color: #2aa198;">'af488'</span>,], <span style="color: #4f7e67;">processing</span>=424*[<span style="color: #2aa198;">'fe81d'</span>])
<span style="color: #268bd2;">clean_ff67b_1comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #78683f;">clean_ff67b_1comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=424*[<span style="color: #2aa198;">'af488'</span>,], <span style="color: #4f7e67;">processing</span>=424*[<span style="color: #2aa198;">'ff67b'</span>])
<span style="color: #268bd2;">clean_ff67b_2comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #783778;">clean_ff67b_2comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=424*[<span style="color: #2aa198;">'af488'</span>,], <span style="color: #4f7e67;">processing</span>=424*[<span style="color: #2aa198;">'ff67b'</span>])

<span style="color: #268bd2;">avg_param</span> = <span style="color: #783778;">pd</span>.<span style="color: #7e544f;">concat</span>([<span style="color: #5e7837;">clean_avg_1comp</span>, <span style="color: #7a4f7e;">clean_avg_2comp</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #513f78;">dirty_avg_1comp</span>, <span style="color: #4f7e67;">dirty_avg_2comp</span>])

<span style="color: #268bd2;">all_param</span> = <span style="color: #783778;">pd</span>.<span style="color: #7e544f;">concat</span>([<span style="color: #7a4f7e;">clean_noc_1comp</span>, <span style="color: #783f5a;">clean_noc_2comp</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #4f5c7e;">dirty_noc_1comp</span>, <span style="color: #4f7e67;">dirty_noc_2comp</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #784437;">dirty_0cd20_1comp</span>, <span style="color: #783778;">dirty_0cd20_2comp</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #7e544f;">dirty_19e3e_1comp</span>, <span style="color: #374478;">dirty_19e3e_2comp</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #3f7178;">dirty_34766_1comp</span>, <span style="color: #78683f;">dirty_34766_2comp</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #4f5c7e;">dirty_34a6d_1comp</span>, <span style="color: #78683f;">dirty_34a6d_2comp</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #78683f;">dirty_484af_1comp</span>, <span style="color: #4f5c7e;">dirty_484af_2comp</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #4f7e67;">dirty_714af_1comp</span>, <span style="color: #374478;">dirty_714af_2comp</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #783f5a;">dirty_c1204_1comp</span>, <span style="color: #513f78;">dirty_c1204_2comp</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #513f78;">dirty_fe81d_1comp</span>, <span style="color: #7a4f7e;">dirty_fe81d_2comp</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #78683f;">dirty_ff67b_1comp</span>, <span style="color: #7a4f7e;">dirty_ff67b_2comp</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #3f7178;">clean_0cd20_1comp</span>, <span style="color: #3f7178;">clean_0cd20_2comp</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #37785e;">clean_19e3e_1comp</span>, <span style="color: #5e7837;">clean_19e3e_2comp</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #37785e;">clean_34766_1comp</span>, <span style="color: #4f7e67;">clean_34766_2comp</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #7a4f7e;">clean_34a6d_1comp</span>, <span style="color: #37785e;">clean_34a6d_2comp</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #783f5a;">clean_484af_1comp</span>, <span style="color: #513f78;">clean_484af_2comp</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #513f78;">clean_714af_1comp</span>, <span style="color: #37785e;">clean_714af_2comp</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #783778;">clean_c1204_1comp</span>, <span style="color: #3f7178;">clean_c1204_2comp</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #43783f;">clean_fe81d_1comp</span>, <span style="color: #783f5a;">clean_fe81d_2comp</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #4f7e67;">clean_ff67b_1comp</span>, <span style="color: #4f5c7e;">clean_ff67b_2comp</span>])
<span style="color: #859900; font-weight: bold;">assert</span> <span style="color: #657b83; font-weight: bold;">set</span>(<span style="color: #37785e;">all_param</span>[<span style="color: #2aa198;">'Dimen'</span>]) == {<span style="color: #2aa198;">'3D'</span>}
<span style="color: #859900; font-weight: bold;">assert</span> <span style="color: #657b83; font-weight: bold;">set</span>(<span style="color: #37785e;">all_param</span>[<span style="color: #2aa198;">'AR1'</span>] == {5.0})
<span style="color: #859900; font-weight: bold;">assert</span> <span style="color: #657b83; font-weight: bold;">set</span>(<span style="color: #37785e;">all_param</span>[<span style="color: #2aa198;">'Diff_eq'</span>]) == {<span style="color: #2aa198;">'Equation 1B'</span>}
<span style="color: #859900; font-weight: bold;">assert</span> <span style="color: #657b83; font-weight: bold;">set</span>(<span style="color: #37785e;">all_param</span>[<span style="color: #2aa198;">'Triplet_eq'</span>]) == {<span style="color: #2aa198;">'no triplet'</span>}
<span style="color: #859900; font-weight: bold;">assert</span> <span style="color: #657b83; font-weight: bold;">set</span>(<span style="color: #37785e;">all_param</span>[<span style="color: #2aa198;">'alpha1'</span>]) == {1.0}
<span style="color: #859900; font-weight: bold;">assert</span> <span style="color: #657b83; font-weight: bold;">set</span>(<span style="color: #37785e;">all_param</span>[<span style="color: #2aa198;">'xmin'</span>]) == {0.001018}
<span style="color: #859900; font-weight: bold;">assert</span> <span style="color: #657b83; font-weight: bold;">set</span>(<span style="color: #37785e;">all_param</span>[<span style="color: #2aa198;">'xmax'</span>]) == {100.66329, 469.762042}
<span style="color: #859900; font-weight: bold;">assert</span> <span style="color: #657b83; font-weight: bold;">set</span>(<span style="color: #37785e;">all_param</span>[<span style="color: #37785e;">all_param</span>[<span style="color: #2aa198;">'xmax'</span>] == 100.66329][<span style="color: #2aa198;">'artifact'</span>]) == {<span style="color: #2aa198;">'af488'</span>}
<span style="color: #859900; font-weight: bold;">assert</span> <span style="color: #657b83; font-weight: bold;">set</span>(<span style="color: #37785e;">all_param</span>[<span style="color: #37785e;">all_param</span>[<span style="color: #2aa198;">'xmax'</span>] == 469.762042][<span style="color: #2aa198;">'artifact'</span>]) == {<span style="color: #2aa198;">'af488+luvs'</span>}

<span style="color: #268bd2;">avg_param</span> = <span style="color: #783778;">pd</span>.<span style="color: #7e544f;">concat</span>([<span style="color: #5e7837;">clean_avg_1comp</span>, <span style="color: #7a4f7e;">clean_avg_2comp</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #513f78;">dirty_avg_1comp</span>, <span style="color: #4f7e67;">dirty_avg_2comp</span>])

<span style="color: #859900; font-weight: bold;">assert</span> <span style="color: #657b83; font-weight: bold;">set</span>(<span style="color: #3f7178;">avg_param</span>[<span style="color: #2aa198;">'Dimen'</span>]) == {<span style="color: #2aa198;">'3D'</span>}
<span style="color: #859900; font-weight: bold;">assert</span> <span style="color: #657b83; font-weight: bold;">set</span>(<span style="color: #3f7178;">avg_param</span>[<span style="color: #2aa198;">'AR1'</span>] == {5.0})
<span style="color: #859900; font-weight: bold;">assert</span> <span style="color: #657b83; font-weight: bold;">set</span>(<span style="color: #3f7178;">avg_param</span>[<span style="color: #2aa198;">'Diff_eq'</span>]) == {<span style="color: #2aa198;">'Equation 1B'</span>}
<span style="color: #859900; font-weight: bold;">assert</span> <span style="color: #657b83; font-weight: bold;">set</span>(<span style="color: #3f7178;">avg_param</span>[<span style="color: #2aa198;">'Triplet_eq'</span>]) == {<span style="color: #2aa198;">'no triplet'</span>}
<span style="color: #859900; font-weight: bold;">assert</span> <span style="color: #657b83; font-weight: bold;">set</span>(<span style="color: #3f7178;">avg_param</span>[<span style="color: #2aa198;">'alpha1'</span>]) == {1.0}
<span style="color: #859900; font-weight: bold;">assert</span> <span style="color: #657b83; font-weight: bold;">set</span>(<span style="color: #3f7178;">avg_param</span>[<span style="color: #2aa198;">'xmin'</span>]) == {0.001018}
<span style="color: #859900; font-weight: bold;">assert</span> <span style="color: #657b83; font-weight: bold;">set</span>(<span style="color: #3f7178;">avg_param</span>[<span style="color: #2aa198;">'xmax'</span>]) == {100.66329, 469.762042}
<span style="color: #859900; font-weight: bold;">assert</span> <span style="color: #657b83; font-weight: bold;">set</span>(<span style="color: #3f7178;">avg_param</span>[<span style="color: #3f7178;">avg_param</span>[<span style="color: #2aa198;">'xmax'</span>] == 100.66329][<span style="color: #2aa198;">'artifact'</span>]) == {<span style="color: #2aa198;">'af488'</span>}
<span style="color: #859900; font-weight: bold;">assert</span> <span style="color: #657b83; font-weight: bold;">set</span>(<span style="color: #3f7178;">avg_param</span>[<span style="color: #3f7178;">avg_param</span>[<span style="color: #2aa198;">'xmax'</span>] == 469.762042][<span style="color: #2aa198;">'artifact'</span>]) == {<span style="color: #2aa198;">'af488+luvs'</span>}
<span style="color: #37785e;">all_param</span>
</pre>
</div>
</details>
<table class="table table-striped table-bordered table-hover table-condensed">


<colgroup>
<col  class="right">

<col  class="left">

<col  class="left">

<col  class="left">

<col  class="right">

<col  class="left">

<col  class="left">

<col  class="right">

<col  class="left">

<col  class="right">

<col  class="right">

<col  class="left">

<col  class="left">

<col  class="left">

<col  class="right">

<col  class="left">

<col  class="right">

<col  class="left">

<col  class="right">

<col  class="left">

<col  class="right">

<col  class="left">
</colgroup>
<thead>
<tr>
<th scope="col" class="text-right">&#xa0;</th>
<th scope="col" class="text-left">name<sub>of</sub><sub>plot</sub></th>
<th scope="col" class="text-left">master<sub>file</sub></th>
<th scope="col" class="text-left">parent<sub>name</sub></th>
<th scope="col" class="text-right">parent<sub>uqid</sub></th>
<th scope="col" class="text-left">time of fit</th>
<th scope="col" class="text-left">Diff<sub>eq</sub></th>
<th scope="col" class="text-right">Diff<sub>species</sub></th>
<th scope="col" class="text-left">Triplet<sub>eq</sub></th>
<th scope="col" class="text-right">Triplet<sub>species</sub></th>
<th scope="col" class="text-right">Dimen</th>
<th scope="col" class="text-left">&#x2026;</th>
<th scope="col" class="text-left">artifact</th>
<th scope="col" class="text-left">processing</th>
<th scope="col" class="text-right">A2</th>
<th scope="col" class="text-left">stdev(A2)</th>
<th scope="col" class="text-right">txy2</th>
<th scope="col" class="text-left">stdev(txy2)</th>
<th scope="col" class="text-right">alpha2</th>
<th scope="col" class="text-left">stdev(alpha2)</th>
<th scope="col" class="text-right">AR2</th>
<th scope="col" class="text-left">stdev(AR2)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="text-right">0</td>
<td class="text-left">2022-05-26<sub>tttr2xfcs</sub><sub>CH2</sub><sub>BIN1dot0</sub><sub>20</sub> nM AF4881&#x2026;</td>
<td class="text-left">Not known</td>
<td class="text-left">tttr2xfcs</td>
<td class="text-right">0</td>
<td class="text-left">Mon May 30 14:12:23 2022</td>
<td class="text-left">Equation 1B</td>
<td class="text-right">1</td>
<td class="text-left">no triplet</td>
<td class="text-right">1</td>
<td class="text-right">3D</td>
<td class="text-left">&#x2026;</td>
<td class="text-left">af488</td>
<td class="text-left">No correction</td>
<td class="text-right">NaN</td>
<td class="text-left">NaN</td>
<td class="text-right">NaN</td>
<td class="text-left">NaN</td>
<td class="text-right">NaN</td>
<td class="text-left">NaN</td>
<td class="text-right">NaN</td>
<td class="text-left">NaN</td>
</tr>

<tr>
<td class="text-right">1</td>
<td class="text-left">2022-05-26<sub>tttr2xfcs</sub><sub>CH2</sub><sub>BIN1dot0</sub><sub>20</sub> nM AF4882&#x2026;</td>
<td class="text-left">Not known</td>
<td class="text-left">tttr2xfcs</td>
<td class="text-right">0</td>
<td class="text-left">Mon May 30 14:12:24 2022</td>
<td class="text-left">Equation 1B</td>
<td class="text-right">1</td>
<td class="text-left">no triplet</td>
<td class="text-right">1</td>
<td class="text-right">3D</td>
<td class="text-left">&#x2026;</td>
<td class="text-left">af488</td>
<td class="text-left">No correction</td>
<td class="text-right">NaN</td>
<td class="text-left">NaN</td>
<td class="text-right">NaN</td>
<td class="text-left">NaN</td>
<td class="text-right">NaN</td>
<td class="text-left">NaN</td>
<td class="text-right">NaN</td>
<td class="text-left">NaN</td>
</tr>

<tr>
<td class="text-right">2</td>
<td class="text-left">2022-05-26<sub>tttr2xfcs</sub><sub>CH2</sub><sub>BIN1dot0</sub><sub>20</sub> nM AF4883&#x2026;</td>
<td class="text-left">Not known</td>
<td class="text-left">tttr2xfcs</td>
<td class="text-right">0</td>
<td class="text-left">Mon May 30 14:12:24 2022</td>
<td class="text-left">Equation 1B</td>
<td class="text-right">1</td>
<td class="text-left">no triplet</td>
<td class="text-right">1</td>
<td class="text-right">3D</td>
<td class="text-left">&#x2026;</td>
<td class="text-left">af488</td>
<td class="text-left">No correction</td>
<td class="text-right">NaN</td>
<td class="text-left">NaN</td>
<td class="text-right">NaN</td>
<td class="text-left">NaN</td>
<td class="text-right">NaN</td>
<td class="text-left">NaN</td>
<td class="text-right">NaN</td>
<td class="text-left">NaN</td>
</tr>

<tr>
<td class="text-right">3</td>
<td class="text-left">2022-05-26<sub>tttr2xfcs</sub><sub>CH2</sub><sub>BIN1dot0</sub><sub>20</sub> nM AF4884&#x2026;</td>
<td class="text-left">Not known</td>
<td class="text-left">tttr2xfcs</td>
<td class="text-right">0</td>
<td class="text-left">Mon May 30 14:12:24 2022</td>
<td class="text-left">Equation 1B</td>
<td class="text-right">1</td>
<td class="text-left">no triplet</td>
<td class="text-right">1</td>
<td class="text-right">3D</td>
<td class="text-left">&#x2026;</td>
<td class="text-left">af488</td>
<td class="text-left">No correction</td>
<td class="text-right">NaN</td>
<td class="text-left">NaN</td>
<td class="text-right">NaN</td>
<td class="text-left">NaN</td>
<td class="text-right">NaN</td>
<td class="text-left">NaN</td>
<td class="text-right">NaN</td>
<td class="text-left">NaN</td>
</tr>

<tr>
<td class="text-right">4</td>
<td class="text-left">2022-05-26<sub>tttr2xfcs</sub><sub>CH2</sub><sub>BIN1dot0</sub><sub>20</sub> nM AF4885&#x2026;</td>
<td class="text-left">Not known</td>
<td class="text-left">tttr2xfcs</td>
<td class="text-right">0</td>
<td class="text-left">Mon May 30 14:12:24 2022</td>
<td class="text-left">Equation 1B</td>
<td class="text-right">1</td>
<td class="text-left">no triplet</td>
<td class="text-right">1</td>
<td class="text-right">3D</td>
<td class="text-left">&#x2026;</td>
<td class="text-left">af488</td>
<td class="text-left">No correction</td>
<td class="text-right">NaN</td>
<td class="text-left">NaN</td>
<td class="text-right">NaN</td>
<td class="text-left">NaN</td>
<td class="text-right">NaN</td>
<td class="text-left">NaN</td>
<td class="text-right">NaN</td>
<td class="text-left">NaN</td>
</tr>

<tr>
<td class="text-right">&#x2026;</td>
<td class="text-left">&#x2026;</td>
<td class="text-left">&#x2026;</td>
<td class="text-left">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-left">&#x2026;</td>
<td class="text-left">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-left">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-left">&#x2026;</td>
<td class="text-left">&#x2026;</td>
<td class="text-left">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-left">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-left">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-left">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-left">&#x2026;</td>
</tr>

<tr>
<td class="text-right">419</td>
<td class="text-left">2022-05-25<sub>tttr2xfcs</sub><sub>CH2</sub><sub>BIN1dot0</sub><sub>20</sub> nM AF4882&#x2026;</td>
<td class="text-left">Not known</td>
<td class="text-left">tttr2xfcs</td>
<td class="text-right">0</td>
<td class="text-left">Mon May 30 14:42:23 2022</td>
<td class="text-left">Equation 1B</td>
<td class="text-right">2</td>
<td class="text-left">no triplet</td>
<td class="text-right">1</td>
<td class="text-right">3D</td>
<td class="text-left">&#x2026;</td>
<td class="text-left">af488</td>
<td class="text-left">ff67b</td>
<td class="text-right">0.488985</td>
<td class="text-left">None</td>
<td class="text-right">0.096094</td>
<td class="text-left">None</td>
<td class="text-right">1.0</td>
<td class="text-left">None</td>
<td class="text-right">5.0</td>
<td class="text-left">None</td>
</tr>

<tr>
<td class="text-right">420</td>
<td class="text-left">2022-05-25<sub>tttr2xfcs</sub><sub>CH2</sub><sub>BIN1dot0</sub><sub>20</sub> nM AF4882&#x2026;</td>
<td class="text-left">Not known</td>
<td class="text-left">tttr2xfcs</td>
<td class="text-right">0</td>
<td class="text-left">Mon May 30 14:42:23 2022</td>
<td class="text-left">Equation 1B</td>
<td class="text-right">2</td>
<td class="text-left">no triplet</td>
<td class="text-right">1</td>
<td class="text-right">3D</td>
<td class="text-left">&#x2026;</td>
<td class="text-left">af488</td>
<td class="text-left">ff67b</td>
<td class="text-right">0.386551</td>
<td class="text-left">None</td>
<td class="text-right">0.112745</td>
<td class="text-left">None</td>
<td class="text-right">1.0</td>
<td class="text-left">None</td>
<td class="text-right">5.0</td>
<td class="text-left">None</td>
</tr>

<tr>
<td class="text-right">421</td>
<td class="text-left">2022-05-25<sub>tttr2xfcs</sub><sub>CH2</sub><sub>BIN1dot0</sub><sub>20</sub> nM AF4882&#x2026;</td>
<td class="text-left">Not known</td>
<td class="text-left">tttr2xfcs</td>
<td class="text-right">0</td>
<td class="text-left">Mon May 30 14:42:24 2022</td>
<td class="text-left">Equation 1B</td>
<td class="text-right">2</td>
<td class="text-left">no triplet</td>
<td class="text-right">1</td>
<td class="text-right">3D</td>
<td class="text-left">&#x2026;</td>
<td class="text-left">af488</td>
<td class="text-left">ff67b</td>
<td class="text-right">0.658441</td>
<td class="text-left">None</td>
<td class="text-right">0.054065</td>
<td class="text-left">None</td>
<td class="text-right">1.0</td>
<td class="text-left">None</td>
<td class="text-right">5.0</td>
<td class="text-left">None</td>
</tr>

<tr>
<td class="text-right">422</td>
<td class="text-left">2022-05-25<sub>tttr2xfcs</sub><sub>CH2</sub><sub>BIN1dot0</sub><sub>20</sub> nM AF4882&#x2026;</td>
<td class="text-left">Not known</td>
<td class="text-left">tttr2xfcs</td>
<td class="text-right">0</td>
<td class="text-left">Mon May 30 14:42:24 2022</td>
<td class="text-left">Equation 1B</td>
<td class="text-right">2</td>
<td class="text-left">no triplet</td>
<td class="text-right">1</td>
<td class="text-right">3D</td>
<td class="text-left">&#x2026;</td>
<td class="text-left">af488</td>
<td class="text-left">ff67b</td>
<td class="text-right">0.730166</td>
<td class="text-left">None</td>
<td class="text-right">0.060976</td>
<td class="text-left">None</td>
<td class="text-right">1.0</td>
<td class="text-left">None</td>
<td class="text-right">5.0</td>
<td class="text-left">None</td>
</tr>

<tr>
<td class="text-right">423</td>
<td class="text-left">2022-05-25<sub>tttr2xfcs</sub><sub>CH2</sub><sub>BIN1dot0</sub><sub>20</sub> nM AF4882&#x2026;</td>
<td class="text-left">Not known</td>
<td class="text-left">tttr2xfcs</td>
<td class="text-right">0</td>
<td class="text-left">Mon May 30 14:42:24 2022</td>
<td class="text-left">Equation 1B</td>
<td class="text-right">2</td>
<td class="text-left">no triplet</td>
<td class="text-right">1</td>
<td class="text-right">3D</td>
<td class="text-left">&#x2026;</td>
<td class="text-left">af488</td>
<td class="text-left">ff67b</td>
<td class="text-right">0.461469</td>
<td class="text-left">None</td>
<td class="text-right">0.097456</td>
<td class="text-left">None</td>
<td class="text-right">1.0</td>
<td class="text-left">None</td>
<td class="text-right">5.0</td>
<td class="text-left">None</td>
</tr>
</tbody>
</table>

<p>
17280 rows × 39 columns
</p>
</li>
</ul>

<p>
40 rows × 34 columns
</p>

<ul class="org-ul">
<li>first, let's take a look only at <code>avg_param</code>. There, for each model all
curves of <code>af488</code> and <code>af488+luvs</code> were fitted, and then the correlations
<b>were averaged</b>. This gives us a good overview with direct comparison of
model fit outcome to the fit outcomes without correction. BUT this is not
enough to determine that the model is good enough, because in practice, we
rarely take 400 times the same measurement and average. So this more
resembles the <b>optimal</b> fit outcomes and in the final paper, I analysed the
success via <b>fit distributions</b> (so plotting all 400 extracted transit
times and comparing the distributions)
<details>
<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #859900; font-weight: bold;">def</span> <span style="color: #268bd2;">sort_fit</span>(<span style="color: #4f5c7e;">param_ls</span>):
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">nfcs</span> = <span style="color: #657b83; font-weight: bold;">list</span>(<span style="color: #4f5c7e;">param_ls</span>)[-1]
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">array</span> = <span style="color: #707e4f;">np</span>.<span style="color: #78683f;">array</span>(<span style="color: #657b83; font-weight: bold;">list</span>(<span style="color: #4f5c7e;">param_ls</span>)[:-1]).<span style="color: #37785e;">reshape</span>((2, 2))
<span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;"># sort by transit times</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">array</span> = <span style="color: #78683f;">array</span>[:, <span style="color: #78683f;">array</span>[0, :].<span style="color: #78683f;">argsort</span>()]
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">A_fast</span> = <span style="color: #657b83; font-weight: bold;">float</span>(<span style="color: #78683f;">array</span>[1, 0])
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">A_slow</span> = <span style="color: #657b83; font-weight: bold;">float</span>(<span style="color: #78683f;">array</span>[1, 1])
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">N_fast</span> = <span style="color: #784437;">A_fast</span> * <span style="color: #657b83; font-weight: bold;">float</span>(<span style="color: #374478;">nfcs</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">N_slow</span> = <span style="color: #784437;">A_slow</span> * <span style="color: #657b83; font-weight: bold;">float</span>(<span style="color: #374478;">nfcs</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">t_fast</span> = <span style="color: #657b83; font-weight: bold;">float</span>(<span style="color: #78683f;">array</span>[0, 0]) * 1000
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">t_slow</span> = <span style="color: #657b83; font-weight: bold;">float</span>(<span style="color: #78683f;">array</span>[0, 1]) * 1000
<span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">if</span> <span style="color: #707e4f;">np</span>.<span style="color: #7a4f7e;">isnan</span>(<span style="color: #374478;">t_slow</span>):
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;"># if tt_low_high[0] &lt;= t_fast &lt;= tt_low_high[1]:</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;">#     out = f'\\cellcolor[HTML]{{009e73}}${t_fast:.2f}$'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;"># else:</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;">#     out = f'\\cellcolor[HTML]{{d55e00}}${t_fast:.2f}$'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">out</span> = <span style="color: #43783f;">f</span><span style="color: #2aa198;">'$\\tau_D={t_fast:.1f}\\hspace{{1em}}N={nfcs:.1f}$'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">elif</span> <span style="color: #43783f;">f</span><span style="color: #2aa198;">'</span><span style="color: #268bd2;">{A_fast:.0%}</span><span style="color: #2aa198;">'</span> == <span style="color: #2aa198;">'100%'</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;"># if tt_low_high[0] &lt;= t_fast &lt;= tt_low_high[1]:</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;">#     out = f'\\cellcolor[HTML]{{009e73}}${t_fast:.2f}(100\\%)$'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;"># else:</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;">#     out = f'\\cellcolor[HTML]{{d55e00}}${t_fast:.2f}(100\\%)$'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">out</span> = <span style="color: #43783f;">f</span><span style="color: #2aa198;">'$\\tau_D^{{fast}}={t_fast:.1f}\\hspace{{1em}}N^{{fast}}={N_fast:.1f}$'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">elif</span> <span style="color: #43783f;">f</span><span style="color: #2aa198;">'</span><span style="color: #268bd2;">{A_slow:.0%}</span><span style="color: #2aa198;">'</span> == <span style="color: #2aa198;">'100%'</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;"># if tt_low_high[0] &lt;= t_slow &lt;= tt_low_high[1]:</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;">#     out = f'\\cellcolor[HTML]{{009e73}}${t_slow:.2f}(100\\%)$'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;"># else:</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;">#     out = f'\\cellcolor[HTML]{{d55e00}}${t_slow:.2f}(100\\%)$'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">out</span> = <span style="color: #43783f;">f</span><span style="color: #2aa198;">'$\\tau_D^{{slow}}={t_slow:.1f}\\hspace{{1em}}N^{{slow}}={N_slow:.1f}$'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">else</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;"># if (tt_low_high[0] &lt;= t_fast &lt;= tt_low_high[1]) or (</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;">#     tt_low_high[0] &lt;= t_slow &lt;= tt_low_high[1]):</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;">#     out = f'\\cellcolor[HTML]{{009e73}}\\colorbox[HTML]{{009e73}}{{\\makecell{{${t_fast:.2f}^f({A_fast:.0%})$\\\\'\</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;">#           f'$</span><span style="color: #268bd2;">{t_slow:.2f}</span><span style="color: #93a1a1;">^s(</span><span style="color: #268bd2;">{A_slow:.0%}</span><span style="color: #93a1a1;">)$}}}}'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;"># else:</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;">#     out = f'\\cellcolor[HTML]{{d55e00}}\\colorbox[HTML]{{d55e00}}{{\\makecell{{${t_fast:.2f}^f({A_fast:.0%})$\\\\'\</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;">#           f'$</span><span style="color: #268bd2;">{t_slow:.2f}</span><span style="color: #93a1a1;">^s(</span><span style="color: #268bd2;">{A_slow:.0%}</span><span style="color: #93a1a1;">)$}}}}'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">out</span> = <span style="color: #43783f;">f</span><span style="color: #2aa198;">'\\makecell{{$\\tau_D^{{fast}}={t_fast:.1f}\\hspace{{1em}}N^{{fast}}={N_fast:.1f}$\\\\'</span>\
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #43783f;">f</span><span style="color: #2aa198;">'$\\tau_D^{{slow}}={t_slow:.1f}\\hspace{{1em}}N^{{slow}}={N_slow:.1f}$}}'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">out</span> = <span style="color: #7e544f;">out</span>.<span style="color: #784437;">replace</span>(<span style="color: #2aa198;">'%'</span>, <span style="color: #2aa198;">'\\%'</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">return</span> <span style="color: #7e544f;">out</span>

<span style="color: #3f7178;">avg_param</span>[<span style="color: #2aa198;">'fit results'</span>] = <span style="color: #3f7178;">avg_param</span>[[<span style="color: #2aa198;">'txy1'</span>, <span style="color: #2aa198;">'txy2'</span>, <span style="color: #2aa198;">'A1'</span>, <span style="color: #2aa198;">'A2'</span>, <span style="color: #2aa198;">'N (FCS)'</span>]].<span style="color: #4f5c7e;">apply</span>(<span style="color: #859900; font-weight: bold;">lambda</span> <span style="color: #3f7178;">x</span>: <span style="color: #4f7e67;">sort_fit</span>(<span style="color: #3f7178;">x</span>), <span style="color: #784437;">axis</span>=1)
<span style="color: #268bd2;">avg_param</span> = <span style="color: #3f7178;">avg_param</span>[[<span style="color: #2aa198;">'name_of_plot'</span>, <span style="color: #2aa198;">'Diff_species'</span>, <span style="color: #2aa198;">'artifact'</span>, <span style="color: #2aa198;">'fit results'</span>]]
<span style="color: #268bd2;">avg_param</span> = <span style="color: #3f7178;">avg_param</span>.<span style="color: #7a4f7e;">pivot_table</span>(<span style="color: #783778;">values</span>=<span style="color: #2aa198;">'fit results'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #784437;">columns</span>=<span style="color: #2aa198;">'artifact'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #43783f;">index</span>=[<span style="color: #2aa198;">'name_of_plot'</span>, <span style="color: #2aa198;">'Diff_species'</span>],
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #374478;">aggfunc</span>=<span style="color: #859900; font-weight: bold;">lambda</span> <span style="color: #3f7178;">x</span>: <span style="color: #2aa198;">'-'</span>.<span style="color: #784437;">join</span>(<span style="color: #3f7178;">x</span>))
<span style="color: #3f7178;">avg_param</span>.<span style="color: #783778;">loc</span>[(<span style="color: #2aa198;">'clean'</span>, 1), <span style="color: #2aa198;">'af488+luvs'</span>] = <span style="color: #3f7178;">avg_param</span>.<span style="color: #783778;">loc</span>[(<span style="color: #2aa198;">'dirty'</span>, 1), <span style="color: #2aa198;">'af488+luvs'</span>]
<span style="color: #3f7178;">avg_param</span>.<span style="color: #783778;">loc</span>[(<span style="color: #2aa198;">'clean'</span>, 2), <span style="color: #2aa198;">'af488+luvs'</span>] = <span style="color: #3f7178;">avg_param</span>.<span style="color: #783778;">loc</span>[(<span style="color: #2aa198;">'dirty'</span>, 2), <span style="color: #2aa198;">'af488+luvs'</span>]

<span style="color: #268bd2;">avg_param</span> = <span style="color: #3f7178;">avg_param</span>.<span style="color: #707e4f;">rename</span>(<span style="color: #43783f;">index</span>={<span style="color: #2aa198;">'clean'</span> : <span style="color: #2aa198;">'no correction'</span>})
<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">to get all models</span>
<span style="color: #268bd2;">first</span> = [<span style="color: #2aa198;">'no correction'</span>,] + <span style="color: #7e544f;">model_name_ls</span>.<span style="color: #374478;">copy</span>()
<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">just two examples</span>
<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">first = ['no correction', '0cd20', '34a6d']</span>
<span style="color: #268bd2;">second</span> = [1, 2]
<span style="color: #268bd2;">index_order</span> = <span style="color: #783778;">pd</span>.<span style="color: #784437;">MultiIndex</span>.<span style="color: #43783f;">from_product</span>([<span style="color: #78683f;">first</span>, <span style="color: #4f5c7e;">second</span>],
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #783f5a;">names</span>=[<span style="color: #5e7837;">r</span><span style="color: #2aa198;">'\makecell{type of\\processing}'</span>, <span style="color: #2aa198;">'fit'</span>])
<span style="color: #268bd2;">avg_param</span> = <span style="color: #3f7178;">avg_param</span>.<span style="color: #783f5a;">reindex</span>(<span style="color: #43783f;">index</span>=<span style="color: #4f5c7e;">index_order</span>)

<span style="color: #859900; font-weight: bold;">with</span> <span style="color: #783778;">pd</span>.<span style="color: #5e7837;">option_context</span>(<span style="color: #2aa198;">"max_colwidth"</span>, 1000):
<span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">print</span>(<span style="color: #3f7178;">avg_param</span>.<span style="color: #783778;">to_latex</span>(<span style="color: #5e7837;">escape</span>=<span style="color: #859900; font-weight: bold;">False</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #78683f;">column_format</span>=<span style="color: #2aa198;">'cccc'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #37785e;">caption</span>=(<span style="color: #5e7837;">r</span><span style="color: #2aa198;">'Experimental results AF488 data. $\tau_D$ in $\mu s$. For 1 species fit, $N = N(FCS) * T1$. For 2 species fit, $N^{sp} = A^{sp} * (N(FCS) * T1)$ and $\tau_D$ is sorted in fast and slow. If $A^{sp}=100\%$, only display the corresponding $\tau_D$ and $N$ values. 2 species fit results of AF488 in solution has no biophysical relevance and is only shown for completion'</span>,<span style="color: #2aa198;">'Experimental results AF488 data'</span>)))
</pre>
</div>

<pre class="example">
\begin{table}
\centering
\caption[Experimental results AF488 data]{Experimental results AF488 data. $\tau_D$ in $\mu s$. For 1 species fit, $N = N(FCS) * T1$. For 2 species fit, $N^{sp} = A^{sp} * (N(FCS) * T1)$ and $\tau_D$ is sorted in fast and slow. If $A^{sp}=100\%$, only display the corresponding $\tau_D$ and $N$ values. 2 species fit results of AF488 in solution has no biophysical relevance and is only shown for completion}
\begin{tabular}{cccc}
\toprule
      &amp; artifact &amp;                                                                                                  af488 &amp;                                                                                                 af488+luvs \\
\makecell{type of\\processing} &amp; fit &amp;                                                                                                        &amp;                                                                                                            \\
\midrule
no correction &amp; 1 &amp;                                                                        $\tau_D=39.7\hspace{1em}N=14.3$ &amp;                                                                           $\tau_D=7355.0\hspace{1em}N=4.7$ \\
      &amp; 2 &amp;   \makecell{$\tau_D^{fast}=9.5\hspace{1em}N^{fast}=4.9$\\$\tau_D^{slow}=69.8\hspace{1em}N^{slow}=8.6$} &amp;   \makecell{$\tau_D^{fast}=78.3\hspace{1em}N^{fast}=0.7$\\$\tau_D^{slow}=11944.6\hspace{1em}N^{slow}=3.5$} \\
ff67b &amp; 1 &amp;                                                                        $\tau_D=39.8\hspace{1em}N=14.3$ &amp;                                                                            $\tau_D=94.0\hspace{1em}N=22.4$ \\
      &amp; 2 &amp;   \makecell{$\tau_D^{fast}=9.9\hspace{1em}N^{fast}=5.0$\\$\tau_D^{slow}=71.7\hspace{1em}N^{slow}=8.4$} &amp;  \makecell{$\tau_D^{fast}=41.8\hspace{1em}N^{fast}=13.1$\\$\tau_D^{slow}=20282.4\hspace{1em}N^{slow}=5.2$} \\
34766 &amp; 1 &amp;                                                                        $\tau_D=35.1\hspace{1em}N=14.7$ &amp;                                                                            $\tau_D=62.5\hspace{1em}N=23.2$ \\
      &amp; 2 &amp;  \makecell{$\tau_D^{fast}=1.4\hspace{1em}N^{fast}=2.4$\\$\tau_D^{slow}=42.0\hspace{1em}N^{slow}=10.7$} &amp;  \makecell{$\tau_D^{fast}=38.9\hspace{1em}N^{fast}=15.8$\\$\tau_D^{slow}=24434.3\hspace{1em}N^{slow}=4.1$} \\
714af &amp; 1 &amp;                                                                        $\tau_D=39.8\hspace{1em}N=14.3$ &amp;                                                                           $\tau_D=104.2\hspace{1em}N=22.3$ \\
      &amp; 2 &amp;  \makecell{$\tau_D^{fast}=10.0\hspace{1em}N^{fast}=5.1$\\$\tau_D^{slow}=71.9\hspace{1em}N^{slow}=8.4$} &amp;  \makecell{$\tau_D^{fast}=41.8\hspace{1em}N^{fast}=12.3$\\$\tau_D^{slow}=21435.4\hspace{1em}N^{slow}=5.5$} \\
34a6d &amp; 1 &amp;                                                                        $\tau_D=39.7\hspace{1em}N=14.3$ &amp;                                                                            $\tau_D=78.9\hspace{1em}N=22.5$ \\
      &amp; 2 &amp;   \makecell{$\tau_D^{fast}=9.4\hspace{1em}N^{fast}=4.8$\\$\tau_D^{slow}=69.6\hspace{1em}N^{slow}=8.6$} &amp;  \makecell{$\tau_D^{fast}=41.9\hspace{1em}N^{fast}=14.2$\\$\tau_D^{slow}=22526.1\hspace{1em}N^{slow}=4.6$} \\
484af &amp; 1 &amp;                                                                        $\tau_D=39.8\hspace{1em}N=14.3$ &amp;                                                                            $\tau_D=91.2\hspace{1em}N=22.5$ \\
      &amp; 2 &amp;  \makecell{$\tau_D^{fast}=10.1\hspace{1em}N^{fast}=5.1$\\$\tau_D^{slow}=72.2\hspace{1em}N^{slow}=8.4$} &amp;  \makecell{$\tau_D^{fast}=41.2\hspace{1em}N^{fast}=12.8$\\$\tau_D^{slow}=23742.5\hspace{1em}N^{slow}=5.2$} \\
0cd20 &amp; 1 &amp;                                                                        $\tau_D=39.6\hspace{1em}N=14.3$ &amp;                                                                            $\tau_D=71.3\hspace{1em}N=21.7$ \\
      &amp; 2 &amp;   \makecell{$\tau_D^{fast}=8.9\hspace{1em}N^{fast}=4.6$\\$\tau_D^{slow}=67.5\hspace{1em}N^{slow}=8.8$} &amp;   \makecell{$\tau_D^{fast}=38.8\hspace{1em}N^{fast}=15.5$\\$\tau_D^{slow}=5823.0\hspace{1em}N^{slow}=3.9$} \\
fe81d &amp; 1 &amp;                                                                        $\tau_D=39.8\hspace{1em}N=14.3$ &amp;                                                                            $\tau_D=90.4\hspace{1em}N=22.3$ \\
      &amp; 2 &amp;  \makecell{$\tau_D^{fast}=10.0\hspace{1em}N^{fast}=5.0$\\$\tau_D^{slow}=71.8\hspace{1em}N^{slow}=8.4$} &amp;  \makecell{$\tau_D^{fast}=42.0\hspace{1em}N^{fast}=13.3$\\$\tau_D^{slow}=19906.1\hspace{1em}N^{slow}=5.0$} \\
19e3e &amp; 1 &amp;                                                                        $\tau_D=39.6\hspace{1em}N=14.3$ &amp;                                                                            $\tau_D=79.8\hspace{1em}N=22.4$ \\
      &amp; 2 &amp;   \makecell{$\tau_D^{fast}=9.2\hspace{1em}N^{fast}=4.8$\\$\tau_D^{slow}=68.9\hspace{1em}N^{slow}=8.7$} &amp;  \makecell{$\tau_D^{fast}=41.7\hspace{1em}N^{fast}=13.6$\\$\tau_D^{slow}=27489.8\hspace{1em}N^{slow}=4.7$} \\
c1204 &amp; 1 &amp;                                                                        $\tau_D=29.2\hspace{1em}N=15.2$ &amp;                                                                            $\tau_D=51.4\hspace{1em}N=23.8$ \\
      &amp; 2 &amp;   \makecell{$\tau_D^{fast}=0.1\hspace{1em}N^{fast}=3.9$\\$\tau_D^{slow}=31.4\hspace{1em}N^{slow}=5.0$} &amp;  \makecell{$\tau_D^{fast}=35.5\hspace{1em}N^{fast}=16.4$\\$\tau_D^{slow}=39055.9\hspace{1em}N^{slow}=3.9$} \\
\bottomrule
\end{tabular}
\end{table}
</pre>
</details>
</li>
<li>now I put latex in a simple template of the <code>Overleaf</code> online latex
editor like this

<pre class="example">
\documentclass{article}
\usepackage{booktabs} % for \toprule and \midrule in table
\usepackage{makecell} % for linebreaks in table cells

\begin{document}
%% here the code abvoe
\end{document}

</pre>
</li>

<li>the final rendering looks like this:
<embed src="./other/analysis3_af488_cas_avg_table.pdf" width="100%" height="500px" />
</li>

<li>now, we work with <code>all_param</code>. Here, all single correlation curves are
loaded without averaging.
<details>
<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #859900; font-weight: bold;">def</span> <span style="color: #268bd2;">sort_fit_simple</span>(<span style="color: #4f5c7e;">param_ls</span>):
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">nfcs</span> = <span style="color: #657b83; font-weight: bold;">list</span>(<span style="color: #4f5c7e;">param_ls</span>)[-1]
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">array</span> = <span style="color: #707e4f;">np</span>.<span style="color: #78683f;">array</span>(<span style="color: #657b83; font-weight: bold;">list</span>(<span style="color: #4f5c7e;">param_ls</span>)[:-1]).<span style="color: #37785e;">reshape</span>((2, 2))
<span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;"># sort by transit times</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">array</span> = <span style="color: #78683f;">array</span>[:, <span style="color: #78683f;">array</span>[0, :].<span style="color: #78683f;">argsort</span>()]
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">A_fast</span> = <span style="color: #657b83; font-weight: bold;">float</span>(<span style="color: #78683f;">array</span>[1, 0])
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">A_slow</span> = <span style="color: #657b83; font-weight: bold;">float</span>(<span style="color: #78683f;">array</span>[1, 1])
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">N_fast</span> = <span style="color: #784437;">A_fast</span> * <span style="color: #657b83; font-weight: bold;">float</span>(<span style="color: #374478;">nfcs</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">N_slow</span> = <span style="color: #784437;">A_slow</span> * <span style="color: #657b83; font-weight: bold;">float</span>(<span style="color: #374478;">nfcs</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">t_fast</span> = <span style="color: #657b83; font-weight: bold;">float</span>(<span style="color: #78683f;">array</span>[0, 0])
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">t_slow</span> = <span style="color: #657b83; font-weight: bold;">float</span>(<span style="color: #78683f;">array</span>[0, 1])
<span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">if</span> <span style="color: #707e4f;">np</span>.<span style="color: #7a4f7e;">isnan</span>(<span style="color: #374478;">t_slow</span>):
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;"># 1-component fit</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">out</span> = <span style="color: #707e4f;">t_fast</span>, <span style="color: #4f5c7e;">N_fast</span>, <span style="color: #783778;">pd</span>.<span style="color: #4f7e67;">NA</span>, <span style="color: #783778;">pd</span>.<span style="color: #4f7e67;">NA</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;"># 2-component fits</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">elif</span> <span style="color: #43783f;">f</span><span style="color: #2aa198;">'</span><span style="color: #268bd2;">{A_fast:.0%}</span><span style="color: #2aa198;">'</span> == <span style="color: #2aa198;">'100%'</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">out</span> = <span style="color: #707e4f;">t_fast</span>, <span style="color: #4f5c7e;">N_fast</span>, <span style="color: #783778;">pd</span>.<span style="color: #4f7e67;">NA</span>, <span style="color: #783778;">pd</span>.<span style="color: #4f7e67;">NA</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">elif</span> <span style="color: #43783f;">f</span><span style="color: #2aa198;">'</span><span style="color: #268bd2;">{A_slow:.0%}</span><span style="color: #2aa198;">'</span> == <span style="color: #2aa198;">'100%'</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">out</span> = <span style="color: #374478;">t_slow</span>, <span style="color: #43783f;">N_slow</span>, <span style="color: #783778;">pd</span>.<span style="color: #4f7e67;">NA</span>, <span style="color: #783778;">pd</span>.<span style="color: #4f7e67;">NA</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">else</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">out</span> = <span style="color: #707e4f;">t_fast</span>, <span style="color: #4f5c7e;">N_fast</span>, <span style="color: #374478;">t_slow</span>, <span style="color: #43783f;">N_slow</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">return</span> <span style="color: #7e544f;">out</span>

<span style="color: #268bd2;">all_param</span> = <span style="color: #37785e;">all_param</span>.<span style="color: #78683f;">reset_index</span>()
(<span style="color: #37785e;">all_param</span>[<span style="color: #2aa198;">'t_fast'</span>], <span style="color: #37785e;">all_param</span>[<span style="color: #2aa198;">'N_fast'</span>], <span style="color: #37785e;">all_param</span>[<span style="color: #2aa198;">'t_slow'</span>],
<span style="background-color: #eee8d5;"> </span><span style="color: #37785e;">all_param</span>[<span style="color: #2aa198;">'N_slow'</span>]) = <span style="color: #657b83; font-weight: bold;">zip</span>(*<span style="color: #37785e;">all_param</span>[[<span style="color: #2aa198;">'txy1'</span>, <span style="color: #2aa198;">'txy2'</span>, <span style="color: #2aa198;">'A1'</span>, <span style="color: #2aa198;">'A2'</span>, <span style="color: #2aa198;">'N (FCS)'</span>]].<span style="color: #4f5c7e;">apply</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #859900; font-weight: bold;">lambda</span> <span style="color: #3f7178;">x</span>: <span style="color: #4f7e67;">sort_fit_simple</span>(<span style="color: #3f7178;">x</span>), <span style="color: #784437;">axis</span>=1))
<span style="color: #268bd2;">all_param</span> = <span style="color: #37785e;">all_param</span>[[<span style="color: #2aa198;">'index'</span>, <span style="color: #2aa198;">'Diff_species'</span>, <span style="color: #2aa198;">'processing'</span>, <span style="color: #2aa198;">'artifact'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #2aa198;">'t_fast'</span>, <span style="color: #2aa198;">'N_fast'</span>, <span style="color: #2aa198;">'t_slow'</span>, <span style="color: #2aa198;">'N_slow'</span>]]
<span style="color: #268bd2;">all_param</span> = <span style="color: #37785e;">all_param</span>.<span style="color: #783778;">loc</span>[((<span style="color: #37785e;">all_param</span>[<span style="color: #2aa198;">'Diff_species'</span>] == 1) &amp; (<span style="color: #37785e;">all_param</span>[<span style="color: #2aa198;">'artifact'</span>] == <span style="color: #2aa198;">'af488'</span>)) |
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> ((<span style="color: #37785e;">all_param</span>[<span style="color: #2aa198;">'Diff_species'</span>] == 2) &amp; (<span style="color: #37785e;">all_param</span>[<span style="color: #2aa198;">'artifact'</span>] == <span style="color: #2aa198;">'af488+luvs'</span>))]

<span style="color: #268bd2;">N_param</span> = <span style="color: #37785e;">all_param</span>.<span style="color: #7a4f7e;">pivot_table</span>(<span style="color: #783778;">values</span>=<span style="color: #2aa198;">'N_fast'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #43783f;">index</span>=<span style="color: #2aa198;">'index'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #784437;">columns</span>=[<span style="color: #2aa198;">'processing'</span>, <span style="color: #2aa198;">'artifact'</span>, <span style="color: #2aa198;">'Diff_species'</span>])

<span style="color: #268bd2;">t_param</span> = <span style="color: #37785e;">all_param</span>.<span style="color: #7a4f7e;">pivot_table</span>(<span style="color: #783778;">values</span>=<span style="color: #2aa198;">'t_fast'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #43783f;">index</span>=<span style="color: #2aa198;">'index'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #784437;">columns</span>=[<span style="color: #2aa198;">'processing'</span>, <span style="color: #2aa198;">'artifact'</span>, <span style="color: #2aa198;">'Diff_species'</span>])
<span style="color: #268bd2;">t_param</span> = <span style="color: #7a4f7e;">t_param</span> * 1000
<span style="color: #859900; font-weight: bold;">print</span>(<span style="color: #2aa198;">'Statistics of fitted particle numbers'</span>)
<span style="color: #4f7e67;">display</span>(<span style="color: #783778;">pd</span>.<span style="color: #7e544f;">concat</span>([<span style="color: #783778;">pd</span>.<span style="color: #513f78;">Series</span>(<span style="color: #784437;">N_param</span>.<span style="color: #3f7178;">median</span>(<span style="color: #784437;">axis</span>=0), <span style="color: #374478;">name</span>=<span style="color: #2aa198;">'median'</span>), <span style="color: #784437;">N_param</span>.<span style="color: #783778;">describe</span>().<span style="color: #37785e;">T</span>], <span style="color: #784437;">axis</span>=1))
<span style="color: #859900; font-weight: bold;">print</span>(<span style="color: #2aa198;">'Statistics of fitted transit times'</span>)
<span style="color: #4f7e67;">display</span>(<span style="color: #783778;">pd</span>.<span style="color: #7e544f;">concat</span>([<span style="color: #783778;">pd</span>.<span style="color: #513f78;">Series</span>(<span style="color: #7a4f7e;">t_param</span>.<span style="color: #3f7178;">median</span>(<span style="color: #784437;">axis</span>=0), <span style="color: #374478;">name</span>=<span style="color: #2aa198;">'median'</span>), <span style="color: #7a4f7e;">t_param</span>.<span style="color: #783778;">describe</span>().<span style="color: #37785e;">T</span>], <span style="color: #784437;">axis</span>=1))
</pre>
</div>
</details>
<pre class="example">
Statistics of fitted particle numbers
</pre>

<table class="table table-striped table-bordered table-hover table-condensed">


<colgroup>
<col  class="left">

<col  class="left">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">
</colgroup>
<thead>
<tr>
<th scope="col" class="text-left">&#xa0;</th>
<th scope="col" class="text-left">&#xa0;</th>
<th scope="col" class="text-right">&#xa0;</th>
<th scope="col" class="text-right">median</th>
<th scope="col" class="text-right">count</th>
<th scope="col" class="text-right">mean</th>
<th scope="col" class="text-right">std</th>
<th scope="col" class="text-right">min</th>
<th scope="col" class="text-right">25%</th>
<th scope="col" class="text-right">50%</th>
<th scope="col" class="text-right">75%</th>
<th scope="col" class="text-right">max</th>
</tr>
</thead>
<tbody>
<tr>
<td class="text-left">processing</td>
<td class="text-left">artifact</td>
<td class="text-right">Diff<sub>species</sub></td>
<td class="text-right">&#xa0;</td>
<td class="text-right">&#xa0;</td>
<td class="text-right">&#xa0;</td>
<td class="text-right">&#xa0;</td>
<td class="text-right">&#xa0;</td>
<td class="text-right">&#xa0;</td>
<td class="text-right">&#xa0;</td>
<td class="text-right">&#xa0;</td>
<td class="text-right">&#xa0;</td>
</tr>

<tr>
<td class="text-left">0cd20</td>
<td class="text-left">af488</td>
<td class="text-right">1</td>
<td class="text-right">14.341568</td>
<td class="text-right">424.0</td>
<td class="text-right">14.335000</td>
<td class="text-right">0.263291</td>
<td class="text-right">13.412392</td>
<td class="text-right">14.205747</td>
<td class="text-right">14.341568</td>
<td class="text-right">14.505898</td>
<td class="text-right">14.988332</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">af488+luvs</td>
<td class="text-right">2</td>
<td class="text-right">15.248202</td>
<td class="text-right">440.0</td>
<td class="text-right">15.106186</td>
<td class="text-right">1.484036</td>
<td class="text-right">6.267150</td>
<td class="text-right">14.334271</td>
<td class="text-right">15.248202</td>
<td class="text-right">16.039287</td>
<td class="text-right">18.110889</td>
</tr>

<tr>
<td class="text-left">19e3e</td>
<td class="text-left">af488</td>
<td class="text-right">1</td>
<td class="text-right">14.336272</td>
<td class="text-right">424.0</td>
<td class="text-right">14.329986</td>
<td class="text-right">0.263853</td>
<td class="text-right">13.367317</td>
<td class="text-right">14.201544</td>
<td class="text-right">14.336272</td>
<td class="text-right">14.511038</td>
<td class="text-right">14.931337</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">af488+luvs</td>
<td class="text-right">2</td>
<td class="text-right">13.826313</td>
<td class="text-right">440.0</td>
<td class="text-right">13.270444</td>
<td class="text-right">3.181698</td>
<td class="text-right">0.562121</td>
<td class="text-right">11.573624</td>
<td class="text-right">13.826313</td>
<td class="text-right">15.704750</td>
<td class="text-right">18.581205</td>
</tr>

<tr>
<td class="text-left">34766</td>
<td class="text-left">af488</td>
<td class="text-right">1</td>
<td class="text-right">14.702547</td>
<td class="text-right">424.0</td>
<td class="text-right">14.684973</td>
<td class="text-right">0.276662</td>
<td class="text-right">13.720920</td>
<td class="text-right">14.551659</td>
<td class="text-right">14.702547</td>
<td class="text-right">14.869845</td>
<td class="text-right">15.347210</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">af488+luvs</td>
<td class="text-right">2</td>
<td class="text-right">15.732460</td>
<td class="text-right">440.0</td>
<td class="text-right">15.267823</td>
<td class="text-right">2.476381</td>
<td class="text-right">6.346636</td>
<td class="text-right">13.704650</td>
<td class="text-right">15.732460</td>
<td class="text-right">17.068360</td>
<td class="text-right">19.961155</td>
</tr>

<tr>
<td class="text-left">34a6d</td>
<td class="text-left">af488</td>
<td class="text-right">1</td>
<td class="text-right">14.335075</td>
<td class="text-right">424.0</td>
<td class="text-right">14.325905</td>
<td class="text-right">0.264438</td>
<td class="text-right">13.365160</td>
<td class="text-right">14.194973</td>
<td class="text-right">14.335075</td>
<td class="text-right">14.510599</td>
<td class="text-right">14.933380</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">af488+luvs</td>
<td class="text-right">2</td>
<td class="text-right">14.302934</td>
<td class="text-right">440.0</td>
<td class="text-right">13.641062</td>
<td class="text-right">2.740812</td>
<td class="text-right">1.417894</td>
<td class="text-right">12.297284</td>
<td class="text-right">14.302934</td>
<td class="text-right">15.593493</td>
<td class="text-right">17.885668</td>
</tr>

<tr>
<td class="text-left">484af</td>
<td class="text-left">af488</td>
<td class="text-right">1</td>
<td class="text-right">14.325842</td>
<td class="text-right">424.0</td>
<td class="text-right">14.317763</td>
<td class="text-right">0.263824</td>
<td class="text-right">13.365161</td>
<td class="text-right">14.188180</td>
<td class="text-right">14.325842</td>
<td class="text-right">14.499389</td>
<td class="text-right">14.919546</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">af488+luvs</td>
<td class="text-right">2</td>
<td class="text-right">13.373178</td>
<td class="text-right">440.0</td>
<td class="text-right">12.784654</td>
<td class="text-right">3.023495</td>
<td class="text-right">1.591405</td>
<td class="text-right">10.908164</td>
<td class="text-right">13.373178</td>
<td class="text-right">15.029049</td>
<td class="text-right">18.453017</td>
</tr>

<tr>
<td class="text-left">714af</td>
<td class="text-left">af488</td>
<td class="text-right">1</td>
<td class="text-right">14.325842</td>
<td class="text-right">424.0</td>
<td class="text-right">14.318594</td>
<td class="text-right">0.263337</td>
<td class="text-right">13.365161</td>
<td class="text-right">14.189044</td>
<td class="text-right">14.325842</td>
<td class="text-right">14.497586</td>
<td class="text-right">14.919546</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">af488+luvs</td>
<td class="text-right">2</td>
<td class="text-right">12.420635</td>
<td class="text-right">440.0</td>
<td class="text-right">12.233933</td>
<td class="text-right">2.490236</td>
<td class="text-right">5.295190</td>
<td class="text-right">10.570730</td>
<td class="text-right">12.420635</td>
<td class="text-right">14.066820</td>
<td class="text-right">17.968677</td>
</tr>

<tr>
<td class="text-left">No correction</td>
<td class="text-left">af488</td>
<td class="text-right">1</td>
<td class="text-right">14.331944</td>
<td class="text-right">424.0</td>
<td class="text-right">14.324938</td>
<td class="text-right">0.264089</td>
<td class="text-right">13.369703</td>
<td class="text-right">14.194097</td>
<td class="text-right">14.331944</td>
<td class="text-right">14.503913</td>
<td class="text-right">14.925030</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">af488+luvs</td>
<td class="text-right">2</td>
<td class="text-right">0.928103</td>
<td class="text-right">440.0</td>
<td class="text-right">1.115437</td>
<td class="text-right">0.832436</td>
<td class="text-right">0.111298</td>
<td class="text-right">0.497226</td>
<td class="text-right">0.928103</td>
<td class="text-right">1.475898</td>
<td class="text-right">5.530194</td>
</tr>

<tr>
<td class="text-left">c1204</td>
<td class="text-left">af488</td>
<td class="text-right">1</td>
<td class="text-right">15.262632</td>
<td class="text-right">424.0</td>
<td class="text-right">15.254311</td>
<td class="text-right">0.321478</td>
<td class="text-right">13.987100</td>
<td class="text-right">15.077046</td>
<td class="text-right">15.262632</td>
<td class="text-right">15.475146</td>
<td class="text-right">16.260415</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">af488+luvs</td>
<td class="text-right">2</td>
<td class="text-right">15.912205</td>
<td class="text-right">440.0</td>
<td class="text-right">15.532688</td>
<td class="text-right">3.448340</td>
<td class="text-right">1.815959</td>
<td class="text-right">13.639535</td>
<td class="text-right">15.912205</td>
<td class="text-right">18.127480</td>
<td class="text-right">21.748767</td>
</tr>

<tr>
<td class="text-left">fe81d</td>
<td class="text-left">af488</td>
<td class="text-right">1</td>
<td class="text-right">14.326219</td>
<td class="text-right">424.0</td>
<td class="text-right">14.319104</td>
<td class="text-right">0.263526</td>
<td class="text-right">13.365161</td>
<td class="text-right">14.189106</td>
<td class="text-right">14.326219</td>
<td class="text-right">14.499389</td>
<td class="text-right">14.919546</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">af488+luvs</td>
<td class="text-right">2</td>
<td class="text-right">13.689452</td>
<td class="text-right">440.0</td>
<td class="text-right">13.077269</td>
<td class="text-right">3.152211</td>
<td class="text-right">0.536799</td>
<td class="text-right">11.056025</td>
<td class="text-right">13.689452</td>
<td class="text-right">15.387298</td>
<td class="text-right">19.102249</td>
</tr>

<tr>
<td class="text-left">ff67b</td>
<td class="text-left">af488</td>
<td class="text-right">1</td>
<td class="text-right">14.326219</td>
<td class="text-right">424.0</td>
<td class="text-right">14.319636</td>
<td class="text-right">0.263558</td>
<td class="text-right">13.365161</td>
<td class="text-right">14.189298</td>
<td class="text-right">14.326219</td>
<td class="text-right">14.499389</td>
<td class="text-right">14.919546</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">af488+luvs</td>
<td class="text-right">2</td>
<td class="text-right">13.089802</td>
<td class="text-right">440.0</td>
<td class="text-right">12.894021</td>
<td class="text-right">2.446790</td>
<td class="text-right">4.838165</td>
<td class="text-right">11.518550</td>
<td class="text-right">13.089802</td>
<td class="text-right">14.484227</td>
<td class="text-right">18.392188</td>
</tr>
</tbody>
</table>
<pre class="example">
Statistics of fitted transit times
</pre>

<table class="table table-striped table-bordered table-hover table-condensed">


<colgroup>
<col  class="left">

<col  class="left">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">
</colgroup>
<thead>
<tr>
<th scope="col" class="text-left">&#xa0;</th>
<th scope="col" class="text-left">&#xa0;</th>
<th scope="col" class="text-right">&#xa0;</th>
<th scope="col" class="text-right">median</th>
<th scope="col" class="text-right">count</th>
<th scope="col" class="text-right">mean</th>
<th scope="col" class="text-right">std</th>
<th scope="col" class="text-right">min</th>
<th scope="col" class="text-right">25%</th>
<th scope="col" class="text-right">50%</th>
<th scope="col" class="text-right">75%</th>
<th scope="col" class="text-right">max</th>
</tr>
</thead>
<tbody>
<tr>
<td class="text-left">processing</td>
<td class="text-left">artifact</td>
<td class="text-right">Diff<sub>species</sub></td>
<td class="text-right">&#xa0;</td>
<td class="text-right">&#xa0;</td>
<td class="text-right">&#xa0;</td>
<td class="text-right">&#xa0;</td>
<td class="text-right">&#xa0;</td>
<td class="text-right">&#xa0;</td>
<td class="text-right">&#xa0;</td>
<td class="text-right">&#xa0;</td>
<td class="text-right">&#xa0;</td>
</tr>

<tr>
<td class="text-left">0cd20</td>
<td class="text-left">af488</td>
<td class="text-right">1</td>
<td class="text-right">39.575746</td>
<td class="text-right">424.0</td>
<td class="text-right">39.574374</td>
<td class="text-right">1.040061</td>
<td class="text-right">37.190978</td>
<td class="text-right">38.879728</td>
<td class="text-right">39.575746</td>
<td class="text-right">40.279227</td>
<td class="text-right">42.984704</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">af488+luvs</td>
<td class="text-right">2</td>
<td class="text-right">38.762520</td>
<td class="text-right">440.0</td>
<td class="text-right">38.933931</td>
<td class="text-right">5.459816</td>
<td class="text-right">21.356080</td>
<td class="text-right">35.228893</td>
<td class="text-right">38.762520</td>
<td class="text-right">42.262441</td>
<td class="text-right">62.131261</td>
</tr>

<tr>
<td class="text-left">19e3e</td>
<td class="text-left">af488</td>
<td class="text-right">1</td>
<td class="text-right">39.568778</td>
<td class="text-right">424.0</td>
<td class="text-right">39.656947</td>
<td class="text-right">1.047036</td>
<td class="text-right">37.102746</td>
<td class="text-right">38.934719</td>
<td class="text-right">39.568778</td>
<td class="text-right">40.416838</td>
<td class="text-right">42.501109</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">af488+luvs</td>
<td class="text-right">2</td>
<td class="text-right">41.177209</td>
<td class="text-right">440.0</td>
<td class="text-right">41.351740</td>
<td class="text-right">4.525924</td>
<td class="text-right">19.027233</td>
<td class="text-right">38.362287</td>
<td class="text-right">41.177209</td>
<td class="text-right">43.854646</td>
<td class="text-right">60.151240</td>
</tr>

<tr>
<td class="text-left">34766</td>
<td class="text-left">af488</td>
<td class="text-right">1</td>
<td class="text-right">35.067658</td>
<td class="text-right">424.0</td>
<td class="text-right">35.077446</td>
<td class="text-right">1.109175</td>
<td class="text-right">32.086412</td>
<td class="text-right">34.355154</td>
<td class="text-right">35.067658</td>
<td class="text-right">35.736697</td>
<td class="text-right">38.864156</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">af488+luvs</td>
<td class="text-right">2</td>
<td class="text-right">38.713203</td>
<td class="text-right">440.0</td>
<td class="text-right">38.910032</td>
<td class="text-right">3.349258</td>
<td class="text-right">27.709990</td>
<td class="text-right">36.625985</td>
<td class="text-right">38.713203</td>
<td class="text-right">41.009242</td>
<td class="text-right">49.822679</td>
</tr>

<tr>
<td class="text-left">34a6d</td>
<td class="text-left">af488</td>
<td class="text-right">1</td>
<td class="text-right">39.667568</td>
<td class="text-right">424.0</td>
<td class="text-right">39.707795</td>
<td class="text-right">1.038806</td>
<td class="text-right">36.985999</td>
<td class="text-right">39.012984</td>
<td class="text-right">39.667568</td>
<td class="text-right">40.457557</td>
<td class="text-right">42.803298</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">af488+luvs</td>
<td class="text-right">2</td>
<td class="text-right">41.267814</td>
<td class="text-right">440.0</td>
<td class="text-right">41.654939</td>
<td class="text-right">4.707523</td>
<td class="text-right">30.986888</td>
<td class="text-right">38.312301</td>
<td class="text-right">41.267814</td>
<td class="text-right">44.652582</td>
<td class="text-right">57.155144</td>
</tr>

<tr>
<td class="text-left">484af</td>
<td class="text-left">af488</td>
<td class="text-right">1</td>
<td class="text-right">39.854056</td>
<td class="text-right">424.0</td>
<td class="text-right">39.854861</td>
<td class="text-right">1.040952</td>
<td class="text-right">37.153441</td>
<td class="text-right">39.141726</td>
<td class="text-right">39.854056</td>
<td class="text-right">40.582409</td>
<td class="text-right">42.744448</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">af488+luvs</td>
<td class="text-right">2</td>
<td class="text-right">40.605601</td>
<td class="text-right">440.0</td>
<td class="text-right">41.036124</td>
<td class="text-right">4.307502</td>
<td class="text-right">31.922451</td>
<td class="text-right">38.063892</td>
<td class="text-right">40.605601</td>
<td class="text-right">43.505466</td>
<td class="text-right">63.739400</td>
</tr>

<tr>
<td class="text-left">714af</td>
<td class="text-left">af488</td>
<td class="text-right">1</td>
<td class="text-right">39.835832</td>
<td class="text-right">424.0</td>
<td class="text-right">39.838266</td>
<td class="text-right">1.041757</td>
<td class="text-right">37.153441</td>
<td class="text-right">39.107415</td>
<td class="text-right">39.835832</td>
<td class="text-right">40.571805</td>
<td class="text-right">42.696864</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">af488+luvs</td>
<td class="text-right">2</td>
<td class="text-right">41.430208</td>
<td class="text-right">440.0</td>
<td class="text-right">41.791645</td>
<td class="text-right">4.068318</td>
<td class="text-right">31.775699</td>
<td class="text-right">38.784115</td>
<td class="text-right">41.430208</td>
<td class="text-right">44.084046</td>
<td class="text-right">55.334179</td>
</tr>

<tr>
<td class="text-left">No correction</td>
<td class="text-left">af488</td>
<td class="text-right">1</td>
<td class="text-right">39.678008</td>
<td class="text-right">424.0</td>
<td class="text-right">39.726486</td>
<td class="text-right">1.037956</td>
<td class="text-right">37.049340</td>
<td class="text-right">39.010144</td>
<td class="text-right">39.678008</td>
<td class="text-right">40.444667</td>
<td class="text-right">42.680513</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">af488+luvs</td>
<td class="text-right">2</td>
<td class="text-right">59.671435</td>
<td class="text-right">440.0</td>
<td class="text-right">295.128650</td>
<td class="text-right">823.953683</td>
<td class="text-right">4.884506</td>
<td class="text-right">42.516272</td>
<td class="text-right">59.671435</td>
<td class="text-right">117.828320</td>
<td class="text-right">9785.473007</td>
</tr>

<tr>
<td class="text-left">c1204</td>
<td class="text-left">af488</td>
<td class="text-right">1</td>
<td class="text-right">29.177928</td>
<td class="text-right">424.0</td>
<td class="text-right">29.247641</td>
<td class="text-right">1.225078</td>
<td class="text-right">25.901046</td>
<td class="text-right">28.399698</td>
<td class="text-right">29.177928</td>
<td class="text-right">30.113028</td>
<td class="text-right">32.740869</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">af488+luvs</td>
<td class="text-right">2</td>
<td class="text-right">35.278166</td>
<td class="text-right">440.0</td>
<td class="text-right">35.503411</td>
<td class="text-right">2.690742</td>
<td class="text-right">29.246945</td>
<td class="text-right">33.580404</td>
<td class="text-right">35.278166</td>
<td class="text-right">36.865166</td>
<td class="text-right">44.796158</td>
</tr>

<tr>
<td class="text-left">fe81d</td>
<td class="text-left">af488</td>
<td class="text-right">1</td>
<td class="text-right">39.830813</td>
<td class="text-right">424.0</td>
<td class="text-right">39.828821</td>
<td class="text-right">1.044278</td>
<td class="text-right">37.153441</td>
<td class="text-right">39.089567</td>
<td class="text-right">39.830813</td>
<td class="text-right">40.555985</td>
<td class="text-right">42.744448</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">af488+luvs</td>
<td class="text-right">2</td>
<td class="text-right">40.439757</td>
<td class="text-right">440.0</td>
<td class="text-right">40.766428</td>
<td class="text-right">6.403163</td>
<td class="text-right">12.890876</td>
<td class="text-right">37.417914</td>
<td class="text-right">40.439757</td>
<td class="text-right">43.275102</td>
<td class="text-right">84.641627</td>
</tr>

<tr>
<td class="text-left">ff67b</td>
<td class="text-left">af488</td>
<td class="text-right">1</td>
<td class="text-right">39.803435</td>
<td class="text-right">424.0</td>
<td class="text-right">39.830343</td>
<td class="text-right">1.042279</td>
<td class="text-right">37.153441</td>
<td class="text-right">39.087859</td>
<td class="text-right">39.803435</td>
<td class="text-right">40.555985</td>
<td class="text-right">42.744448</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">af488+luvs</td>
<td class="text-right">2</td>
<td class="text-right">41.451285</td>
<td class="text-right">440.0</td>
<td class="text-right">41.757214</td>
<td class="text-right">4.040506</td>
<td class="text-right">32.434107</td>
<td class="text-right">38.893139</td>
<td class="text-right">41.451285</td>
<td class="text-right">44.293295</td>
<td class="text-right">57.788748</td>
</tr>
</tbody>
</table>
</li>

<li>now we plot fit outcomes (transit times, particle numbers) after neural
network prediction and <code>cut and stitch</code> correction. For this <code>AF488</code> data,
we compare the 1 species fit of <code>AF488</code> in solution with the fast species
of the 2 species fit of <code>AF488 + DiO-LUVs</code>. The results show that all
models except <code>34766</code> and <code>c1204</code> do quite well in this challenge. Transit
times and particle numbers could be restored without introducing false
values in clean "<code>AF488</code> in solution" data.
<details>
<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="background-color: #eee8d5;"> </span><span style="color: #268bd2;">pub_param</span> = <span style="color: #37785e;">all_param</span>.<span style="color: #784437;">replace</span>([<span style="color: #2aa198;">'0cd20'</span>], <span style="color: #2aa198;">'0cd20: large model\n(200 MB), 6 levels,\npool size=4, scaler\n=quantile transform\n(Gaussian pdf)'</span>)
<span style="background-color: #eee8d5;"> </span><span style="color: #268bd2;">pub_param</span> = <span style="color: #513f78;">pub_param</span>.<span style="color: #784437;">replace</span>([<span style="color: #2aa198;">'34a6d'</span>], <span style="color: #2aa198;">'34a6d: small model\n(7 MB), 3 levels,\npool size=4, scaler=l2'</span>)
<span style="background-color: #eee8d5;"> </span><span style="color: #268bd2;">pub_param</span> = <span style="color: #513f78;">pub_param</span>.<span style="color: #784437;">replace</span>([<span style="color: #2aa198;">'484af'</span>], <span style="color: #2aa198;">'484af: large model\n(275 MB), 7 levels,\npool_size=2, scaler\n=standard'</span>)
<span style="background-color: #eee8d5;"> </span><span style="color: #268bd2;">pub_param</span> = <span style="color: #513f78;">pub_param</span>.<span style="color: #784437;">replace</span>([<span style="color: #2aa198;">'fe81d'</span>], <span style="color: #2aa198;">'fe81d: large model\n(186 MB), 4 levels,\npool_size=4, scaler\n=standard'</span>)
<span style="background-color: #eee8d5;"> </span><span style="color: #268bd2;">pub_param</span> = <span style="color: #513f78;">pub_param</span>.<span style="color: #784437;">replace</span>([<span style="color: #2aa198;">'ff67b'</span>], <span style="color: #2aa198;">'ff67b: small model\n(14 MB), 5 levels,\npool_size=4, scaler\n=minmax'</span>)
<span style="background-color: #eee8d5;"> </span><span style="color: #268bd2;">pub_param</span> = <span style="color: #513f78;">pub_param</span>.<span style="color: #784437;">replace</span>([<span style="color: #2aa198;">'19e3e'</span>], <span style="color: #2aa198;">'19e3e: large model\n(172 MB), 3 levels,\npool_size=4, scaler\n=standard'</span>)
<span style="background-color: #eee8d5;"> </span><span style="color: #268bd2;">pub_param</span> = <span style="color: #513f78;">pub_param</span>.<span style="color: #784437;">replace</span>([<span style="color: #2aa198;">'34766'</span>], <span style="color: #2aa198;">'34766: middle-sized\nmodel (73 MB), 5 levels,\npool_size=4, scaler\n=robust'</span>)
<span style="background-color: #eee8d5;"> </span><span style="color: #268bd2;">pub_param</span> = <span style="color: #513f78;">pub_param</span>.<span style="color: #784437;">replace</span>([<span style="color: #2aa198;">'c1204'</span>], <span style="color: #2aa198;">'c1204: large model\n(312 MB), 9 levels,\npool_size=2, scaler\n=robust'</span>)
<span style="background-color: #eee8d5;"> </span><span style="color: #268bd2;">pub_param</span> = <span style="color: #513f78;">pub_param</span>.<span style="color: #784437;">replace</span>([<span style="color: #2aa198;">'714af'</span>], <span style="color: #2aa198;">'714af: large model\n(234 MB), 5 levels,\npool_size=4, scaler\n=maxabs'</span>)
<span style="background-color: #eee8d5;"> </span><span style="color: #268bd2;">g</span> = <span style="color: #4f5c7e;">sns</span>.<span style="color: #78683f;">catplot</span>(<span style="color: #784437;">data</span>=<span style="color: #513f78;">pub_param</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #513f78;">y</span>=<span style="color: #2aa198;">'t_fast'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #3f7178;">x</span>=<span style="color: #2aa198;">'processing'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #78683f;">hue</span>=<span style="color: #2aa198;">'artifact'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #783778;">sharey</span>=<span style="color: #859900; font-weight: bold;">True</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #513f78;">height</span>=10,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #7e544f;">aspect</span>=3.3,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #4f5c7e;">legend_out</span>=<span style="color: #859900; font-weight: bold;">True</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #783778;">kind</span>=<span style="color: #2aa198;">'boxen'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #43783f;">showfliers</span>=<span style="color: #859900; font-weight: bold;">False</span>)
<span style="background-color: #eee8d5;"> </span><span style="color: #7a4f7e;">g</span>.<span style="color: #5e7837;">_legend</span>.<span style="color: #783f5a;">set_title</span>(<span style="color: #2aa198;">''</span>)

<span style="background-color: #eee8d5;"> </span><span style="color: #7a4f7e;">g</span>.<span style="color: #5e7837;">_legend</span>.<span style="color: #5e7837;">remove</span>()
<span style="background-color: #eee8d5;"> </span><span style="color: #859900; font-weight: bold;">for</span> <span style="color: #707e4f;">i</span>, <span style="color: #7e544f;">ax</span> <span style="color: #859900; font-weight: bold;">in</span> <span style="color: #657b83; font-weight: bold;">enumerate</span>(<span style="color: #7a4f7e;">g</span>.<span style="color: #43783f;">axes</span>):
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #268bd2;">clean</span> = <span style="color: #513f78;">pub_param</span>[(<span style="color: #513f78;">pub_param</span>[<span style="color: #2aa198;">'processing'</span>] == <span style="color: #2aa198;">'No correction'</span>) &amp;
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  (<span style="color: #513f78;">pub_param</span>[<span style="color: #2aa198;">'artifact'</span>] == <span style="color: #2aa198;">'af488'</span>)]
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #268bd2;">median</span> = <span style="color: #3f7178;">clean</span>[<span style="color: #2aa198;">'t_fast'</span>].<span style="color: #3f7178;">median</span>()
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #268bd2;">line</span> = <span style="color: #7e544f;">ax</span>[0].<span style="color: #7e544f;">axhline</span>(<span style="color: #3f7178;">median</span>, <span style="color: #3f7178;">lw</span>=4, <span style="color: #783f5a;">label</span>=<span style="color: #2aa198;">''</span>, <span style="color: #4f5c7e;">ls</span>=<span style="color: #2aa198;">'--'</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #268bd2;">line_legend</span> = {<span style="color: #43783f;">f</span><span style="color: #2aa198;">'\n$\\tau_{{exp}}={median:.2f}ms$'</span> : <span style="color: #783778;">line</span>}
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #7a4f7e;">g</span>.<span style="color: #7a4f7e;">_legend_data</span>.<span style="color: #374478;">update</span>(<span style="color: #707e4f;">line_legend</span>)
<span style="background-color: #eee8d5;"> </span><span style="color: #7a4f7e;">g</span>.<span style="color: #5e7837;">add_legend</span>(<span style="color: #7a4f7e;">g</span>.<span style="color: #7a4f7e;">_legend_data</span>)
<span style="background-color: #eee8d5;"> </span><span style="color: #268bd2;">new_labels</span> = [<span style="color: #2aa198;">'424 traces of\nAlexaFluor488\n(no artifacts)\n$\\tau_D$ from\n1 species fit'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #2aa198;">'440 traces of\nAF488 + DiO LUVs\n(peak artifacts)\n$\\tau_D$ from\nfast sp. of 2 sp. fit'</span>]
<span style="background-color: #eee8d5;"> </span><span style="color: #859900; font-weight: bold;">for</span> <span style="color: #783f5a;">t</span>, <span style="color: #78683f;">l</span> <span style="color: #859900; font-weight: bold;">in</span> <span style="color: #657b83; font-weight: bold;">zip</span>(<span style="color: #7a4f7e;">g</span>.<span style="color: #5e7837;">_legend</span>.<span style="color: #5e7837;">texts</span>, <span style="color: #784437;">new_labels</span>):
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #783f5a;">t</span>.<span style="color: #783778;">set_text</span>(<span style="color: #78683f;">l</span>)

<span style="background-color: #eee8d5;"> </span><span style="color: #7a4f7e;">g</span>.<span style="color: #78683f;">map_dataframe</span>(<span style="color: #4f5c7e;">sns</span>.<span style="color: #78683f;">stripplot</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #513f78;">y</span>=<span style="color: #2aa198;">'t_fast'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #3f7178;">x</span>=<span style="color: #2aa198;">'processing'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #78683f;">hue</span>=<span style="color: #2aa198;">'artifact'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #513f78;">dodge</span>=<span style="color: #859900; font-weight: bold;">True</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #5e7837;">palette</span>=<span style="color: #4f5c7e;">sns</span>.<span style="color: #7e544f;">color_palette</span>([<span style="color: #2aa198;">'0.3'</span>]),
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #43783f;">size</span>=4,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #783778;">jitter</span>=0.2)
<span style="background-color: #eee8d5;"> </span><span style="color: #7a4f7e;">g</span>.<span style="color: #4f7e67;">fig</span>.<span style="color: #4f5c7e;">suptitle</span>(<span style="color: #2aa198;">'Simulation &#8594; prediction &#8594; correction pipeline successfully restores transit times'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #43783f;">size</span>=25)
<span style="color: #4f7e67;">plt</span>.<span style="color: #3f7178;">setp</span>(<span style="color: #7a4f7e;">g</span>.<span style="color: #43783f;">axes</span>, <span style="color: #37785e;">yscale</span>=<span style="color: #2aa198;">'log'</span>, <span style="color: #783f5a;">xlabel</span>=<span style="color: #2aa198;">''</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #707e4f;">ylabel</span>=<span style="color: #5e7837;">r</span><span style="color: #2aa198;">'log transit time $\tau_{D}$ $[ms]$'</span>)

<span style="background-color: #eee8d5;"> </span><span style="color: #7a4f7e;">g</span>.<span style="color: #513f78;">tight_layout</span>()

<span style="background-color: #eee8d5;"> </span><span style="color: #268bd2;">savefig</span> = <span style="color: #43783f;">f</span><span style="color: #2aa198;">'./data/exp-220227-unet/jupyter/analysis3_af488_compare-transit-times'</span>
<span style="background-color: #eee8d5;"> </span><span style="color: #4f7e67;">plt</span>.<span style="color: #7e544f;">savefig</span>(<span style="color: #43783f;">f</span><span style="color: #2aa198;">'</span><span style="color: #268bd2;">{savefig}</span><span style="color: #2aa198;">.pdf'</span>, <span style="color: #784437;">dpi</span>=300)
<span style="background-color: #eee8d5;"> </span><span style="color: #93a1a1;"># os.system(f'pdf2svg </span><span style="color: #268bd2;">{savefig}</span><span style="color: #93a1a1;">.pdf </span><span style="color: #268bd2;">{savefig}</span><span style="color: #93a1a1;">.svg')</span>
<span style="background-color: #eee8d5;"> </span><span style="color: #4f7e67;">plt</span>.<span style="color: #707e4f;">close</span>(<span style="color: #2aa198;">'all'</span>)

<span style="background-color: #eee8d5;"> </span><span style="color: #268bd2;">g</span> = <span style="color: #4f5c7e;">sns</span>.<span style="color: #78683f;">catplot</span>(<span style="color: #784437;">data</span>=<span style="color: #513f78;">pub_param</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #513f78;">y</span>=<span style="color: #2aa198;">'N_fast'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #3f7178;">x</span>=<span style="color: #2aa198;">'processing'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #78683f;">hue</span>=<span style="color: #2aa198;">'artifact'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #783778;">sharey</span>=<span style="color: #859900; font-weight: bold;">True</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #513f78;">height</span>=10.3,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #7e544f;">aspect</span>=3.3,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #4f5c7e;">legend_out</span>=<span style="color: #859900; font-weight: bold;">True</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #783778;">kind</span>=<span style="color: #2aa198;">'boxen'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #43783f;">showfliers</span>=<span style="color: #859900; font-weight: bold;">False</span>)
<span style="background-color: #eee8d5;"> </span><span style="color: #7a4f7e;">g</span>.<span style="color: #5e7837;">_legend</span>.<span style="color: #783f5a;">set_title</span>(<span style="color: #2aa198;">''</span>)
<span style="background-color: #eee8d5;"> </span><span style="color: #7a4f7e;">g</span>.<span style="color: #5e7837;">_legend</span>.<span style="color: #5e7837;">remove</span>()
<span style="background-color: #eee8d5;"> </span><span style="color: #859900; font-weight: bold;">for</span> <span style="color: #707e4f;">i</span>, <span style="color: #7e544f;">ax</span> <span style="color: #859900; font-weight: bold;">in</span> <span style="color: #657b83; font-weight: bold;">enumerate</span>(<span style="color: #7a4f7e;">g</span>.<span style="color: #43783f;">axes</span>):
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #268bd2;">clean</span> = <span style="color: #513f78;">pub_param</span>[(<span style="color: #513f78;">pub_param</span>[<span style="color: #2aa198;">'processing'</span>] == <span style="color: #2aa198;">'No correction'</span>) &amp;
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  (<span style="color: #513f78;">pub_param</span>[<span style="color: #2aa198;">'artifact'</span>] == <span style="color: #2aa198;">'af488'</span>)]
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #268bd2;">median</span> = <span style="color: #3f7178;">clean</span>[<span style="color: #2aa198;">'N_fast'</span>].<span style="color: #3f7178;">median</span>()
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #268bd2;">line</span> = <span style="color: #7e544f;">ax</span>[0].<span style="color: #7e544f;">axhline</span>(<span style="color: #3f7178;">median</span>, <span style="color: #3f7178;">lw</span>=4, <span style="color: #783f5a;">label</span>=<span style="color: #2aa198;">''</span>, <span style="color: #4f5c7e;">ls</span>=<span style="color: #2aa198;">':'</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #268bd2;">line_legend</span> = {<span style="color: #43783f;">f</span><span style="color: #2aa198;">'\n$N{{exp}}={median:.2f}$'</span> : <span style="color: #783778;">line</span>}
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #7a4f7e;">g</span>.<span style="color: #7a4f7e;">_legend_data</span>.<span style="color: #374478;">update</span>(<span style="color: #707e4f;">line_legend</span>)
<span style="background-color: #eee8d5;"> </span><span style="color: #7a4f7e;">g</span>.<span style="color: #5e7837;">add_legend</span>(<span style="color: #7a4f7e;">g</span>.<span style="color: #7a4f7e;">_legend_data</span>)
<span style="background-color: #eee8d5;"> </span><span style="color: #268bd2;">new_labels</span> = [<span style="color: #2aa198;">'424 traces of\nAlexaFluor488\n(no artifacts)\n$N (FCS)$ from\n1 species fit'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #2aa198;">'440 traces of\nAF488 + DiO LUVs\n(peak artifacts)\n$N (FCS)\\cdot A$ from\nfast sp. of 2 sp. fit'</span>]
<span style="background-color: #eee8d5;"> </span><span style="color: #859900; font-weight: bold;">for</span> <span style="color: #783f5a;">t</span>, <span style="color: #78683f;">l</span> <span style="color: #859900; font-weight: bold;">in</span> <span style="color: #657b83; font-weight: bold;">zip</span>(<span style="color: #7a4f7e;">g</span>.<span style="color: #5e7837;">_legend</span>.<span style="color: #5e7837;">texts</span>, <span style="color: #784437;">new_labels</span>):
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #783f5a;">t</span>.<span style="color: #783778;">set_text</span>(<span style="color: #78683f;">l</span>)

<span style="background-color: #eee8d5;"> </span><span style="color: #7a4f7e;">g</span>.<span style="color: #78683f;">map_dataframe</span>(<span style="color: #4f5c7e;">sns</span>.<span style="color: #78683f;">stripplot</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #513f78;">y</span>=<span style="color: #2aa198;">'N_fast'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #3f7178;">x</span>=<span style="color: #2aa198;">'processing'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #78683f;">hue</span>=<span style="color: #2aa198;">'artifact'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #513f78;">dodge</span>=<span style="color: #859900; font-weight: bold;">True</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #5e7837;">palette</span>=<span style="color: #4f5c7e;">sns</span>.<span style="color: #7e544f;">color_palette</span>([<span style="color: #2aa198;">'0.3'</span>]),
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #43783f;">size</span>=4,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #783778;">jitter</span>=0.2)
<span style="background-color: #eee8d5;"> </span><span style="color: #7a4f7e;">g</span>.<span style="color: #4f7e67;">fig</span>.<span style="color: #4f5c7e;">suptitle</span>(<span style="color: #2aa198;">'Simulation &#8594; prediction &#8594; correction pipeline successfully restores particle number'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #43783f;">size</span>=25)

<span style="background-color: #eee8d5;"> </span><span style="color: #4f7e67;">plt</span>.<span style="color: #3f7178;">setp</span>(<span style="color: #7a4f7e;">g</span>.<span style="color: #43783f;">axes</span>, <span style="color: #783f5a;">xlabel</span>=<span style="color: #2aa198;">''</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #707e4f;">ylabel</span>=<span style="color: #5e7837;">r</span><span style="color: #2aa198;">'particle number $N$ $[fl^{-1}]$'</span>)

<span style="background-color: #eee8d5;"> </span><span style="color: #7a4f7e;">g</span>.<span style="color: #513f78;">tight_layout</span>()
<span style="background-color: #eee8d5;"> </span><span style="color: #268bd2;">savefig</span> = <span style="color: #43783f;">f</span><span style="color: #2aa198;">'./data/exp-220227-unet/jupyter/analysis3_af488_compare-particle-numbers'</span>
<span style="background-color: #eee8d5;"> </span><span style="color: #4f7e67;">plt</span>.<span style="color: #7e544f;">savefig</span>(<span style="color: #43783f;">f</span><span style="color: #2aa198;">'</span><span style="color: #268bd2;">{savefig}</span><span style="color: #2aa198;">.pdf'</span>, <span style="color: #784437;">dpi</span>=300)
<span style="background-color: #eee8d5;"> </span><span style="color: #93a1a1;"># os.system(f'pdf2svg </span><span style="color: #268bd2;">{savefig}</span><span style="color: #93a1a1;">.pdf </span><span style="color: #268bd2;">{savefig}</span><span style="color: #93a1a1;">.svg')</span>
<span style="background-color: #eee8d5;"> </span><span style="color: #4f7e67;">plt</span>.<span style="color: #707e4f;">close</span>(<span style="color: #2aa198;">'all'</span>)
</pre>
</div>
</details>
</li>

<li>this is the two plots as PDFs, first the comparison of transit times,
second the comparison of particle numbers
<embed src="./jupyter/analysis3_af488_compare-transit-times.pdf" width="100%" height="500px" />
<embed src="./jupyter/analysis3_af488_compare-particle-numbers.pdf" width="100%" height="500px" />
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-2-1-13-2" class="outline-5">
<h5 id="sec-2-1-13-2"><span class="section-number-5">2.1.13.2</span> compare model performance on <code>pex5</code> data</h5>
<div class="outline-text-5" id="text-2-1-13-2">
<ul class="org-ul">
<li>call <code>#+CALL: jupyter-set-output-directory()</code>
<pre class="example">
./data/exp-220227-unet/jupyter
</pre>
</li>

<li>first, illlustrative correlations and fits from <code>FoCuS-point</code> fitting. We
start with the data which was later used to plot <code>avg_param</code> data
<details>
<ul class="org-ul">
<li>Averaged curves of <code>Hs-PEX5-eGFP</code> (no artifacts) with proceesings (no
correction + all models, each curves is averaged from 250 correlations)
<img src="./2022-06-02_experimental-pex5/clean-all-results/Hs-PEX5-eGFP_avg_cas_1comp.png" class="img-responsive" alt="Hs-PEX5-eGFP_avg_cas_1comp.png">
<img src="./2022-06-02_experimental-pex5/clean-all-results/Hs-PEX5-eGFP_avg_cas_2comp.png" class="img-responsive" alt="Hs-PEX5-eGFP_avg_cas_2comp.png">
</li>
<li>Averaged curves of <code>Tb-PEX5-eGFP</code> (peak artifacts) with proceesings (no
correction + all models, each curves is averaged from 250 correlations)
<img src="./2022-06-02_experimental-pex5/dirty-all-results/Tb-PEX5-eGFP_avg_cas_1comp.png" class="img-responsive" alt="Tb-PEX5-eGFP_avg_cas_1comp.png">
<img src="./2022-06-02_experimental-pex5/dirty-all-results/Tb-PEX5-eGFP_avg_cas_2comp.png" class="img-responsive" alt="Tb-PEX5-eGFP_avg_cas_2comp.png">
</li>
</ul>
</details>
</li>

<li>Now we continue  with <code>Hs-PEX5-eGFP</code> - this is data without peak artifacts,
which was later read in as <code>all_param</code>

<details>
<ul class="org-ul">
<li><code>no correction</code>, 1 species and 2 species fits. The 1 species fit of <code>no
       correction</code> is the gold standard all correction methods are compared
against.
<img src="./2022-06-02_experimental-pex5/clean-all-results/Hs-PEX5-eGFP_no-correction_1comp.png" class="img-responsive" alt="Hs-PEX5-eGFP_no-correction_1comp.png">
<img src="./2022-06-02_experimental-pex5/clean-all-results/Hs-PEX5-eGFP_no-correction_2comp.png" class="img-responsive" alt="Hs-PEX5-eGFP_no-correction_2comp.png">
<ul class="org-ul">
<li>As can be noticed, the amplitudes vary widely. There probably was an
instability in the measurement. Here the curves 1-25
<img src="./2022-06-02_experimental-pex5/clean-all-results/Hs-PEX5-eGFP_no-correction-curves1-25_1comp.png" class="img-responsive" alt="Hs-PEX5-eGFP_no-correction-curves1-25_1comp.png">
</li>
<li>curves 26-50
<img src="./2022-06-02_experimental-pex5/clean-all-results/Hs-PEX5-eGFP_no-correction-curves26-50_1comp.png" class="img-responsive" alt="Hs-PEX5-eGFP_no-correction-curves26-50_1comp.png">
</li>
<li>curves 51-75
<img src="./2022-06-02_experimental-pex5/clean-all-results/Hs-PEX5-eGFP_no-correction-curves51-75_1comp.png" class="img-responsive" alt="Hs-PEX5-eGFP_no-correction-curves51-75_1comp.png">
</li>
<li>curves 76-100
<img src="./2022-06-02_experimental-pex5/clean-all-results/Hs-PEX5-eGFP_no-correction-curves76-100_1comp.png" class="img-responsive" alt="Hs-PEX5-eGFP_no-correction-curves76-100_1comp.png">
</li>
<li>curves 101-125
<img src="./2022-06-02_experimental-pex5/clean-all-results/Hs-PEX5-eGFP_no-correction-curves101-125_1comp.png" class="img-responsive" alt="Hs-PEX5-eGFP_no-correction-curves101-125_1comp.png">
</li>
<li>curves 126-150
<img src="./2022-06-02_experimental-pex5/clean-all-results/Hs-PEX5-eGFP_no-correction-curves126-150_1comp.png" class="img-responsive" alt="Hs-PEX5-eGFP_no-correction-curves126-150_1comp.png">
</li>
<li>curves 151-175
<img src="./2022-06-02_experimental-pex5/clean-all-results/Hs-PEX5-eGFP_no-correction-curves151-175_1comp.png" class="img-responsive" alt="Hs-PEX5-eGFP_no-correction-curves151-175_1comp.png">
</li>
<li>curves 176-200
<img src="./2022-06-02_experimental-pex5/clean-all-results/Hs-PEX5-eGFP_no-correction-curves176-200_1comp.png" class="img-responsive" alt="Hs-PEX5-eGFP_no-correction-curves176-200_1comp.png">
</li>
<li>curves 201-225
<img src="./2022-06-02_experimental-pex5/clean-all-results/Hs-PEX5-eGFP_no-correction-curves201-225_1comp.png" class="img-responsive" alt="Hs-PEX5-eGFP_no-correction-curves201-225_1comp.png">
</li>
<li>curves 226-250
<img src="./2022-06-02_experimental-pex5/clean-all-results/Hs-PEX5-eGFP_no-correction-curves226-250_1comp.png" class="img-responsive" alt="Hs-PEX5-eGFP_no-correction-curves226-250_1comp.png">
</li>
</ul>
</li>

<li><code>0cd20</code>, 1 species and 2 species fits.
<img src="./2022-06-02_experimental-pex5/clean-all-results/Hs-PEX5-eGFP_0cd20_1comp.png" class="img-responsive" alt="Hs-PEX5-eGFP_0cd20_1comp.png">
<img src="./2022-06-02_experimental-pex5/clean-all-results/Hs-PEX5-eGFP_0cd20_2comp.png" class="img-responsive" alt="Hs-PEX5-eGFP_0cd20_2comp.png">
</li>
<li><code>19e3e</code>, 1 species and 2 species fits.
<img src="./2022-06-02_experimental-pex5/clean-all-results/Hs-PEX5-eGFP_19e3e_1comp.png" class="img-responsive" alt="Hs-PEX5-eGFP_19e3e_1comp.png">
<img src="./2022-06-02_experimental-pex5/clean-all-results/Hs-PEX5-eGFP_19e3e_2comp.png" class="img-responsive" alt="Hs-PEX5-eGFP_19e3e_2comp.png">
</li>
<li><code>34a6d</code>, 1 species and 2 species fits.
<img src="./2022-06-02_experimental-pex5/clean-all-results/Hs-PEX5-eGFP_34a6d_1comp.png" class="img-responsive" alt="Hs-PEX5-eGFP_34a6d_1comp.png">
<img src="./2022-06-02_experimental-pex5/clean-all-results/Hs-PEX5-eGFP_34a6d_2comp.png" class="img-responsive" alt="Hs-PEX5-eGFP_34a6d_2comp.png">
</li>
<li><code>484af</code>, 1 species and 2 species fits.
<img src="./2022-06-02_experimental-pex5/clean-all-results/Hs-PEX5-eGFP_484af_1comp.png" class="img-responsive" alt="Hs-PEX5-eGFP_484af_1comp.png">
<img src="./2022-06-02_experimental-pex5/clean-all-results/Hs-PEX5-eGFP_484af_2comp.png" class="img-responsive" alt="Hs-PEX5-eGFP_484af_2comp.png">
</li>
<li><code>714af</code>, 1 species and 2 species fits.
<img src="./2022-06-02_experimental-pex5/clean-all-results/Hs-PEX5-eGFP_714af_1comp.png" class="img-responsive" alt="Hs-PEX5-eGFP_714af_1comp.png">
<img src="./2022-06-02_experimental-pex5/clean-all-results/Hs-PEX5-eGFP_714af_2comp.png" class="img-responsive" alt="Hs-PEX5-eGFP_714af_2comp.png">
</li>
<li><code>34766</code>, 1 species and 2 species fits.
<img src="./2022-06-02_experimental-pex5/clean-all-results/Hs-PEX5-eGFP_34766_1comp.png" class="img-responsive" alt="Hs-PEX5-eGFP_34766_1comp.png">
<img src="./2022-06-02_experimental-pex5/clean-all-results/Hs-PEX5-eGFP_34766_2comp.png" class="img-responsive" alt="Hs-PEX5-eGFP_34766_2comp.png">
</li>
<li><code>c1204</code>, 1 species and 2 species fits.
<img src="./2022-06-02_experimental-pex5/clean-all-results/Hs-PEX5-eGFP_c1204_1comp.png" class="img-responsive" alt="Hs-PEX5-eGFP_c1204_1comp.png">
<img src="./2022-06-02_experimental-pex5/clean-all-results/Hs-PEX5-eGFP_c1204_2comp.png" class="img-responsive" alt="Hs-PEX5-eGFP_c1204_2comp.png">
</li>
<li><code>fe81d</code>, 1 species and 2 species fits.
<img src="./2022-06-02_experimental-pex5/clean-all-results/Hs-PEX5-eGFP_fe81d_1comp.png" class="img-responsive" alt="Hs-PEX5-eGFP_fe81d_1comp.png">
<img src="./2022-06-02_experimental-pex5/clean-all-results/Hs-PEX5-eGFP_fe81d_2comp.png" class="img-responsive" alt="Hs-PEX5-eGFP_fe81d_2comp.png">
</li>
<li><code>ff67b</code>, 1 species and 2 species fits.
<img src="./2022-06-02_experimental-pex5/clean-all-results/Hs-PEX5-eGFP_ff67b_1comp.png" class="img-responsive" alt="Hs-PEX5-eGFP_ff67b_1comp.png">
<img src="./2022-06-02_experimental-pex5/clean-all-results/Hs-PEX5-eGFP_ff67b_2comp.png" class="img-responsive" alt="Hs-PEX5-eGFP_ff67b_2comp.png">
</li>
</ul>
</details>
</li>
<li>now illlustrative correlations and fits from <code>AF488 + DiO-LUVs</code> (data with
peak artifacts). This is the data we want to correct.

<details>
<ul class="org-ul">
<li><code>no correction</code>, 1 species and 2 species fits.
<img src="./2022-06-02_experimental-pex5/dirty-all-results/Tb-PEX5-eGFP_no-correction_1comp.png" class="img-responsive" alt="Tb-PEX5-eGFP_no-correction_1comp.png">
<img src="./2022-06-02_experimental-pex5/dirty-all-results/Tb-PEX5-eGFP_no-correction_2comp.png" class="img-responsive" alt="Tb-PEX5-eGFP_no-correction_2comp.png">
</li>
<li><code>0cd20</code>, 1 species and 2 species fits.
<img src="./2022-06-02_experimental-pex5/dirty-all-results/Tb-PEX5-eGFP_0cd20_1comp.png" class="img-responsive" alt="Tb-PEX5-eGFP_0cd20_1comp.png">
<img src="./2022-06-02_experimental-pex5/dirty-all-results/Tb-PEX5-eGFP_0cd20_2comp.png" class="img-responsive" alt="Tb-PEX5-eGFP_0cd20_2comp.png">
</li>
<li><code>19e3e</code>, 1 species and 2 species fits.
<img src="./2022-06-02_experimental-pex5/dirty-all-results/Tb-PEX5-eGFP_19e3e_1comp.png" class="img-responsive" alt="Tb-PEX5-eGFP_19e3e_1comp.png">
<img src="./2022-06-02_experimental-pex5/dirty-all-results/Tb-PEX5-eGFP_19e3e_2comp.png" class="img-responsive" alt="Tb-PEX5-eGFP_19e3e_2comp.png">
</li>
<li><code>34a6d</code>, 1 species and 2 species fits.
<img src="./2022-06-02_experimental-pex5/dirty-all-results/Tb-PEX5-eGFP_34a6d_1comp.png" class="img-responsive" alt="Tb-PEX5-eGFP_34a6d_1comp.png">
<img src="./2022-06-02_experimental-pex5/dirty-all-results/Tb-PEX5-eGFP_34a6d_2comp.png" class="img-responsive" alt="Tb-PEX5-eGFP_34a6d_2comp.png">
</li>
<li><code>484af</code>, 1 species and 2 species fits.
<img src="./2022-06-02_experimental-pex5/dirty-all-results/Tb-PEX5-eGFP_484af_1comp.png" class="img-responsive" alt="Tb-PEX5-eGFP_484af_1comp.png">
<img src="./2022-06-02_experimental-pex5/dirty-all-results/Tb-PEX5-eGFP_484af_2comp.png" class="img-responsive" alt="Tb-PEX5-eGFP_484af_2comp.png">
</li>
<li><code>714af</code>, 1 species and 2 species fits.
<img src="./2022-06-02_experimental-pex5/dirty-all-results/Tb-PEX5-eGFP_714af_1comp.png" class="img-responsive" alt="Tb-PEX5-eGFP_714af_1comp.png">
<img src="./2022-06-02_experimental-pex5/dirty-all-results/Tb-PEX5-eGFP_714af_2comp.png" class="img-responsive" alt="Tb-PEX5-eGFP_714af_2comp.png">
</li>
<li><code>34766</code>, 1 species and 2 species fits.
<img src="./2022-06-02_experimental-pex5/dirty-all-results/Tb-PEX5-eGFP_34766_1comp.png" class="img-responsive" alt="Tb-PEX5-eGFP_34766_1comp.png">
<img src="./2022-06-02_experimental-pex5/dirty-all-results/Tb-PEX5-eGFP_34766_2comp.png" class="img-responsive" alt="Tb-PEX5-eGFP_34766_2comp.png">
</li>
<li><code>c1204</code>, 1 species and 2 species fits.
<img src="./2022-06-02_experimental-pex5/dirty-all-results/Tb-PEX5-eGFP_c1204_1comp.png" class="img-responsive" alt="Tb-PEX5-eGFP_c1204_1comp.png">
<img src="./2022-06-02_experimental-pex5/dirty-all-results/Tb-PEX5-eGFP_c1204_2comp.png" class="img-responsive" alt="Tb-PEX5-eGFP_c1204_2comp.png">
</li>
<li><code>fe81d</code>, 1 species and 2 species fits.
<img src="./2022-06-02_experimental-pex5/dirty-all-results/Tb-PEX5-eGFP_fe81d_1comp.png" class="img-responsive" alt="Tb-PEX5-eGFP_fe81d_1comp.png">
<img src="./2022-06-02_experimental-pex5/dirty-all-results/Tb-PEX5-eGFP_fe81d_2comp.png" class="img-responsive" alt="Tb-PEX5-eGFP_fe81d_2comp.png">
</li>
<li><code>ff67b</code>, 1 species and 2 species fits.
<img src="./2022-06-02_experimental-pex5/dirty-all-results/Tb-PEX5-eGFP_ff67b_1comp.png" class="img-responsive" alt="Tb-PEX5-eGFP_ff67b_1comp.png">
<img src="./2022-06-02_experimental-pex5/dirty-all-results/Tb-PEX5-eGFP_ff67b_2comp.png" class="img-responsive" alt="Tb-PEX5-eGFP_ff67b_2comp.png">
</li>
</ul>
</details>
</li>

<li>second, load modules and data

<details>
<div class="org-src-container">

<pre class="src src-jupyter-python">%<span style="color: #707e4f;">cd</span> ~/<span style="color: #784437;">Programme</span>/<span style="color: #784437;">drmed</span>-<span style="color: #784437;">git</span>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #859900; font-weight: bold;">import</span> <span style="color: #7e544f;">os</span>
<span style="color: #859900; font-weight: bold;">import</span> <span style="color: #4f5c7e;">numpy</span> <span style="color: #859900; font-weight: bold;">as</span> <span style="color: #707e4f;">np</span>
<span style="color: #859900; font-weight: bold;">import</span> <span style="color: #37785e;">matplotlib</span>.<span style="color: #4f7e67;">pyplot</span> <span style="color: #859900; font-weight: bold;">as</span> <span style="color: #4f7e67;">plt</span>
<span style="color: #859900; font-weight: bold;">import</span> <span style="color: #5e7837;">pandas</span> <span style="color: #859900; font-weight: bold;">as</span> <span style="color: #783778;">pd</span>
<span style="color: #859900; font-weight: bold;">import</span> <span style="color: #78683f;">seaborn</span> <span style="color: #859900; font-weight: bold;">as</span> <span style="color: #4f5c7e;">sns</span>
<span style="color: #859900; font-weight: bold;">from</span> <span style="color: #43783f;">pathlib</span> <span style="color: #859900; font-weight: bold;">import</span> <span style="color: #78683f;">Path</span>
<span style="color: #859900; font-weight: bold;">from</span> <span style="color: #4f7e67;">pprint</span> <span style="color: #859900; font-weight: bold;">import</span> <span style="color: #4f7e67;">pprint</span>

<span style="color: #4f5c7e;">sns</span>.<span style="color: #374478;">set_theme</span>(<span style="color: #3f7178;">style</span>=<span style="color: #2aa198;">"whitegrid"</span>, <span style="color: #784437;">font_scale</span>=2.5, <span style="color: #5e7837;">palette</span>=<span style="color: #2aa198;">'colorblind'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #4f7e67;">context</span>=<span style="color: #2aa198;">'paper'</span>)

<span style="color: #268bd2;">model_ls</span> = [<span style="color: #2aa198;">'ff67be0b68e540a9a29a36a2d0c7a5be'</span>, <span style="color: #2aa198;">'347669d050f344ad9fb9e480c814f727'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">'714af8cd12c1441eac4ca980e8c20070'</span>, <span style="color: #2aa198;">'34a6d207ac594035b1009c330fb67a65'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">'484af471c61943fa90e5f78e78a229f0'</span>, <span style="color: #2aa198;">'0cd2023eeaf745aca0d3e8ad5e1fc653'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">'fe81d71c52404ed790b3a32051258da9'</span>, <span style="color: #2aa198;">'19e3e786e1bc4e2b93856f5dc9de8216'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">'c1204e3a8a1e4c40a35b5b7b1922d1ce'</span>]

<span style="color: #268bd2;">model_name_ls</span> = [<span style="color: #43783f;">f</span><span style="color: #2aa198;">'</span><span style="color: #268bd2;">{s:.5}</span><span style="color: #2aa198;">'</span> <span style="color: #859900; font-weight: bold;">for</span> <span style="color: #784437;">s</span> <span style="color: #859900; font-weight: bold;">in</span> <span style="color: #513f78;">model_ls</span>]
</pre>
</div>

<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">path</span> = <span style="color: #78683f;">Path</span>(<span style="color: #2aa198;">'data/exp-220227-unet/2022-06-02_experimental-pex5/'</span>)

<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">averaged values</span>
<span style="color: #268bd2;">dirty_avg_1comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'dirty-all-results/Tb-PEX5-eGFP_avg_cas_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">dirty_avg_2comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'dirty-all-results/Tb-PEX5-eGFP_avg_cas_2comp_outputParam.csv'</span>
<span style="color: #268bd2;">clean_avg_1comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'clean-all-results/Hs-PEX5-eGFP_avg_cas_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">clean_avg_2comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'clean-all-results/Hs-PEX5-eGFP_avg_cas_2comp_outputParam.csv'</span>

<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">dirty params</span>
<span style="color: #268bd2;">dirty_noc_1comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'dirty-all-results/Tb-PEX5-eGFP_no-correction_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">dirty_noc_2comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'dirty-all-results/Tb-PEX5-eGFP_no-correction_2comp_outputParam.csv'</span>

<span style="color: #268bd2;">dirty_0cd20_1comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'dirty-all-results/Tb-PEX5-eGFP_0cd20_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">dirty_0cd20_2comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'dirty-all-results/Tb-PEX5-eGFP_0cd20_2comp_outputParam.csv'</span>
<span style="color: #268bd2;">dirty_19e3e_1comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'dirty-all-results/Tb-PEX5-eGFP_19e3e_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">dirty_19e3e_2comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'dirty-all-results/Tb-PEX5-eGFP_19e3e_2comp_outputParam.csv'</span>
<span style="color: #268bd2;">dirty_34766_1comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'dirty-all-results/Tb-PEX5-eGFP_34766_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">dirty_34766_2comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'dirty-all-results/Tb-PEX5-eGFP_34766_2comp_outputParam.csv'</span>
<span style="color: #268bd2;">dirty_34a6d_1comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'dirty-all-results/Tb-PEX5-eGFP_34a6d_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">dirty_34a6d_2comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'dirty-all-results/Tb-PEX5-eGFP_34a6d_2comp_outputParam.csv'</span>
<span style="color: #268bd2;">dirty_484af_1comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'dirty-all-results/Tb-PEX5-eGFP_484af_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">dirty_484af_2comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'dirty-all-results/Tb-PEX5-eGFP_484af_2comp_outputParam.csv'</span>
<span style="color: #268bd2;">dirty_714af_1comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'dirty-all-results/Tb-PEX5-eGFP_714af_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">dirty_714af_2comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'dirty-all-results/Tb-PEX5-eGFP_714af_2comp_outputParam.csv'</span>
<span style="color: #268bd2;">dirty_c1204_1comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'dirty-all-results/Tb-PEX5-eGFP_c1204_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">dirty_c1204_2comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'dirty-all-results/Tb-PEX5-eGFP_c1204_2comp_outputParam.csv'</span>
<span style="color: #268bd2;">dirty_fe81d_1comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'dirty-all-results/Tb-PEX5-eGFP_fe81d_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">dirty_fe81d_2comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'dirty-all-results/Tb-PEX5-eGFP_fe81d_2comp_outputParam.csv'</span>
<span style="color: #268bd2;">dirty_ff67b_1comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'dirty-all-results/Tb-PEX5-eGFP_ff67b_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">dirty_ff67b_2comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'dirty-all-results/Tb-PEX5-eGFP_ff67b_2comp_outputParam.csv'</span>

<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">clean params</span>
<span style="color: #268bd2;">clean_noc_1comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'clean-all-results/Hs-PEX5-eGFP_no-correction_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">clean_noc_2comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'clean-all-results/Hs-PEX5-eGFP_no-correction_2comp_outputParam.csv'</span>

<span style="color: #268bd2;">clean_0cd20_1comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'clean-all-results/Hs-PEX5-eGFP_0cd20_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">clean_0cd20_2comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'clean-all-results/Hs-PEX5-eGFP_0cd20_2comp_outputParam.csv'</span>
<span style="color: #268bd2;">clean_19e3e_1comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'clean-all-results/Hs-PEX5-eGFP_19e3e_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">clean_19e3e_2comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'clean-all-results/Hs-PEX5-eGFP_19e3e_2comp_outputParam.csv'</span>
<span style="color: #268bd2;">clean_34766_1comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'clean-all-results/Hs-PEX5-eGFP_34766_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">clean_34766_2comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'clean-all-results/Hs-PEX5-eGFP_34766_2comp_outputParam.csv'</span>
<span style="color: #268bd2;">clean_34a6d_1comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'clean-all-results/Hs-PEX5-eGFP_34a6d_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">clean_34a6d_2comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'clean-all-results/Hs-PEX5-eGFP_34a6d_2comp_outputParam.csv'</span>
<span style="color: #268bd2;">clean_484af_1comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'clean-all-results/Hs-PEX5-eGFP_484af_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">clean_484af_2comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'clean-all-results/Hs-PEX5-eGFP_484af_2comp_outputParam.csv'</span>
<span style="color: #268bd2;">clean_714af_1comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'clean-all-results/Hs-PEX5-eGFP_714af_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">clean_714af_2comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'clean-all-results/Hs-PEX5-eGFP_714af_2comp_outputParam.csv'</span>
<span style="color: #268bd2;">clean_c1204_1comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'clean-all-results/Hs-PEX5-eGFP_c1204_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">clean_c1204_2comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'clean-all-results/Hs-PEX5-eGFP_c1204_2comp_outputParam.csv'</span>
<span style="color: #268bd2;">clean_fe81d_1comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'clean-all-results/Hs-PEX5-eGFP_fe81d_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">clean_fe81d_2comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'clean-all-results/Hs-PEX5-eGFP_fe81d_2comp_outputParam.csv'</span>
<span style="color: #268bd2;">clean_ff67b_1comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'clean-all-results/Hs-PEX5-eGFP_ff67b_1comp_outputParam.csv'</span>
<span style="color: #268bd2;">clean_ff67b_2comp_path</span> = <span style="color: #513f78;">path</span> / <span style="color: #2aa198;">'clean-all-results/Hs-PEX5-eGFP_ff67b_2comp_outputParam.csv'</span>

<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">average parameters</span>
<span style="color: #268bd2;">dirty_avg_1comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #4f5c7e;">dirty_avg_1comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=10*[<span style="color: #2aa198;">'Tb-PEX5-eGFP'</span>,])
<span style="color: #268bd2;">dirty_avg_2comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #5e7837;">dirty_avg_2comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=10*[<span style="color: #2aa198;">'Tb-PEX5-eGFP'</span>,])
<span style="color: #268bd2;">clean_avg_1comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #783778;">clean_avg_1comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=10*[<span style="color: #2aa198;">'Hs-PEX5-eGFP'</span>,])
<span style="color: #268bd2;">clean_avg_2comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #4f7e67;">clean_avg_2comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=10*[<span style="color: #2aa198;">'Hs-PEX5-eGFP'</span>,])

<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">dirty params</span>
<span style="color: #268bd2;">dirty_noc_1comp</span> = <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #783f5a;">dirty_noc_1comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=250*[<span style="color: #2aa198;">'Tb-PEX5-eGFP'</span>,], <span style="color: #4f7e67;">processing</span>=250*[<span style="color: #2aa198;">'No correction'</span>])
<span style="color: #268bd2;">dirty_noc_2comp</span> = <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #4f7e67;">dirty_noc_2comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=250*[<span style="color: #2aa198;">'Tb-PEX5-eGFP'</span>,], <span style="color: #4f7e67;">processing</span>=250*[<span style="color: #2aa198;">'No correction'</span>])

<span style="color: #268bd2;">dirty_0cd20_1comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #4f5c7e;">dirty_0cd20_1comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=250*[<span style="color: #2aa198;">'Tb-PEX5-eGFP'</span>,], <span style="color: #4f7e67;">processing</span>=250*[<span style="color: #2aa198;">'0cd20'</span>])
<span style="color: #268bd2;">dirty_0cd20_2comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #43783f;">dirty_0cd20_2comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=250*[<span style="color: #2aa198;">'Tb-PEX5-eGFP'</span>,], <span style="color: #4f7e67;">processing</span>=250*[<span style="color: #2aa198;">'0cd20'</span>])
<span style="color: #268bd2;">dirty_19e3e_1comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #43783f;">dirty_19e3e_1comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=250*[<span style="color: #2aa198;">'Tb-PEX5-eGFP'</span>,], <span style="color: #4f7e67;">processing</span>=250*[<span style="color: #2aa198;">'19e3e'</span>])
<span style="color: #268bd2;">dirty_19e3e_2comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #5e7837;">dirty_19e3e_2comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=250*[<span style="color: #2aa198;">'Tb-PEX5-eGFP'</span>,], <span style="color: #4f7e67;">processing</span>=250*[<span style="color: #2aa198;">'19e3e'</span>])
<span style="color: #268bd2;">dirty_34766_1comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #513f78;">dirty_34766_1comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=250*[<span style="color: #2aa198;">'Tb-PEX5-eGFP'</span>,], <span style="color: #4f7e67;">processing</span>=250*[<span style="color: #2aa198;">'34766'</span>])
<span style="color: #268bd2;">dirty_34766_2comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #783778;">dirty_34766_2comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=250*[<span style="color: #2aa198;">'Tb-PEX5-eGFP'</span>,], <span style="color: #4f7e67;">processing</span>=250*[<span style="color: #2aa198;">'34766'</span>])
<span style="color: #268bd2;">dirty_34a6d_1comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #3f7178;">dirty_34a6d_1comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=250*[<span style="color: #2aa198;">'Tb-PEX5-eGFP'</span>,], <span style="color: #4f7e67;">processing</span>=250*[<span style="color: #2aa198;">'34a6d'</span>])
<span style="color: #268bd2;">dirty_34a6d_2comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #783778;">dirty_34a6d_2comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=250*[<span style="color: #2aa198;">'Tb-PEX5-eGFP'</span>,], <span style="color: #4f7e67;">processing</span>=250*[<span style="color: #2aa198;">'34a6d'</span>])
<span style="color: #268bd2;">dirty_484af_1comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #3f7178;">dirty_484af_1comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=250*[<span style="color: #2aa198;">'Tb-PEX5-eGFP'</span>,], <span style="color: #4f7e67;">processing</span>=250*[<span style="color: #2aa198;">'484af'</span>])
<span style="color: #268bd2;">dirty_484af_2comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #4f5c7e;">dirty_484af_2comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=250*[<span style="color: #2aa198;">'Tb-PEX5-eGFP'</span>,], <span style="color: #4f7e67;">processing</span>=250*[<span style="color: #2aa198;">'484af'</span>])
<span style="color: #268bd2;">dirty_714af_1comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #7e544f;">dirty_714af_1comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=250*[<span style="color: #2aa198;">'Tb-PEX5-eGFP'</span>,], <span style="color: #4f7e67;">processing</span>=250*[<span style="color: #2aa198;">'714af'</span>])
<span style="color: #268bd2;">dirty_714af_2comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #783778;">dirty_714af_2comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=250*[<span style="color: #2aa198;">'Tb-PEX5-eGFP'</span>,], <span style="color: #4f7e67;">processing</span>=250*[<span style="color: #2aa198;">'714af'</span>])
<span style="color: #268bd2;">dirty_c1204_1comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #5e7837;">dirty_c1204_1comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=250*[<span style="color: #2aa198;">'Tb-PEX5-eGFP'</span>,], <span style="color: #4f7e67;">processing</span>=250*[<span style="color: #2aa198;">'c1204'</span>])
<span style="color: #268bd2;">dirty_c1204_2comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #783f5a;">dirty_c1204_2comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=250*[<span style="color: #2aa198;">'Tb-PEX5-eGFP'</span>,], <span style="color: #4f7e67;">processing</span>=250*[<span style="color: #2aa198;">'c1204'</span>])
<span style="color: #268bd2;">dirty_fe81d_1comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #513f78;">dirty_fe81d_1comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=250*[<span style="color: #2aa198;">'Tb-PEX5-eGFP'</span>,], <span style="color: #4f7e67;">processing</span>=250*[<span style="color: #2aa198;">'fe81d'</span>])
<span style="color: #268bd2;">dirty_fe81d_2comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #374478;">dirty_fe81d_2comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=250*[<span style="color: #2aa198;">'Tb-PEX5-eGFP'</span>,], <span style="color: #4f7e67;">processing</span>=250*[<span style="color: #2aa198;">'fe81d'</span>])
<span style="color: #268bd2;">dirty_ff67b_1comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #4f5c7e;">dirty_ff67b_1comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=250*[<span style="color: #2aa198;">'Tb-PEX5-eGFP'</span>,], <span style="color: #4f7e67;">processing</span>=250*[<span style="color: #2aa198;">'ff67b'</span>])
<span style="color: #268bd2;">dirty_ff67b_2comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #3f7178;">dirty_ff67b_2comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=250*[<span style="color: #2aa198;">'Tb-PEX5-eGFP'</span>,], <span style="color: #4f7e67;">processing</span>=250*[<span style="color: #2aa198;">'ff67b'</span>])

<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">clean params</span>
<span style="color: #268bd2;">clean_noc_1comp</span> = <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #4f5c7e;">clean_noc_1comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=250*[<span style="color: #2aa198;">'Hs-PEX5-eGFP'</span>,], <span style="color: #4f7e67;">processing</span>=250*[<span style="color: #2aa198;">'No correction'</span>])
<span style="color: #268bd2;">clean_noc_2comp</span> = <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #513f78;">clean_noc_2comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=250*[<span style="color: #2aa198;">'Hs-PEX5-eGFP'</span>,], <span style="color: #4f7e67;">processing</span>=250*[<span style="color: #2aa198;">'No correction'</span>])

<span style="color: #268bd2;">clean_0cd20_1comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #4f5c7e;">clean_0cd20_1comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=250*[<span style="color: #2aa198;">'Hs-PEX5-eGFP'</span>,], <span style="color: #4f7e67;">processing</span>=250*[<span style="color: #2aa198;">'0cd20'</span>])
<span style="color: #268bd2;">clean_0cd20_2comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #707e4f;">clean_0cd20_2comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=250*[<span style="color: #2aa198;">'Hs-PEX5-eGFP'</span>,], <span style="color: #4f7e67;">processing</span>=250*[<span style="color: #2aa198;">'0cd20'</span>])
<span style="color: #268bd2;">clean_19e3e_1comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #7e544f;">clean_19e3e_1comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=250*[<span style="color: #2aa198;">'Hs-PEX5-eGFP'</span>,], <span style="color: #4f7e67;">processing</span>=250*[<span style="color: #2aa198;">'19e3e'</span>])
<span style="color: #268bd2;">clean_19e3e_2comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #7e544f;">clean_19e3e_2comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=250*[<span style="color: #2aa198;">'Hs-PEX5-eGFP'</span>,], <span style="color: #4f7e67;">processing</span>=250*[<span style="color: #2aa198;">'19e3e'</span>])
<span style="color: #268bd2;">clean_34766_1comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #78683f;">clean_34766_1comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=250*[<span style="color: #2aa198;">'Hs-PEX5-eGFP'</span>,], <span style="color: #4f7e67;">processing</span>=250*[<span style="color: #2aa198;">'34766'</span>])
<span style="color: #268bd2;">clean_34766_2comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #37785e;">clean_34766_2comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=250*[<span style="color: #2aa198;">'Hs-PEX5-eGFP'</span>,], <span style="color: #4f7e67;">processing</span>=250*[<span style="color: #2aa198;">'34766'</span>])
<span style="color: #268bd2;">clean_34a6d_1comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #7e544f;">clean_34a6d_1comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=250*[<span style="color: #2aa198;">'Hs-PEX5-eGFP'</span>,], <span style="color: #4f7e67;">processing</span>=250*[<span style="color: #2aa198;">'34a6d'</span>])
<span style="color: #268bd2;">clean_34a6d_2comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #4f7e67;">clean_34a6d_2comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=250*[<span style="color: #2aa198;">'Hs-PEX5-eGFP'</span>,], <span style="color: #4f7e67;">processing</span>=250*[<span style="color: #2aa198;">'34a6d'</span>])
<span style="color: #268bd2;">clean_484af_1comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #4f7e67;">clean_484af_1comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=250*[<span style="color: #2aa198;">'Hs-PEX5-eGFP'</span>,], <span style="color: #4f7e67;">processing</span>=250*[<span style="color: #2aa198;">'484af'</span>])
<span style="color: #268bd2;">clean_484af_2comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #7e544f;">clean_484af_2comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=250*[<span style="color: #2aa198;">'Hs-PEX5-eGFP'</span>,], <span style="color: #4f7e67;">processing</span>=250*[<span style="color: #2aa198;">'484af'</span>])
<span style="color: #268bd2;">clean_714af_1comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #4f7e67;">clean_714af_1comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=250*[<span style="color: #2aa198;">'Hs-PEX5-eGFP'</span>,], <span style="color: #4f7e67;">processing</span>=250*[<span style="color: #2aa198;">'714af'</span>])
<span style="color: #268bd2;">clean_714af_2comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #4f7e67;">clean_714af_2comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=250*[<span style="color: #2aa198;">'Hs-PEX5-eGFP'</span>,], <span style="color: #4f7e67;">processing</span>=250*[<span style="color: #2aa198;">'714af'</span>])
<span style="color: #268bd2;">clean_c1204_1comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #783f5a;">clean_c1204_1comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=250*[<span style="color: #2aa198;">'Hs-PEX5-eGFP'</span>,], <span style="color: #4f7e67;">processing</span>=250*[<span style="color: #2aa198;">'c1204'</span>])
<span style="color: #268bd2;">clean_c1204_2comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #783778;">clean_c1204_2comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=250*[<span style="color: #2aa198;">'Hs-PEX5-eGFP'</span>,], <span style="color: #4f7e67;">processing</span>=250*[<span style="color: #2aa198;">'c1204'</span>])
<span style="color: #268bd2;">clean_fe81d_1comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #37785e;">clean_fe81d_1comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=250*[<span style="color: #2aa198;">'Hs-PEX5-eGFP'</span>,], <span style="color: #4f7e67;">processing</span>=250*[<span style="color: #2aa198;">'fe81d'</span>])
<span style="color: #268bd2;">clean_fe81d_2comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #4f7e67;">clean_fe81d_2comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=250*[<span style="color: #2aa198;">'Hs-PEX5-eGFP'</span>,], <span style="color: #4f7e67;">processing</span>=250*[<span style="color: #2aa198;">'fe81d'</span>])
<span style="color: #268bd2;">clean_ff67b_1comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #78683f;">clean_ff67b_1comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=250*[<span style="color: #2aa198;">'Hs-PEX5-eGFP'</span>,], <span style="color: #4f7e67;">processing</span>=250*[<span style="color: #2aa198;">'ff67b'</span>])
<span style="color: #268bd2;">clean_ff67b_2comp</span> =  <span style="color: #783778;">pd</span>.<span style="color: #78683f;">read_csv</span>(<span style="color: #783778;">clean_ff67b_2comp_path</span>, <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">','</span>).<span style="color: #707e4f;">assign</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">artifact</span>=250*[<span style="color: #2aa198;">'Hs-PEX5-eGFP'</span>,], <span style="color: #4f7e67;">processing</span>=250*[<span style="color: #2aa198;">'ff67b'</span>])

<span style="color: #268bd2;">avg_param</span> = <span style="color: #783778;">pd</span>.<span style="color: #7e544f;">concat</span>([<span style="color: #5e7837;">clean_avg_1comp</span>, <span style="color: #7a4f7e;">clean_avg_2comp</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #513f78;">dirty_avg_1comp</span>, <span style="color: #4f7e67;">dirty_avg_2comp</span>])
<span style="color: #859900; font-weight: bold;">assert</span> <span style="color: #657b83; font-weight: bold;">set</span>(<span style="color: #3f7178;">avg_param</span>[<span style="color: #2aa198;">'Dimen'</span>]) == {<span style="color: #2aa198;">'3D'</span>}
<span style="color: #859900; font-weight: bold;">assert</span> <span style="color: #657b83; font-weight: bold;">set</span>(<span style="color: #3f7178;">avg_param</span>[<span style="color: #2aa198;">'AR1'</span>] == {6.0})
<span style="color: #859900; font-weight: bold;">assert</span> <span style="color: #657b83; font-weight: bold;">set</span>(<span style="color: #3f7178;">avg_param</span>[<span style="color: #2aa198;">'Diff_eq'</span>]) == {<span style="color: #2aa198;">'Equation 1B'</span>}
<span style="color: #859900; font-weight: bold;">assert</span> <span style="color: #657b83; font-weight: bold;">set</span>(<span style="color: #3f7178;">avg_param</span>[<span style="color: #2aa198;">'Triplet_eq'</span>]) == {<span style="color: #2aa198;">'Triplet Eq 2B'</span>}
<span style="color: #859900; font-weight: bold;">assert</span> <span style="color: #657b83; font-weight: bold;">set</span>(<span style="color: #3f7178;">avg_param</span>[<span style="color: #2aa198;">'tauT1'</span>]) == {0.04}
<span style="color: #859900; font-weight: bold;">assert</span> <span style="color: #657b83; font-weight: bold;">set</span>(<span style="color: #3f7178;">avg_param</span>[<span style="color: #2aa198;">'alpha1'</span>]) == {1.0}
<span style="color: #859900; font-weight: bold;">assert</span> <span style="color: #657b83; font-weight: bold;">set</span>(<span style="color: #3f7178;">avg_param</span>[<span style="color: #2aa198;">'xmin'</span>]) == {0.001018}
<span style="color: #859900; font-weight: bold;">assert</span> <span style="color: #657b83; font-weight: bold;">set</span>(<span style="color: #3f7178;">avg_param</span>[<span style="color: #2aa198;">'xmax'</span>]) == {939.52409}

<span style="color: #268bd2;">all_param</span> = <span style="color: #783778;">pd</span>.<span style="color: #7e544f;">concat</span>([<span style="color: #7a4f7e;">clean_noc_1comp</span>, <span style="color: #783f5a;">clean_noc_2comp</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #4f5c7e;">dirty_noc_1comp</span>, <span style="color: #4f7e67;">dirty_noc_2comp</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #784437;">dirty_0cd20_1comp</span>, <span style="color: #783778;">dirty_0cd20_2comp</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #7e544f;">dirty_19e3e_1comp</span>, <span style="color: #374478;">dirty_19e3e_2comp</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #3f7178;">dirty_34766_1comp</span>, <span style="color: #78683f;">dirty_34766_2comp</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #4f5c7e;">dirty_34a6d_1comp</span>, <span style="color: #78683f;">dirty_34a6d_2comp</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #78683f;">dirty_484af_1comp</span>, <span style="color: #4f5c7e;">dirty_484af_2comp</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #4f7e67;">dirty_714af_1comp</span>, <span style="color: #374478;">dirty_714af_2comp</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #783f5a;">dirty_c1204_1comp</span>, <span style="color: #513f78;">dirty_c1204_2comp</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #513f78;">dirty_fe81d_1comp</span>, <span style="color: #7a4f7e;">dirty_fe81d_2comp</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #78683f;">dirty_ff67b_1comp</span>, <span style="color: #7a4f7e;">dirty_ff67b_2comp</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #3f7178;">clean_0cd20_1comp</span>, <span style="color: #3f7178;">clean_0cd20_2comp</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #37785e;">clean_19e3e_1comp</span>, <span style="color: #5e7837;">clean_19e3e_2comp</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #37785e;">clean_34766_1comp</span>, <span style="color: #4f7e67;">clean_34766_2comp</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #7a4f7e;">clean_34a6d_1comp</span>, <span style="color: #37785e;">clean_34a6d_2comp</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #783f5a;">clean_484af_1comp</span>, <span style="color: #513f78;">clean_484af_2comp</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #513f78;">clean_714af_1comp</span>, <span style="color: #37785e;">clean_714af_2comp</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #783778;">clean_c1204_1comp</span>, <span style="color: #3f7178;">clean_c1204_2comp</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #43783f;">clean_fe81d_1comp</span>, <span style="color: #783f5a;">clean_fe81d_2comp</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #4f7e67;">clean_ff67b_1comp</span>, <span style="color: #4f5c7e;">clean_ff67b_2comp</span>])
<span style="color: #859900; font-weight: bold;">assert</span> <span style="color: #657b83; font-weight: bold;">set</span>(<span style="color: #37785e;">all_param</span>[<span style="color: #2aa198;">'Dimen'</span>]) == {<span style="color: #2aa198;">'3D'</span>}
<span style="color: #859900; font-weight: bold;">assert</span> <span style="color: #657b83; font-weight: bold;">set</span>(<span style="color: #37785e;">all_param</span>[<span style="color: #2aa198;">'AR1'</span>] == {6.0})
<span style="color: #859900; font-weight: bold;">assert</span> <span style="color: #657b83; font-weight: bold;">set</span>(<span style="color: #37785e;">all_param</span>[<span style="color: #2aa198;">'Diff_eq'</span>]) == {<span style="color: #2aa198;">'Equation 1B'</span>}
<span style="color: #859900; font-weight: bold;">assert</span> <span style="color: #657b83; font-weight: bold;">set</span>(<span style="color: #37785e;">all_param</span>[<span style="color: #2aa198;">'Triplet_eq'</span>]) == {<span style="color: #2aa198;">'Triplet Eq 2B'</span>}
<span style="color: #859900; font-weight: bold;">assert</span> <span style="color: #657b83; font-weight: bold;">set</span>(<span style="color: #37785e;">all_param</span>[<span style="color: #2aa198;">'tauT1'</span>]) == {0.04}
<span style="color: #859900; font-weight: bold;">assert</span> <span style="color: #657b83; font-weight: bold;">set</span>(<span style="color: #37785e;">all_param</span>[<span style="color: #2aa198;">'alpha1'</span>]) == {1.0}
<span style="color: #859900; font-weight: bold;">assert</span> <span style="color: #657b83; font-weight: bold;">set</span>(<span style="color: #37785e;">all_param</span>[<span style="color: #2aa198;">'xmin'</span>]) == {0.001018}
<span style="color: #859900; font-weight: bold;">assert</span> <span style="color: #657b83; font-weight: bold;">set</span>(<span style="color: #37785e;">all_param</span>[<span style="color: #2aa198;">'xmax'</span>]) == {939.52409}

<span style="color: #37785e;">all_param</span>
</pre>
</div>
</details>
<table class="table table-striped table-bordered table-hover table-condensed">


<colgroup>
<col  class="right">

<col  class="left">

<col  class="left">

<col  class="left">

<col  class="right">

<col  class="left">

<col  class="left">

<col  class="right">

<col  class="left">

<col  class="right">

<col  class="right">

<col  class="left">

<col  class="left">

<col  class="left">

<col  class="right">

<col  class="left">

<col  class="right">

<col  class="left">

<col  class="right">

<col  class="left">

<col  class="right">

<col  class="left">
</colgroup>
<thead>
<tr>
<th scope="col" class="text-right">&#xa0;</th>
<th scope="col" class="text-left">name<sub>of</sub><sub>plot</sub></th>
<th scope="col" class="text-left">master<sub>file</sub></th>
<th scope="col" class="text-left">parent<sub>name</sub></th>
<th scope="col" class="text-right">parent<sub>uqid</sub></th>
<th scope="col" class="text-left">time of fit</th>
<th scope="col" class="text-left">Diff<sub>eq</sub></th>
<th scope="col" class="text-right">Diff<sub>species</sub></th>
<th scope="col" class="text-left">Triplet<sub>eq</sub></th>
<th scope="col" class="text-right">Triplet<sub>species</sub></th>
<th scope="col" class="text-right">Dimen</th>
<th scope="col" class="text-left">&#x2026;</th>
<th scope="col" class="text-left">artifact</th>
<th scope="col" class="text-left">processing</th>
<th scope="col" class="text-right">A2</th>
<th scope="col" class="text-left">stdev(A2)</th>
<th scope="col" class="text-right">txy2</th>
<th scope="col" class="text-left">stdev(txy2)</th>
<th scope="col" class="text-right">alpha2</th>
<th scope="col" class="text-left">stdev(alpha2)</th>
<th scope="col" class="text-right">AR2</th>
<th scope="col" class="text-left">stdev(AR2)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="text-right">0</td>
<td class="text-left">2022-06-02<sub>tttr2xfcs</sub><sub>CH2</sub><sub>BIN1dot0</sub><sub>HsPEX5EGFP</sub> 1&#x2026;</td>
<td class="text-left">Not known</td>
<td class="text-left">tttr2xfcs</td>
<td class="text-right">0</td>
<td class="text-left">Mon Aug 1 13:38:08 2022</td>
<td class="text-left">Equation 1B</td>
<td class="text-right">1</td>
<td class="text-left">Triplet Eq 2B</td>
<td class="text-right">1</td>
<td class="text-right">3D</td>
<td class="text-left">&#x2026;</td>
<td class="text-left">Hs-PEX5-eGFP</td>
<td class="text-left">No correction</td>
<td class="text-right">NaN</td>
<td class="text-left">NaN</td>
<td class="text-right">NaN</td>
<td class="text-left">NaN</td>
<td class="text-right">NaN</td>
<td class="text-left">NaN</td>
<td class="text-right">NaN</td>
<td class="text-left">NaN</td>
</tr>

<tr>
<td class="text-right">1</td>
<td class="text-left">2022-06-02<sub>tttr2xfcs</sub><sub>CH2</sub><sub>BIN1dot0</sub><sub>HsPEX5EGFP</sub> 1&#x2026;</td>
<td class="text-left">Not known</td>
<td class="text-left">tttr2xfcs</td>
<td class="text-right">0</td>
<td class="text-left">Mon Aug 1 13:38:08 2022</td>
<td class="text-left">Equation 1B</td>
<td class="text-right">1</td>
<td class="text-left">Triplet Eq 2B</td>
<td class="text-right">1</td>
<td class="text-right">3D</td>
<td class="text-left">&#x2026;</td>
<td class="text-left">Hs-PEX5-eGFP</td>
<td class="text-left">No correction</td>
<td class="text-right">NaN</td>
<td class="text-left">NaN</td>
<td class="text-right">NaN</td>
<td class="text-left">NaN</td>
<td class="text-right">NaN</td>
<td class="text-left">NaN</td>
<td class="text-right">NaN</td>
<td class="text-left">NaN</td>
</tr>

<tr>
<td class="text-right">2</td>
<td class="text-left">2022-06-02<sub>tttr2xfcs</sub><sub>CH2</sub><sub>BIN1dot0</sub><sub>HsPEX5EGFP</sub> 1&#x2026;</td>
<td class="text-left">Not known</td>
<td class="text-left">tttr2xfcs</td>
<td class="text-right">0</td>
<td class="text-left">Mon Aug 1 13:38:08 2022</td>
<td class="text-left">Equation 1B</td>
<td class="text-right">1</td>
<td class="text-left">Triplet Eq 2B</td>
<td class="text-right">1</td>
<td class="text-right">3D</td>
<td class="text-left">&#x2026;</td>
<td class="text-left">Hs-PEX5-eGFP</td>
<td class="text-left">No correction</td>
<td class="text-right">NaN</td>
<td class="text-left">NaN</td>
<td class="text-right">NaN</td>
<td class="text-left">NaN</td>
<td class="text-right">NaN</td>
<td class="text-left">NaN</td>
<td class="text-right">NaN</td>
<td class="text-left">NaN</td>
</tr>

<tr>
<td class="text-right">3</td>
<td class="text-left">2022-06-02<sub>tttr2xfcs</sub><sub>CH2</sub><sub>BIN1dot0</sub><sub>HsPEX5EGFP</sub> 1&#x2026;</td>
<td class="text-left">Not known</td>
<td class="text-left">tttr2xfcs</td>
<td class="text-right">0</td>
<td class="text-left">Mon Aug 1 13:38:08 2022</td>
<td class="text-left">Equation 1B</td>
<td class="text-right">1</td>
<td class="text-left">Triplet Eq 2B</td>
<td class="text-right">1</td>
<td class="text-right">3D</td>
<td class="text-left">&#x2026;</td>
<td class="text-left">Hs-PEX5-eGFP</td>
<td class="text-left">No correction</td>
<td class="text-right">NaN</td>
<td class="text-left">NaN</td>
<td class="text-right">NaN</td>
<td class="text-left">NaN</td>
<td class="text-right">NaN</td>
<td class="text-left">NaN</td>
<td class="text-right">NaN</td>
<td class="text-left">NaN</td>
</tr>

<tr>
<td class="text-right">4</td>
<td class="text-left">2022-06-02<sub>tttr2xfcs</sub><sub>CH2</sub><sub>BIN1dot0</sub><sub>HsPEX5EGFP</sub> 1&#x2026;</td>
<td class="text-left">Not known</td>
<td class="text-left">tttr2xfcs</td>
<td class="text-right">0</td>
<td class="text-left">Mon Aug 1 13:38:08 2022</td>
<td class="text-left">Equation 1B</td>
<td class="text-right">1</td>
<td class="text-left">Triplet Eq 2B</td>
<td class="text-right">1</td>
<td class="text-right">3D</td>
<td class="text-left">&#x2026;</td>
<td class="text-left">Hs-PEX5-eGFP</td>
<td class="text-left">No correction</td>
<td class="text-right">NaN</td>
<td class="text-left">NaN</td>
<td class="text-right">NaN</td>
<td class="text-left">NaN</td>
<td class="text-right">NaN</td>
<td class="text-left">NaN</td>
<td class="text-right">NaN</td>
<td class="text-left">NaN</td>
</tr>

<tr>
<td class="text-right">&#x2026;</td>
<td class="text-left">&#x2026;</td>
<td class="text-left">&#x2026;</td>
<td class="text-left">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-left">&#x2026;</td>
<td class="text-left">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-left">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-left">&#x2026;</td>
<td class="text-left">&#x2026;</td>
<td class="text-left">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-left">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-left">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-left">&#x2026;</td>
<td class="text-right">&#x2026;</td>
<td class="text-left">&#x2026;</td>
</tr>

<tr>
<td class="text-right">245</td>
<td class="text-left">2022-06-03<sub>tttr2xfcs</sub><sub>CH2</sub><sub>BIN1dot0</sub><sub>HsPEX5EGFP</sub> 1&#x2026;</td>
<td class="text-left">Not known</td>
<td class="text-left">tttr2xfcs</td>
<td class="text-right">0</td>
<td class="text-left">Mon Aug 1 13:51:37 2022</td>
<td class="text-left">Equation 1B</td>
<td class="text-right">2</td>
<td class="text-left">Triplet Eq 2B</td>
<td class="text-right">1</td>
<td class="text-right">3D</td>
<td class="text-left">&#x2026;</td>
<td class="text-left">Hs-PEX5-eGFP</td>
<td class="text-left">ff67b</td>
<td class="text-right">0.294062</td>
<td class="text-left">None</td>
<td class="text-right">0.221001</td>
<td class="text-left">None</td>
<td class="text-right">1.0</td>
<td class="text-left">None</td>
<td class="text-right">6.0</td>
<td class="text-left">None</td>
</tr>

<tr>
<td class="text-right">246</td>
<td class="text-left">2022-06-03<sub>tttr2xfcs</sub><sub>CH2</sub><sub>BIN1dot0</sub><sub>HsPEX5EGFP</sub> 1&#x2026;</td>
<td class="text-left">Not known</td>
<td class="text-left">tttr2xfcs</td>
<td class="text-right">0</td>
<td class="text-left">Mon Aug 1 13:51:37 2022</td>
<td class="text-left">Equation 1B</td>
<td class="text-right">2</td>
<td class="text-left">Triplet Eq 2B</td>
<td class="text-right">1</td>
<td class="text-right">3D</td>
<td class="text-left">&#x2026;</td>
<td class="text-left">Hs-PEX5-eGFP</td>
<td class="text-left">ff67b</td>
<td class="text-right">0.334689</td>
<td class="text-left">None</td>
<td class="text-right">0.203118</td>
<td class="text-left">None</td>
<td class="text-right">1.0</td>
<td class="text-left">None</td>
<td class="text-right">6.0</td>
<td class="text-left">None</td>
</tr>

<tr>
<td class="text-right">247</td>
<td class="text-left">2022-06-03<sub>tttr2xfcs</sub><sub>CH2</sub><sub>BIN1dot0</sub><sub>HsPEX5EGFP</sub> 1&#x2026;</td>
<td class="text-left">Not known</td>
<td class="text-left">tttr2xfcs</td>
<td class="text-right">0</td>
<td class="text-left">Mon Aug 1 13:51:37 2022</td>
<td class="text-left">Equation 1B</td>
<td class="text-right">2</td>
<td class="text-left">Triplet Eq 2B</td>
<td class="text-right">1</td>
<td class="text-right">3D</td>
<td class="text-left">&#x2026;</td>
<td class="text-left">Hs-PEX5-eGFP</td>
<td class="text-left">ff67b</td>
<td class="text-right">0.285890</td>
<td class="text-left">None</td>
<td class="text-right">0.198634</td>
<td class="text-left">None</td>
<td class="text-right">1.0</td>
<td class="text-left">None</td>
<td class="text-right">6.0</td>
<td class="text-left">None</td>
</tr>

<tr>
<td class="text-right">248</td>
<td class="text-left">2022-06-03<sub>tttr2xfcs</sub><sub>CH2</sub><sub>BIN1dot0</sub><sub>HsPEX5EGFP</sub> 1&#x2026;</td>
<td class="text-left">Not known</td>
<td class="text-left">tttr2xfcs</td>
<td class="text-right">0</td>
<td class="text-left">Mon Aug 1 13:51:37 2022</td>
<td class="text-left">Equation 1B</td>
<td class="text-right">2</td>
<td class="text-left">Triplet Eq 2B</td>
<td class="text-right">1</td>
<td class="text-right">3D</td>
<td class="text-left">&#x2026;</td>
<td class="text-left">Hs-PEX5-eGFP</td>
<td class="text-left">ff67b</td>
<td class="text-right">0.334689</td>
<td class="text-left">None</td>
<td class="text-right">0.203118</td>
<td class="text-left">None</td>
<td class="text-right">1.0</td>
<td class="text-left">None</td>
<td class="text-right">6.0</td>
<td class="text-left">None</td>
</tr>

<tr>
<td class="text-right">249</td>
<td class="text-left">2022-06-03<sub>tttr2xfcs</sub><sub>CH2</sub><sub>BIN1dot0</sub><sub>HsPEX5EGFP</sub> 1&#x2026;</td>
<td class="text-left">Not known</td>
<td class="text-left">tttr2xfcs</td>
<td class="text-right">0</td>
<td class="text-left">Mon Aug 1 13:51:37 2022</td>
<td class="text-left">Equation 1B</td>
<td class="text-right">2</td>
<td class="text-left">Triplet Eq 2B</td>
<td class="text-right">1</td>
<td class="text-right">3D</td>
<td class="text-left">&#x2026;</td>
<td class="text-left">Hs-PEX5-eGFP</td>
<td class="text-left">ff67b</td>
<td class="text-right">0.334689</td>
<td class="text-left">None</td>
<td class="text-right">0.203118</td>
<td class="text-left">None</td>
<td class="text-right">1.0</td>
<td class="text-left">None</td>
<td class="text-right">6.0</td>
<td class="text-left">None</td>
</tr>
</tbody>
</table>

<p>
10000 rows × 43 columns
</p>
</li>
<li>first, let's again take a look only at <code>avg_param</code>. There, for each model all
curves of <code>hs-pex5-egfp</code> and <code>tb-pex5-egfp</code> were fitted, and then the correlations
<b>were averaged</b>. This gives us a good overview with direct comparison of
model fit outcome to the fit outcomes without correction. BUT this is not
enough to determine that the model is good enough, because in practice, we
rarely take 250 times the same measurement and average. So this more
resembles the <b>optimal</b> fit outcomes and in the final paper, I analysed the
success via <b>fit distributions</b> (so plotting all 250 extracted transit
times and comparing the distributions, see later)
<details>
<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #859900; font-weight: bold;">def</span> <span style="color: #268bd2;">sort_fit</span>(<span style="color: #4f5c7e;">param_ls</span>):
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">nfcs</span> = <span style="color: #657b83; font-weight: bold;">list</span>(<span style="color: #4f5c7e;">param_ls</span>)[-1]
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">triplet</span> = <span style="color: #657b83; font-weight: bold;">list</span>(<span style="color: #4f5c7e;">param_ls</span>)[-2]
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">array</span> = <span style="color: #707e4f;">np</span>.<span style="color: #78683f;">array</span>(<span style="color: #657b83; font-weight: bold;">list</span>(<span style="color: #4f5c7e;">param_ls</span>)[:-2]).<span style="color: #37785e;">reshape</span>((2, 2))
<span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;"># sort by transit times</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">array</span> = <span style="color: #78683f;">array</span>[:, <span style="color: #78683f;">array</span>[0, :].<span style="color: #78683f;">argsort</span>()]
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">A_fast</span> = <span style="color: #657b83; font-weight: bold;">float</span>(<span style="color: #78683f;">array</span>[1, 0])
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">A_slow</span> = <span style="color: #657b83; font-weight: bold;">float</span>(<span style="color: #78683f;">array</span>[1, 1])
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">N_fast</span> = <span style="color: #784437;">A_fast</span> * (<span style="color: #784437;">triplet</span> * <span style="color: #657b83; font-weight: bold;">float</span>(<span style="color: #374478;">nfcs</span>))
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">N_slow</span> = <span style="color: #784437;">A_slow</span> * (<span style="color: #784437;">triplet</span> * <span style="color: #657b83; font-weight: bold;">float</span>(<span style="color: #374478;">nfcs</span>))
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">t_fast</span> = <span style="color: #657b83; font-weight: bold;">float</span>(<span style="color: #78683f;">array</span>[0, 0])
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">t_slow</span> = <span style="color: #657b83; font-weight: bold;">float</span>(<span style="color: #78683f;">array</span>[0, 1])
<span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">if</span> <span style="color: #707e4f;">np</span>.<span style="color: #7a4f7e;">isnan</span>(<span style="color: #374478;">t_slow</span>):
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;"># if tt_low_high[0] &lt;= t_fast &lt;= tt_low_high[1]:</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;">#     out = f'\\cellcolor[HTML]{{009e73}}${t_fast:.2f}$'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;"># else:</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;">#     out = f'\\cellcolor[HTML]{{d55e00}}${t_fast:.2f}$'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">out</span> = <span style="color: #43783f;">f</span><span style="color: #2aa198;">'$\\tau_D={t_fast:.2f}\\hspace{{3em}}N={nfcs:.1f}$'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">elif</span> <span style="color: #43783f;">f</span><span style="color: #2aa198;">'</span><span style="color: #268bd2;">{A_fast:.0%}</span><span style="color: #2aa198;">'</span> == <span style="color: #2aa198;">'100%'</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;"># if tt_low_high[0] &lt;= t_fast &lt;= tt_low_high[1]:</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;">#     out = f'\\cellcolor[HTML]{{009e73}}${t_fast:.2f}(100\\%)$'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;"># else:</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;">#     out = f'\\cellcolor[HTML]{{d55e00}}${t_fast:.2f}(100\\%)$'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">out</span> = <span style="color: #43783f;">f</span><span style="color: #2aa198;">'$\\tau_D^{{fast}}={t_fast:.2f}\\hspace{{1em}}N^{{fast}}={N_fast:.1f}$'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">elif</span> <span style="color: #43783f;">f</span><span style="color: #2aa198;">'</span><span style="color: #268bd2;">{A_slow:.0%}</span><span style="color: #2aa198;">'</span> == <span style="color: #2aa198;">'100%'</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;"># if tt_low_high[0] &lt;= t_slow &lt;= tt_low_high[1]:</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;">#     out = f'\\cellcolor[HTML]{{009e73}}${t_slow:.2f}(100\\%)$'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;"># else:</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;">#     out = f'\\cellcolor[HTML]{{d55e00}}${t_slow:.2f}(100\\%)$'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">out</span> = <span style="color: #43783f;">f</span><span style="color: #2aa198;">'$\\tau_D^{{slow}}={t_slow:.2f}\\hspace{{1em}}N^{{slow}}={N_slow:.1f}$'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">else</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;"># if (tt_low_high[0] &lt;= t_fast &lt;= tt_low_high[1]) or (</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;">#     tt_low_high[0] &lt;= t_slow &lt;= tt_low_high[1]):</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;">#     out = f'\\cellcolor[HTML]{{009e73}}\\colorbox[HTML]{{009e73}}{{\\makecell{{${t_fast:.2f}^f({A_fast:.0%})$\\\\'\</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;">#           f'$</span><span style="color: #268bd2;">{t_slow:.2f}</span><span style="color: #93a1a1;">^s(</span><span style="color: #268bd2;">{A_slow:.0%}</span><span style="color: #93a1a1;">)$}}}}'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;"># else:</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;">#     out = f'\\cellcolor[HTML]{{d55e00}}\\colorbox[HTML]{{d55e00}}{{\\makecell{{${t_fast:.2f}^f({A_fast:.0%})$\\\\'\</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;">#           f'$</span><span style="color: #268bd2;">{t_slow:.2f}</span><span style="color: #93a1a1;">^s(</span><span style="color: #268bd2;">{A_slow:.0%}</span><span style="color: #93a1a1;">)$}}}}'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">out</span> = <span style="color: #43783f;">f</span><span style="color: #2aa198;">'\\makecell{{$\\tau_D^{{fast}}={t_fast:.2f}\\hspace{{1em}}N^{{fast}}={N_fast:.1f}$\\\\'</span>\
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #43783f;">f</span><span style="color: #2aa198;">'$\\tau_D^{{slow}}={t_slow:.2f}\\hspace{{1em}}N^{{slow}}={N_slow:.1f}$}}'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">out</span> = <span style="color: #7e544f;">out</span>.<span style="color: #784437;">replace</span>(<span style="color: #2aa198;">'%'</span>, <span style="color: #2aa198;">'\\%'</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">return</span> <span style="color: #7e544f;">out</span>

<span style="color: #3f7178;">avg_param</span>[<span style="color: #2aa198;">'fit results'</span>] = <span style="color: #3f7178;">avg_param</span>[[<span style="color: #2aa198;">'txy1'</span>, <span style="color: #2aa198;">'txy2'</span>, <span style="color: #2aa198;">'A1'</span>, <span style="color: #2aa198;">'A2'</span>, <span style="color: #2aa198;">'T1'</span>, <span style="color: #2aa198;">'N (FCS)'</span>]].<span style="color: #4f5c7e;">apply</span>(<span style="color: #859900; font-weight: bold;">lambda</span> <span style="color: #3f7178;">x</span>: <span style="color: #4f7e67;">sort_fit</span>(<span style="color: #3f7178;">x</span>), <span style="color: #784437;">axis</span>=1)
<span style="color: #268bd2;">avg_param</span> = <span style="color: #3f7178;">avg_param</span>[[<span style="color: #2aa198;">'name_of_plot'</span>, <span style="color: #2aa198;">'Diff_species'</span>, <span style="color: #2aa198;">'artifact'</span>, <span style="color: #2aa198;">'fit results'</span>]]
<span style="color: #268bd2;">avg_param</span> = <span style="color: #3f7178;">avg_param</span>.<span style="color: #7a4f7e;">pivot_table</span>(<span style="color: #783778;">values</span>=<span style="color: #2aa198;">'fit results'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #784437;">columns</span>=<span style="color: #2aa198;">'artifact'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #43783f;">index</span>=[<span style="color: #2aa198;">'name_of_plot'</span>, <span style="color: #2aa198;">'Diff_species'</span>],
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #374478;">aggfunc</span>=<span style="color: #859900; font-weight: bold;">lambda</span> <span style="color: #3f7178;">x</span>: <span style="color: #2aa198;">'-'</span>.<span style="color: #784437;">join</span>(<span style="color: #3f7178;">x</span>))
<span style="color: #3f7178;">avg_param</span>.<span style="color: #783778;">loc</span>[(<span style="color: #2aa198;">'clean'</span>, 1), <span style="color: #2aa198;">'Tb-PEX5-eGFP'</span>] = <span style="color: #3f7178;">avg_param</span>.<span style="color: #783778;">loc</span>[(<span style="color: #2aa198;">'dirty'</span>, 1), <span style="color: #2aa198;">'Tb-PEX5-eGFP'</span>]
<span style="color: #3f7178;">avg_param</span>.<span style="color: #783778;">loc</span>[(<span style="color: #2aa198;">'clean'</span>, 2), <span style="color: #2aa198;">'Tb-PEX5-eGFP'</span>] = <span style="color: #3f7178;">avg_param</span>.<span style="color: #783778;">loc</span>[(<span style="color: #2aa198;">'dirty'</span>, 2), <span style="color: #2aa198;">'Tb-PEX5-eGFP'</span>]

<span style="color: #268bd2;">avg_param</span> = <span style="color: #3f7178;">avg_param</span>.<span style="color: #707e4f;">rename</span>(<span style="color: #43783f;">index</span>={<span style="color: #2aa198;">'clean'</span> : <span style="color: #2aa198;">'no correction'</span>})
<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">to get all models</span>
<span style="color: #268bd2;">first</span> = [<span style="color: #2aa198;">'no correction'</span>,] + <span style="color: #7e544f;">model_name_ls</span>.<span style="color: #374478;">copy</span>()
<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">just two examples</span>
<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">first = ['no correction', '0cd20', '34a6d']</span>
<span style="color: #268bd2;">second</span> = [1, 2]
<span style="color: #268bd2;">index_order</span> = <span style="color: #783778;">pd</span>.<span style="color: #784437;">MultiIndex</span>.<span style="color: #43783f;">from_product</span>([<span style="color: #78683f;">first</span>, <span style="color: #4f5c7e;">second</span>],
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #783f5a;">names</span>=[<span style="color: #5e7837;">r</span><span style="color: #2aa198;">'\makecell{type of\\processing}'</span>, <span style="color: #2aa198;">'fit'</span>])
<span style="color: #268bd2;">avg_param</span> = <span style="color: #3f7178;">avg_param</span>.<span style="color: #783f5a;">reindex</span>(<span style="color: #43783f;">index</span>=<span style="color: #4f5c7e;">index_order</span>)

<span style="color: #859900; font-weight: bold;">with</span> <span style="color: #783778;">pd</span>.<span style="color: #5e7837;">option_context</span>(<span style="color: #2aa198;">"max_colwidth"</span>, 1000):
<span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">print</span>(<span style="color: #3f7178;">avg_param</span>.<span style="color: #783778;">to_latex</span>(<span style="color: #5e7837;">escape</span>=<span style="color: #859900; font-weight: bold;">False</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #78683f;">column_format</span>=<span style="color: #2aa198;">'ccll'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #37785e;">caption</span>=(<span style="color: #5e7837;">r</span><span style="color: #2aa198;">'Experimental results PEX5 data. $\tau_D$ in $ms$. For 1 species fit, $N = N(FCS)$. For 2 species fit, $N^{sp} = A^{sp} * N(FCS)$ and $\tau_D$ is sorted in fast and slow. If $A^{sp}=100\%$, only display the corresponding $\tau_D$ and $N$ values'</span>,<span style="color: #2aa198;">'Experimental results PEX5 data.'</span>)))
</pre>
</div>

<pre class="example">
\begin{table}
\centering
\caption[Experimental results PEX5 data.]{Experimental results PEX5 data. $\tau_D$ in $ms$. For 1 species fit, $N = N(FCS)$. For 2 species fit, $N^{sp} = A^{sp} * N(FCS)$ and $\tau_D$ is sorted in fast and slow. If $A^{sp}=100\%$, only display the corresponding $\tau_D$ and $N$ values}
\begin{tabular}{ccll}
\toprule
      &amp; artifact &amp;                                                                                              Hs-PEX5-eGFP &amp;                                                                                             Tb-PEX5-eGFP \\
\makecell{type of\\processing} &amp; fit &amp;                                                                                                           &amp;                                                                                                          \\
\midrule
no correction &amp; 1 &amp;                                                                            $\tau_D=0.36\hspace{3em}N=1.1$ &amp;                                                                           $\tau_D=0.52\hspace{3em}N=0.8$ \\
      &amp; 2 &amp;     \makecell{$\tau_D^{fast}=0.36\hspace{1em}N^{fast}=0.1$\\$\tau_D^{slow}=0.36\hspace{1em}N^{slow}=0.1$} &amp;   \makecell{$\tau_D^{fast}=0.45\hspace{1em}N^{fast}=0.2$\\$\tau_D^{slow}=13.44\hspace{1em}N^{slow}=0.0$} \\
ff67b &amp; 1 &amp;                                                                            $\tau_D=0.23\hspace{3em}N=2.1$ &amp;                                                                           $\tau_D=0.28\hspace{3em}N=1.5$ \\
      &amp; 2 &amp;    \makecell{$\tau_D^{fast}=0.21\hspace{1em}N^{fast}=0.5$\\$\tau_D^{slow}=86.83\hspace{1em}N^{slow}=0.0$} &amp;   \makecell{$\tau_D^{fast}=0.24\hspace{1em}N^{fast}=0.4$\\$\tau_D^{slow}=31.23\hspace{1em}N^{slow}=0.0$} \\
34766 &amp; 1 &amp;                                                                            $\tau_D=0.39\hspace{3em}N=3.6$ &amp;                                                                           $\tau_D=1.12\hspace{3em}N=4.1$ \\
      &amp; 2 &amp;     \makecell{$\tau_D^{fast}=0.05\hspace{1em}N^{fast}=0.0$\\$\tau_D^{slow}=6.32\hspace{1em}N^{slow}=0.0$} &amp;    \makecell{$\tau_D^{fast}=0.04\hspace{1em}N^{fast}=0.0$\\$\tau_D^{slow}=7.78\hspace{1em}N^{slow}=0.0$} \\
714af &amp; 1 &amp;                                                                            $\tau_D=0.25\hspace{3em}N=2.8$ &amp;                                                                           $\tau_D=0.37\hspace{3em}N=2.2$ \\
      &amp; 2 &amp;    \makecell{$\tau_D^{fast}=0.15\hspace{1em}N^{fast}=0.6$\\$\tau_D^{slow}=11.84\hspace{1em}N^{slow}=0.1$} &amp;    \makecell{$\tau_D^{fast}=0.13\hspace{1em}N^{fast}=0.4$\\$\tau_D^{slow}=3.61\hspace{1em}N^{slow}=0.1$} \\
34a6d &amp; 1 &amp;                                                                            $\tau_D=0.39\hspace{3em}N=3.7$ &amp;                                                                           $\tau_D=1.62\hspace{3em}N=4.2$ \\
      &amp; 2 &amp;                                                            $\tau_D^{fast}=591.08\hspace{1em}N^{fast}=1.9$ &amp;    \makecell{$\tau_D^{fast}=0.00\hspace{1em}N^{fast}=0.7$\\$\tau_D^{slow}=1.29\hspace{1em}N^{slow}=0.5$} \\
484af &amp; 1 &amp;                                                                            $\tau_D=0.26\hspace{3em}N=1.9$ &amp;                                                                           $\tau_D=0.24\hspace{3em}N=2.1$ \\
      &amp; 2 &amp;    \makecell{$\tau_D^{fast}=0.23\hspace{1em}N^{fast}=0.4$\\$\tau_D^{slow}=73.45\hspace{1em}N^{slow}=0.0$} &amp;   \makecell{$\tau_D^{fast}=0.20\hspace{1em}N^{fast}=0.5$\\$\tau_D^{slow}=63.57\hspace{1em}N^{slow}=0.0$} \\
0cd20 &amp; 1 &amp;                                                                            $\tau_D=0.32\hspace{3em}N=1.1$ &amp;                                                                           $\tau_D=0.33\hspace{3em}N=1.0$ \\
      &amp; 2 &amp;                                                              $\tau_D^{fast}=0.32\hspace{1em}N^{fast}=0.2$ &amp;                                                             $\tau_D^{fast}=0.33\hspace{1em}N^{fast}=0.2$ \\
fe81d &amp; 1 &amp;                                                                            $\tau_D=0.27\hspace{3em}N=1.6$ &amp;                                                                           $\tau_D=0.24\hspace{3em}N=1.7$ \\
      &amp; 2 &amp;   \makecell{$\tau_D^{fast}=0.25\hspace{1em}N^{fast}=0.3$\\$\tau_D^{slow}=177.40\hspace{1em}N^{slow}=0.0$} &amp;  \makecell{$\tau_D^{fast}=0.22\hspace{1em}N^{fast}=0.4$\\$\tau_D^{slow}=133.87\hspace{1em}N^{slow}=0.0$} \\
19e3e &amp; 1 &amp;                                                                            $\tau_D=0.25\hspace{3em}N=2.0$ &amp;                                                                           $\tau_D=0.24\hspace{3em}N=2.2$ \\
      &amp; 2 &amp;   \makecell{$\tau_D^{fast}=0.23\hspace{1em}N^{fast}=0.4$\\$\tau_D^{slow}=146.64\hspace{1em}N^{slow}=0.0$} &amp;   \makecell{$\tau_D^{fast}=0.20\hspace{1em}N^{fast}=0.5$\\$\tau_D^{slow}=78.29\hspace{1em}N^{slow}=0.0$} \\
c1204 &amp; 1 &amp;                                                                            $\tau_D=2.69\hspace{3em}N=5.5$ &amp;                                                                           $\tau_D=7.60\hspace{3em}N=6.1$ \\
      &amp; 2 &amp;  \makecell{$\tau_D^{fast}=2.35\hspace{1em}N^{fast}=3.0$\\$\tau_D^{slow}=2000.00\hspace{1em}N^{slow}=0.8$} &amp;    \makecell{$\tau_D^{fast}=0.00\hspace{1em}N^{fast}=1.1$\\$\tau_D^{slow}=6.86\hspace{1em}N^{slow}=0.6$} \\
\bottomrule
\end{tabular}
\end{table}
</pre>
</details>
</li>
<li>now I put latex in a simple template of the <code>Overleaf</code> online latex
editor like this

<pre class="example">
\documentclass{article}
\usepackage{booktabs} % for \toprule and \midrule in table
\usepackage{makecell} % for linebreaks in table cells

\begin{document}
%% here the code abvoe
\end{document}

</pre>
</li>

<li>the final rendering looks like this:
<embed src="./other/analysis3_pex5_cas_avg_table.pdf" width="100%" height="500px" />
</li>
<li>now, we work with <code>all_param</code>. Here, all single correlation curves are
loaded without averaging.
<details>
<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #859900; font-weight: bold;">def</span> <span style="color: #268bd2;">sort_fit</span>(<span style="color: #4f5c7e;">param_ls</span>):
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">nfcs</span> = <span style="color: #657b83; font-weight: bold;">list</span>(<span style="color: #4f5c7e;">param_ls</span>)[-1]
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">triplet</span> = <span style="color: #657b83; font-weight: bold;">list</span>(<span style="color: #4f5c7e;">param_ls</span>)[-2]
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">array</span> = <span style="color: #707e4f;">np</span>.<span style="color: #78683f;">array</span>(<span style="color: #657b83; font-weight: bold;">list</span>(<span style="color: #4f5c7e;">param_ls</span>)[:-2]).<span style="color: #37785e;">reshape</span>((2, 2))
<span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;"># sort by transit times</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">array</span> = <span style="color: #78683f;">array</span>[:, <span style="color: #78683f;">array</span>[0, :].<span style="color: #78683f;">argsort</span>()]
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">A_fast</span> = <span style="color: #657b83; font-weight: bold;">float</span>(<span style="color: #78683f;">array</span>[1, 0])
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">A_slow</span> = <span style="color: #657b83; font-weight: bold;">float</span>(<span style="color: #78683f;">array</span>[1, 1])
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">N_fast</span> = <span style="color: #784437;">A_fast</span> * (<span style="color: #784437;">triplet</span> * <span style="color: #657b83; font-weight: bold;">float</span>(<span style="color: #374478;">nfcs</span>))
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">N_slow</span> = <span style="color: #784437;">A_slow</span> * (<span style="color: #784437;">triplet</span> * <span style="color: #657b83; font-weight: bold;">float</span>(<span style="color: #374478;">nfcs</span>))
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">t_fast</span> = <span style="color: #657b83; font-weight: bold;">float</span>(<span style="color: #78683f;">array</span>[0, 0])
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">t_slow</span> = <span style="color: #657b83; font-weight: bold;">float</span>(<span style="color: #78683f;">array</span>[0, 1])
<span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;"># for pex5: want to plot t_slow</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">if</span> <span style="color: #707e4f;">np</span>.<span style="color: #7a4f7e;">isnan</span>(<span style="color: #374478;">t_slow</span>):
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;"># 1-component fit</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">out</span> = <span style="color: #707e4f;">t_fast</span>, <span style="color: #4f5c7e;">N_fast</span>, <span style="color: #783778;">pd</span>.<span style="color: #4f7e67;">NA</span>, <span style="color: #783778;">pd</span>.<span style="color: #4f7e67;">NA</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;"># out = pd.NA, pd.NA, t_fast, N_fast</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;"># 2-component fits</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">elif</span> <span style="color: #43783f;">f</span><span style="color: #2aa198;">'</span><span style="color: #268bd2;">{A_fast:.0%}</span><span style="color: #2aa198;">'</span> == <span style="color: #2aa198;">'100%'</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">out</span> = <span style="color: #707e4f;">t_fast</span>, <span style="color: #4f5c7e;">N_fast</span>, <span style="color: #783778;">pd</span>.<span style="color: #4f7e67;">NA</span>, <span style="color: #783778;">pd</span>.<span style="color: #4f7e67;">NA</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;"># out = pd.NA, pd.NA, t_fast, N_fast</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">elif</span> <span style="color: #43783f;">f</span><span style="color: #2aa198;">'</span><span style="color: #268bd2;">{A_slow:.0%}</span><span style="color: #2aa198;">'</span> == <span style="color: #2aa198;">'100%'</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;"># out = t_slow, N_slow, pd.NA, pd.NA</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">out</span> = <span style="color: #783778;">pd</span>.<span style="color: #4f7e67;">NA</span>, <span style="color: #783778;">pd</span>.<span style="color: #4f7e67;">NA</span>, <span style="color: #374478;">t_slow</span>, <span style="color: #43783f;">N_slow</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">else</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">out</span> = <span style="color: #707e4f;">t_fast</span>, <span style="color: #4f5c7e;">N_fast</span>, <span style="color: #374478;">t_slow</span>, <span style="color: #43783f;">N_slow</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">return</span> <span style="color: #7e544f;">out</span>

<span style="color: #859900; font-weight: bold;">def</span> <span style="color: #268bd2;">sort_fit_legend</span>(<span style="color: #4f5c7e;">param_ls</span>):
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">species</span> = <span style="color: #4f5c7e;">param_ls</span>[0]
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">component</span> = <span style="color: #4f5c7e;">param_ls</span>[1]

<span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">if</span> <span style="color: #268bd2;">species</span> == <span style="color: #268bd2;">1</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">legend</span> = <span style="color: #2aa198;">'$\\tau_D$ from\n1 species fit'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">elif</span> (<span style="color: #707e4f;">species</span> == 2) <span style="color: #859900; font-weight: bold;">and</span> (<span style="color: #4f5c7e;">component</span> == <span style="color: #2aa198;">'fast'</span>):
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">legend</span> = <span style="color: #2aa198;">'$\\tau_D$ from\nfast sp. of 2 sp. fit'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">elif</span> (<span style="color: #707e4f;">species</span> == 2) <span style="color: #859900; font-weight: bold;">and</span> (<span style="color: #4f5c7e;">component</span> == <span style="color: #2aa198;">'slow'</span>):
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">legend</span> = <span style="color: #2aa198;">'$\\tau_D$ from\nslow sp. of 2 sp. fit'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">return</span> <span style="color: #707e4f;">legend</span>

<span style="color: #37785e;">all_param</span>[[<span style="color: #2aa198;">'t_fast'</span>, <span style="color: #2aa198;">'N_fast'</span>, <span style="color: #2aa198;">'t_slow'</span>, <span style="color: #2aa198;">'N_slow'</span>]
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> ]= <span style="color: #37785e;">all_param</span>[[<span style="color: #2aa198;">'txy1'</span>, <span style="color: #2aa198;">'txy2'</span>, <span style="color: #2aa198;">'A1'</span>, <span style="color: #2aa198;">'A2'</span>, <span style="color: #2aa198;">'T1'</span>, <span style="color: #2aa198;">'N (FCS)'</span>]
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  ].<span style="color: #4f5c7e;">apply</span>(<span style="color: #859900; font-weight: bold;">lambda</span> <span style="color: #3f7178;">x</span>: <span style="color: #4f7e67;">sort_fit</span>(<span style="color: #3f7178;">x</span>), <span style="color: #784437;">axis</span>=1, <span style="color: #7e544f;">result_type</span>=<span style="color: #2aa198;">'expand'</span>)

<span style="color: #268bd2;">all_param</span> = <span style="color: #783778;">pd</span>.<span style="color: #4f7e67;">wide_to_long</span>(<span style="color: #37785e;">all_param</span>, <span style="color: #784437;">stubnames</span>=[<span style="color: #2aa198;">'t'</span>, <span style="color: #2aa198;">'N'</span>],
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #707e4f;">i</span>=[<span style="color: #2aa198;">'name_of_plot'</span>, <span style="color: #2aa198;">'Diff_species'</span>, <span style="color: #2aa198;">'processing'</span>],
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #783f5a;">j</span>=<span style="color: #2aa198;">'fit component'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #707e4f;">sep</span>=<span style="color: #2aa198;">'_'</span>, <span style="color: #3f7178;">suffix</span>=<span style="color: #5e7837;">r</span><span style="color: #2aa198;">'\w+'</span>)

<span style="color: #268bd2;">all_param</span> = <span style="color: #37785e;">all_param</span>.<span style="color: #78683f;">reset_index</span>()
<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">if Diff_species is 1, there is only 1 component</span>
<span style="color: #268bd2;">all_param</span> = <span style="color: #37785e;">all_param</span>[~((<span style="color: #37785e;">all_param</span>[<span style="color: #2aa198;">'fit component'</span>] == <span style="color: #2aa198;">'slow'</span>) &amp; (<span style="color: #37785e;">all_param</span>[<span style="color: #2aa198;">'Diff_species'</span>] == 1))]
<span style="color: #268bd2;">all_param</span> = <span style="color: #37785e;">all_param</span>.<span style="color: #78683f;">reset_index</span>()

<span style="color: #37785e;">all_param</span>[<span style="color: #2aa198;">'legend'</span>] = <span style="color: #37785e;">all_param</span>[[<span style="color: #2aa198;">'Diff_species'</span>, <span style="color: #2aa198;">'fit component'</span>]].<span style="color: #4f5c7e;">apply</span>(
<span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">lambda</span> <span style="color: #3f7178;">x</span>: <span style="color: #374478;">sort_fit_legend</span>(<span style="color: #3f7178;">x</span>), <span style="color: #784437;">axis</span>=1)
<span style="color: #859900; font-weight: bold;">print</span>(<span style="color: #2aa198;">'before dropping NaNs'</span>)
<span style="color: #859900; font-weight: bold;">print</span>(<span style="color: #2aa198;">'1 species fit: {}'</span>.<span style="color: #78683f;">format</span>(<span style="color: #657b83; font-weight: bold;">len</span>(<span style="color: #37785e;">all_param</span>[<span style="color: #37785e;">all_param</span>[<span style="color: #2aa198;">"legend"</span>] == <span style="color: #2aa198;">"$\\tau_D$ from\n1 species fit"</span>])))
<span style="color: #859900; font-weight: bold;">print</span>(<span style="color: #2aa198;">'slow sp of 2 sp fit: {}'</span>.<span style="color: #78683f;">format</span>(<span style="color: #657b83; font-weight: bold;">len</span>(<span style="color: #37785e;">all_param</span>[<span style="color: #37785e;">all_param</span>[<span style="color: #2aa198;">"legend"</span>] == <span style="color: #2aa198;">"$\\tau_D$ from\nslow sp. of 2 sp. fit"</span>])))
<span style="color: #859900; font-weight: bold;">print</span>(<span style="color: #2aa198;">'fast sp of 2 sp fit: {}'</span>.<span style="color: #78683f;">format</span>(<span style="color: #657b83; font-weight: bold;">len</span>(<span style="color: #37785e;">all_param</span>[<span style="color: #37785e;">all_param</span>[<span style="color: #2aa198;">"legend"</span>] == <span style="color: #2aa198;">"$\\tau_D$ from\nfast sp. of 2 sp. fit"</span>])))

<span style="color: #268bd2;">all_param</span> = <span style="color: #37785e;">all_param</span>[~<span style="color: #783778;">pd</span>.<span style="color: #374478;">isna</span>(<span style="color: #37785e;">all_param</span>[<span style="color: #2aa198;">'t'</span>])]
<span style="color: #859900; font-weight: bold;">print</span>(<span style="color: #2aa198;">'after dropping NaNs'</span>)
<span style="color: #859900; font-weight: bold;">print</span>(<span style="color: #2aa198;">'1 species fit: {}'</span>.<span style="color: #78683f;">format</span>(<span style="color: #657b83; font-weight: bold;">len</span>(<span style="color: #37785e;">all_param</span>[<span style="color: #37785e;">all_param</span>[<span style="color: #2aa198;">"legend"</span>] == <span style="color: #2aa198;">"$\\tau_D$ from\n1 species fit"</span>])))
<span style="color: #859900; font-weight: bold;">print</span>(<span style="color: #2aa198;">'slow sp of 2 sp fit: {}'</span>.<span style="color: #78683f;">format</span>(<span style="color: #657b83; font-weight: bold;">len</span>(<span style="color: #37785e;">all_param</span>[<span style="color: #37785e;">all_param</span>[<span style="color: #2aa198;">"legend"</span>] == <span style="color: #2aa198;">"$\\tau_D$ from\nslow sp. of 2 sp. fit"</span>])))
<span style="color: #859900; font-weight: bold;">print</span>(<span style="color: #2aa198;">'fast sp of 2 sp fit: {}'</span>.<span style="color: #78683f;">format</span>(<span style="color: #657b83; font-weight: bold;">len</span>(<span style="color: #37785e;">all_param</span>[<span style="color: #37785e;">all_param</span>[<span style="color: #2aa198;">"legend"</span>] == <span style="color: #2aa198;">"$\\tau_D$ from\nfast sp. of 2 sp. fit"</span>])))

<span style="color: #268bd2;">all_param</span> = <span style="color: #37785e;">all_param</span>[[<span style="color: #2aa198;">'legend'</span>, <span style="color: #2aa198;">'t'</span>, <span style="color: #2aa198;">'N'</span>, <span style="color: #2aa198;">'artifact'</span>, <span style="color: #2aa198;">'processing'</span>]]
<span style="color: #37785e;">all_param</span>.<span style="color: #783778;">loc</span>[:, [<span style="color: #2aa198;">'t'</span>, <span style="color: #2aa198;">'N'</span>]] = <span style="color: #37785e;">all_param</span>.<span style="color: #783778;">loc</span>[:, [<span style="color: #2aa198;">'t'</span>, <span style="color: #2aa198;">'N'</span>]].<span style="color: #4f5c7e;">apply</span>(<span style="color: #783778;">pd</span>.<span style="color: #43783f;">to_numeric</span>)
<span style="color: #37785e;">all_param</span>
<span style="color: #268bd2;">N_param</span> = <span style="color: #37785e;">all_param</span>.<span style="color: #7a4f7e;">pivot_table</span>(<span style="color: #783778;">values</span>=<span style="color: #2aa198;">'N'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #43783f;">index</span>=<span style="color: #37785e;">all_param</span>.<span style="color: #43783f;">index</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #784437;">columns</span>=[<span style="color: #2aa198;">'processing'</span>, <span style="color: #2aa198;">'artifact'</span>, <span style="color: #2aa198;">'legend'</span>],
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #784437;">sort</span>=<span style="color: #859900; font-weight: bold;">False</span>)
<span style="color: #268bd2;">t_param</span> = <span style="color: #37785e;">all_param</span>.<span style="color: #7a4f7e;">pivot_table</span>(<span style="color: #783778;">values</span>=<span style="color: #2aa198;">'t'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #43783f;">index</span>=<span style="color: #37785e;">all_param</span>.<span style="color: #43783f;">index</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #784437;">columns</span>=[<span style="color: #2aa198;">'processing'</span>, <span style="color: #2aa198;">'artifact'</span>, <span style="color: #2aa198;">'legend'</span>])
<span style="color: #859900; font-weight: bold;">print</span>(<span style="color: #2aa198;">'Statistics of fitted particle numbers'</span>)
<span style="color: #859900; font-weight: bold;">with</span> <span style="color: #783778;">pd</span>.<span style="color: #5e7837;">option_context</span>(<span style="color: #2aa198;">'display.float_format'</span>, <span style="color: #2aa198;">'{:.3f}'</span>.<span style="color: #78683f;">format</span>):
<span style="background-color: #eee8d5;"> </span>   <span style="color: #4f7e67;">display</span>(<span style="color: #783778;">pd</span>.<span style="color: #7e544f;">concat</span>([<span style="color: #783778;">pd</span>.<span style="color: #513f78;">Series</span>(<span style="color: #784437;">N_param</span>.<span style="color: #3f7178;">median</span>(<span style="color: #784437;">axis</span>=0), <span style="color: #374478;">name</span>=<span style="color: #2aa198;">'median'</span>), <span style="color: #784437;">N_param</span>.<span style="color: #783778;">describe</span>().<span style="color: #37785e;">T</span>], <span style="color: #784437;">axis</span>=1))
<span style="color: #859900; font-weight: bold;">print</span>(<span style="color: #2aa198;">'Statistics of fitted transit times'</span>)
<span style="color: #4f7e67;">display</span>(<span style="color: #783778;">pd</span>.<span style="color: #7e544f;">concat</span>([<span style="color: #783778;">pd</span>.<span style="color: #513f78;">Series</span>(<span style="color: #7a4f7e;">t_param</span>.<span style="color: #3f7178;">median</span>(<span style="color: #784437;">axis</span>=0), <span style="color: #374478;">name</span>=<span style="color: #2aa198;">'median'</span>), <span style="color: #7a4f7e;">t_param</span>.<span style="color: #783778;">describe</span>().<span style="color: #37785e;">T</span>], <span style="color: #784437;">axis</span>=1))
</pre>
</div>
</details>
<pre class="example">
before dropping NaNs
1 species fit: 5000
slow sp of 2 sp fit: 5000
fast sp of 2 sp fit: 5000
after dropping NaNs
1 species fit: 5000
slow sp of 2 sp fit: 4588
fast sp of 2 sp fit: 4940
Statistics of fitted particle numbers
</pre>

<table class="table table-striped table-bordered table-hover table-condensed">


<colgroup>
<col  class="left">

<col  class="left">

<col  class="left">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">
</colgroup>
<thead>
<tr>
<th scope="col" class="text-left">&#xa0;</th>
<th scope="col" class="text-left">&#xa0;</th>
<th scope="col" class="text-left">&#xa0;</th>
<th scope="col" class="text-right">median</th>
<th scope="col" class="text-right">count</th>
<th scope="col" class="text-right">mean</th>
<th scope="col" class="text-right">std</th>
<th scope="col" class="text-right">min</th>
<th scope="col" class="text-right">25%</th>
<th scope="col" class="text-right">50%</th>
<th scope="col" class="text-right">75%</th>
<th scope="col" class="text-right">max</th>
</tr>
</thead>
<tbody>
<tr>
<td class="text-left">processing</td>
<td class="text-left">artifact</td>
<td class="text-left">legend</td>
<td class="text-right">&#xa0;</td>
<td class="text-right">&#xa0;</td>
<td class="text-right">&#xa0;</td>
<td class="text-right">&#xa0;</td>
<td class="text-right">&#xa0;</td>
<td class="text-right">&#xa0;</td>
<td class="text-right">&#xa0;</td>
<td class="text-right">&#xa0;</td>
<td class="text-right">&#xa0;</td>
</tr>

<tr>
<td class="text-left">0cd20</td>
<td class="text-left">Hs-PEX5-eGFP</td>
<td class="text-left">\(\tau_D\) from\n1 species fit</td>
<td class="text-right">0.266</td>
<td class="text-right">250.000</td>
<td class="text-right">0.253</td>
<td class="text-right">0.068</td>
<td class="text-right">0.094</td>
<td class="text-right">0.193</td>
<td class="text-right">0.266</td>
<td class="text-right">0.303</td>
<td class="text-right">0.489</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nfast sp. of 2 sp. fit</td>
<td class="text-right">0.043</td>
<td class="text-right">249.000</td>
<td class="text-right">0.056</td>
<td class="text-right">0.047</td>
<td class="text-right">0.000</td>
<td class="text-right">0.043</td>
<td class="text-right">0.043</td>
<td class="text-right">0.043</td>
<td class="text-right">0.264</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nslow sp. of 2 sp. fit</td>
<td class="text-right">0.029</td>
<td class="text-right">226.000</td>
<td class="text-right">0.036</td>
<td class="text-right">0.024</td>
<td class="text-right">0.000</td>
<td class="text-right">0.029</td>
<td class="text-right">0.029</td>
<td class="text-right">0.029</td>
<td class="text-right">0.177</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">Tb-PEX5-eGFP</td>
<td class="text-left">\(\tau_D\) from\n1 species fit</td>
<td class="text-right">0.208</td>
<td class="text-right">250.000</td>
<td class="text-right">0.210</td>
<td class="text-right">0.033</td>
<td class="text-right">0.132</td>
<td class="text-right">0.186</td>
<td class="text-right">0.208</td>
<td class="text-right">0.229</td>
<td class="text-right">0.298</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nfast sp. of 2 sp. fit</td>
<td class="text-right">0.193</td>
<td class="text-right">244.000</td>
<td class="text-right">0.175</td>
<td class="text-right">0.074</td>
<td class="text-right">0.000</td>
<td class="text-right">0.176</td>
<td class="text-right">0.193</td>
<td class="text-right">0.212</td>
<td class="text-right">0.319</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nslow sp. of 2 sp. fit</td>
<td class="text-right">0.014</td>
<td class="text-right">79.000</td>
<td class="text-right">0.049</td>
<td class="text-right">0.068</td>
<td class="text-right">0.000</td>
<td class="text-right">0.003</td>
<td class="text-right">0.014</td>
<td class="text-right">0.060</td>
<td class="text-right">0.239</td>
</tr>

<tr>
<td class="text-left">19e3e</td>
<td class="text-left">Hs-PEX5-eGFP</td>
<td class="text-left">\(\tau_D\) from\n1 species fit</td>
<td class="text-right">0.422</td>
<td class="text-right">250.000</td>
<td class="text-right">0.534</td>
<td class="text-right">0.313</td>
<td class="text-right">0.000</td>
<td class="text-right">0.367</td>
<td class="text-right">0.422</td>
<td class="text-right">0.532</td>
<td class="text-right">1.748</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nfast sp. of 2 sp. fit</td>
<td class="text-right">0.047</td>
<td class="text-right">250.000</td>
<td class="text-right">0.063</td>
<td class="text-right">0.115</td>
<td class="text-right">0.000</td>
<td class="text-right">0.047</td>
<td class="text-right">0.047</td>
<td class="text-right">0.047</td>
<td class="text-right">0.888</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nslow sp. of 2 sp. fit</td>
<td class="text-right">0.031</td>
<td class="text-right">250.000</td>
<td class="text-right">0.033</td>
<td class="text-right">0.027</td>
<td class="text-right">0.000</td>
<td class="text-right">0.031</td>
<td class="text-right">0.031</td>
<td class="text-right">0.031</td>
<td class="text-right">0.324</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">Tb-PEX5-eGFP</td>
<td class="text-left">\(\tau_D\) from\n1 species fit</td>
<td class="text-right">0.659</td>
<td class="text-right">250.000</td>
<td class="text-right">0.653</td>
<td class="text-right">0.239</td>
<td class="text-right">0.000</td>
<td class="text-right">0.497</td>
<td class="text-right">0.659</td>
<td class="text-right">0.796</td>
<td class="text-right">1.372</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nfast sp. of 2 sp. fit</td>
<td class="text-right">0.032</td>
<td class="text-right">249.000</td>
<td class="text-right">0.086</td>
<td class="text-right">0.132</td>
<td class="text-right">0.000</td>
<td class="text-right">0.000</td>
<td class="text-right">0.032</td>
<td class="text-right">0.108</td>
<td class="text-right">0.744</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nslow sp. of 2 sp. fit</td>
<td class="text-right">0.010</td>
<td class="text-right">250.000</td>
<td class="text-right">0.039</td>
<td class="text-right">0.080</td>
<td class="text-right">0.000</td>
<td class="text-right">0.000</td>
<td class="text-right">0.010</td>
<td class="text-right">0.036</td>
<td class="text-right">0.770</td>
</tr>

<tr>
<td class="text-left">34766</td>
<td class="text-left">Hs-PEX5-eGFP</td>
<td class="text-left">\(\tau_D\) from\n1 species fit</td>
<td class="text-right">1.416</td>
<td class="text-right">250.000</td>
<td class="text-right">525.558</td>
<td class="text-right">8274.061</td>
<td class="text-right">0.000</td>
<td class="text-right">1.015</td>
<td class="text-right">1.416</td>
<td class="text-right">2.362</td>
<td class="text-right">130826.616</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nfast sp. of 2 sp. fit</td>
<td class="text-right">0.156</td>
<td class="text-right">247.000</td>
<td class="text-right">302.119</td>
<td class="text-right">4744.397</td>
<td class="text-right">0.000</td>
<td class="text-right">0.156</td>
<td class="text-right">0.156</td>
<td class="text-right">0.156</td>
<td class="text-right">74564.294</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nslow sp. of 2 sp. fit</td>
<td class="text-right">0.068</td>
<td class="text-right">249.000</td>
<td class="text-right">0.515</td>
<td class="text-right">6.186</td>
<td class="text-right">0.000</td>
<td class="text-right">0.068</td>
<td class="text-right">0.068</td>
<td class="text-right">0.068</td>
<td class="text-right">97.572</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">Tb-PEX5-eGFP</td>
<td class="text-left">\(\tau_D\) from\n1 species fit</td>
<td class="text-right">2.158</td>
<td class="text-right">250.000</td>
<td class="text-right">2.526</td>
<td class="text-right">0.922</td>
<td class="text-right">0.176</td>
<td class="text-right">1.848</td>
<td class="text-right">2.158</td>
<td class="text-right">3.524</td>
<td class="text-right">4.153</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nfast sp. of 2 sp. fit</td>
<td class="text-right">0.000</td>
<td class="text-right">248.000</td>
<td class="text-right">0.160</td>
<td class="text-right">0.365</td>
<td class="text-right">0.000</td>
<td class="text-right">0.000</td>
<td class="text-right">0.000</td>
<td class="text-right">0.056</td>
<td class="text-right">1.599</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nslow sp. of 2 sp. fit</td>
<td class="text-right">0.000</td>
<td class="text-right">250.000</td>
<td class="text-right">0.225</td>
<td class="text-right">0.691</td>
<td class="text-right">0.000</td>
<td class="text-right">0.000</td>
<td class="text-right">0.000</td>
<td class="text-right">0.007</td>
<td class="text-right">4.143</td>
</tr>

<tr>
<td class="text-left">34a6d</td>
<td class="text-left">Hs-PEX5-eGFP</td>
<td class="text-left">\(\tau_D\) from\n1 species fit</td>
<td class="text-right">1.377</td>
<td class="text-right">250.000</td>
<td class="text-right">1.954</td>
<td class="text-right">1.534</td>
<td class="text-right">0.000</td>
<td class="text-right">1.117</td>
<td class="text-right">1.377</td>
<td class="text-right">2.135</td>
<td class="text-right">7.288</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nfast sp. of 2 sp. fit</td>
<td class="text-right">0.000</td>
<td class="text-right">237.000</td>
<td class="text-right">0.261</td>
<td class="text-right">0.620</td>
<td class="text-right">0.000</td>
<td class="text-right">0.000</td>
<td class="text-right">0.000</td>
<td class="text-right">0.381</td>
<td class="text-right">7.287</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nslow sp. of 2 sp. fit</td>
<td class="text-right">0.000</td>
<td class="text-right">249.000</td>
<td class="text-right">0.381</td>
<td class="text-right">1.252</td>
<td class="text-right">0.000</td>
<td class="text-right">0.000</td>
<td class="text-right">0.000</td>
<td class="text-right">0.054</td>
<td class="text-right">6.970</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">Tb-PEX5-eGFP</td>
<td class="text-left">\(\tau_D\) from\n1 species fit</td>
<td class="text-right">3.059</td>
<td class="text-right">250.000</td>
<td class="text-right">2.908</td>
<td class="text-right">0.666</td>
<td class="text-right">0.000</td>
<td class="text-right">2.526</td>
<td class="text-right">3.059</td>
<td class="text-right">3.322</td>
<td class="text-right">4.297</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nfast sp. of 2 sp. fit</td>
<td class="text-right">0.000</td>
<td class="text-right">250.000</td>
<td class="text-right">0.019</td>
<td class="text-right">0.157</td>
<td class="text-right">0.000</td>
<td class="text-right">0.000</td>
<td class="text-right">0.000</td>
<td class="text-right">0.000</td>
<td class="text-right">1.549</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nslow sp. of 2 sp. fit</td>
<td class="text-right">0.000</td>
<td class="text-right">250.000</td>
<td class="text-right">0.007</td>
<td class="text-right">0.062</td>
<td class="text-right">0.000</td>
<td class="text-right">0.000</td>
<td class="text-right">0.000</td>
<td class="text-right">0.000</td>
<td class="text-right">0.819</td>
</tr>

<tr>
<td class="text-left">484af</td>
<td class="text-left">Hs-PEX5-eGFP</td>
<td class="text-left">\(\tau_D\) from\n1 species fit</td>
<td class="text-right">0.413</td>
<td class="text-right">250.000</td>
<td class="text-right">0.508</td>
<td class="text-right">0.251</td>
<td class="text-right">0.000</td>
<td class="text-right">0.371</td>
<td class="text-right">0.413</td>
<td class="text-right">0.521</td>
<td class="text-right">1.576</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nfast sp. of 2 sp. fit</td>
<td class="text-right">0.343</td>
<td class="text-right">250.000</td>
<td class="text-right">0.390</td>
<td class="text-right">0.202</td>
<td class="text-right">0.000</td>
<td class="text-right">0.293</td>
<td class="text-right">0.343</td>
<td class="text-right">0.406</td>
<td class="text-right">1.301</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nslow sp. of 2 sp. fit</td>
<td class="text-right">0.014</td>
<td class="text-right">247.000</td>
<td class="text-right">0.021</td>
<td class="text-right">0.020</td>
<td class="text-right">0.000</td>
<td class="text-right">0.010</td>
<td class="text-right">0.014</td>
<td class="text-right">0.024</td>
<td class="text-right">0.140</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">Tb-PEX5-eGFP</td>
<td class="text-left">\(\tau_D\) from\n1 species fit</td>
<td class="text-right">0.588</td>
<td class="text-right">250.000</td>
<td class="text-right">0.601</td>
<td class="text-right">0.213</td>
<td class="text-right">0.000</td>
<td class="text-right">0.472</td>
<td class="text-right">0.588</td>
<td class="text-right">0.726</td>
<td class="text-right">1.269</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nfast sp. of 2 sp. fit</td>
<td class="text-right">0.074</td>
<td class="text-right">250.000</td>
<td class="text-right">0.079</td>
<td class="text-right">0.060</td>
<td class="text-right">0.000</td>
<td class="text-right">0.074</td>
<td class="text-right">0.074</td>
<td class="text-right">0.074</td>
<td class="text-right">0.656</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nslow sp. of 2 sp. fit</td>
<td class="text-right">0.053</td>
<td class="text-right">250.000</td>
<td class="text-right">0.052</td>
<td class="text-right">0.016</td>
<td class="text-right">0.000</td>
<td class="text-right">0.053</td>
<td class="text-right">0.053</td>
<td class="text-right">0.053</td>
<td class="text-right">0.225</td>
</tr>

<tr>
<td class="text-left">714af</td>
<td class="text-left">Hs-PEX5-eGFP</td>
<td class="text-left">\(\tau_D\) from\n1 species fit</td>
<td class="text-right">0.767</td>
<td class="text-right">250.000</td>
<td class="text-right">1.131</td>
<td class="text-right">0.801</td>
<td class="text-right">0.000</td>
<td class="text-right">0.618</td>
<td class="text-right">0.767</td>
<td class="text-right">1.472</td>
<td class="text-right">3.447</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nfast sp. of 2 sp. fit</td>
<td class="text-right">0.434</td>
<td class="text-right">250.000</td>
<td class="text-right">0.397</td>
<td class="text-right">0.315</td>
<td class="text-right">0.000</td>
<td class="text-right">0.225</td>
<td class="text-right">0.434</td>
<td class="text-right">0.551</td>
<td class="text-right">2.821</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nslow sp. of 2 sp. fit</td>
<td class="text-right">0.023</td>
<td class="text-right">247.000</td>
<td class="text-right">0.059</td>
<td class="text-right">0.169</td>
<td class="text-right">0.000</td>
<td class="text-right">0.010</td>
<td class="text-right">0.023</td>
<td class="text-right">0.039</td>
<td class="text-right">1.567</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">Tb-PEX5-eGFP</td>
<td class="text-left">\(\tau_D\) from\n1 species fit</td>
<td class="text-right">0.997</td>
<td class="text-right">250.000</td>
<td class="text-right">1.003</td>
<td class="text-right">0.419</td>
<td class="text-right">0.229</td>
<td class="text-right">0.633</td>
<td class="text-right">0.997</td>
<td class="text-right">1.262</td>
<td class="text-right">2.225</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nfast sp. of 2 sp. fit</td>
<td class="text-right">0.056</td>
<td class="text-right">250.000</td>
<td class="text-right">0.169</td>
<td class="text-right">0.208</td>
<td class="text-right">0.000</td>
<td class="text-right">0.000</td>
<td class="text-right">0.056</td>
<td class="text-right">0.307</td>
<td class="text-right">0.812</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nslow sp. of 2 sp. fit</td>
<td class="text-right">0.011</td>
<td class="text-right">250.000</td>
<td class="text-right">0.034</td>
<td class="text-right">0.056</td>
<td class="text-right">0.000</td>
<td class="text-right">0.000</td>
<td class="text-right">0.011</td>
<td class="text-right">0.050</td>
<td class="text-right">0.382</td>
</tr>

<tr>
<td class="text-left">No correction</td>
<td class="text-left">Hs-PEX5-eGFP</td>
<td class="text-left">\(\tau_D\) from\n1 species fit</td>
<td class="text-right">0.268</td>
<td class="text-right">250.000</td>
<td class="text-right">0.257</td>
<td class="text-right">0.071</td>
<td class="text-right">0.118</td>
<td class="text-right">0.194</td>
<td class="text-right">0.268</td>
<td class="text-right">0.309</td>
<td class="text-right">0.508</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nfast sp. of 2 sp. fit</td>
<td class="text-right">0.253</td>
<td class="text-right">249.000</td>
<td class="text-right">0.235</td>
<td class="text-right">0.087</td>
<td class="text-right">0.000</td>
<td class="text-right">0.173</td>
<td class="text-right">0.253</td>
<td class="text-right">0.297</td>
<td class="text-right">0.505</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nslow sp. of 2 sp. fit</td>
<td class="text-right">0.003</td>
<td class="text-right">156.000</td>
<td class="text-right">0.012</td>
<td class="text-right">0.034</td>
<td class="text-right">0.000</td>
<td class="text-right">0.002</td>
<td class="text-right">0.003</td>
<td class="text-right">0.005</td>
<td class="text-right">0.259</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">Tb-PEX5-eGFP</td>
<td class="text-left">\(\tau_D\) from\n1 species fit</td>
<td class="text-right">0.189</td>
<td class="text-right">250.000</td>
<td class="text-right">0.188</td>
<td class="text-right">0.041</td>
<td class="text-right">0.012</td>
<td class="text-right">0.169</td>
<td class="text-right">0.189</td>
<td class="text-right">0.212</td>
<td class="text-right">0.292</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nfast sp. of 2 sp. fit</td>
<td class="text-right">0.166</td>
<td class="text-right">249.000</td>
<td class="text-right">0.155</td>
<td class="text-right">0.059</td>
<td class="text-right">0.000</td>
<td class="text-right">0.137</td>
<td class="text-right">0.166</td>
<td class="text-right">0.195</td>
<td class="text-right">0.275</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nslow sp. of 2 sp. fit</td>
<td class="text-right">0.006</td>
<td class="text-right">226.000</td>
<td class="text-right">0.008</td>
<td class="text-right">0.008</td>
<td class="text-right">0.000</td>
<td class="text-right">0.003</td>
<td class="text-right">0.006</td>
<td class="text-right">0.011</td>
<td class="text-right">0.046</td>
</tr>

<tr>
<td class="text-left">c1204</td>
<td class="text-left">Hs-PEX5-eGFP</td>
<td class="text-left">\(\tau_D\) from\n1 species fit</td>
<td class="text-right">3.582</td>
<td class="text-right">250.000</td>
<td class="text-right">1800.956</td>
<td class="text-right">16542.991</td>
<td class="text-right">0.000</td>
<td class="text-right">2.368</td>
<td class="text-right">3.582</td>
<td class="text-right">4.792</td>
<td class="text-right">186293.638</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nfast sp. of 2 sp. fit</td>
<td class="text-right">0.252</td>
<td class="text-right">248.000</td>
<td class="text-right">0.366</td>
<td class="text-right">0.804</td>
<td class="text-right">0.000</td>
<td class="text-right">0.252</td>
<td class="text-right">0.252</td>
<td class="text-right">0.252</td>
<td class="text-right">8.390</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nslow sp. of 2 sp. fit</td>
<td class="text-right">0.062</td>
<td class="text-right">248.000</td>
<td class="text-right">0.190</td>
<td class="text-right">0.663</td>
<td class="text-right">0.000</td>
<td class="text-right">0.062</td>
<td class="text-right">0.062</td>
<td class="text-right">0.062</td>
<td class="text-right">6.570</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">Tb-PEX5-eGFP</td>
<td class="text-left">\(\tau_D\) from\n1 species fit</td>
<td class="text-right">4.392</td>
<td class="text-right">250.000</td>
<td class="text-right">5.219</td>
<td class="text-right">2.156</td>
<td class="text-right">0.000</td>
<td class="text-right">3.632</td>
<td class="text-right">4.392</td>
<td class="text-right">7.214</td>
<td class="text-right">11.235</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nfast sp. of 2 sp. fit</td>
<td class="text-right">2.757</td>
<td class="text-right">242.000</td>
<td class="text-right">3.311</td>
<td class="text-right">2.830</td>
<td class="text-right">0.000</td>
<td class="text-right">1.054</td>
<td class="text-right">2.757</td>
<td class="text-right">4.820</td>
<td class="text-right">11.086</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nslow sp. of 2 sp. fit</td>
<td class="text-right">0.629</td>
<td class="text-right">177.000</td>
<td class="text-right">1.297</td>
<td class="text-right">1.914</td>
<td class="text-right">0.000</td>
<td class="text-right">0.000</td>
<td class="text-right">0.629</td>
<td class="text-right">1.264</td>
<td class="text-right">8.789</td>
</tr>

<tr>
<td class="text-left">fe81d</td>
<td class="text-left">Hs-PEX5-eGFP</td>
<td class="text-left">\(\tau_D\) from\n1 species fit</td>
<td class="text-right">0.326</td>
<td class="text-right">250.000</td>
<td class="text-right">0.393</td>
<td class="text-right">0.197</td>
<td class="text-right">0.000</td>
<td class="text-right">0.298</td>
<td class="text-right">0.326</td>
<td class="text-right">0.377</td>
<td class="text-right">1.327</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nfast sp. of 2 sp. fit</td>
<td class="text-right">0.030</td>
<td class="text-right">250.000</td>
<td class="text-right">0.044</td>
<td class="text-right">0.100</td>
<td class="text-right">0.000</td>
<td class="text-right">0.030</td>
<td class="text-right">0.030</td>
<td class="text-right">0.030</td>
<td class="text-right">1.038</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nslow sp. of 2 sp. fit</td>
<td class="text-right">0.018</td>
<td class="text-right">250.000</td>
<td class="text-right">0.022</td>
<td class="text-right">0.022</td>
<td class="text-right">0.000</td>
<td class="text-right">0.018</td>
<td class="text-right">0.018</td>
<td class="text-right">0.018</td>
<td class="text-right">0.235</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">Tb-PEX5-eGFP</td>
<td class="text-left">\(\tau_D\) from\n1 species fit</td>
<td class="text-right">0.427</td>
<td class="text-right">250.000</td>
<td class="text-right">0.440</td>
<td class="text-right">0.157</td>
<td class="text-right">0.000</td>
<td class="text-right">0.336</td>
<td class="text-right">0.427</td>
<td class="text-right">0.543</td>
<td class="text-right">0.900</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nfast sp. of 2 sp. fit</td>
<td class="text-right">0.062</td>
<td class="text-right">228.000</td>
<td class="text-right">0.154</td>
<td class="text-right">0.181</td>
<td class="text-right">0.000</td>
<td class="text-right">0.009</td>
<td class="text-right">0.062</td>
<td class="text-right">0.248</td>
<td class="text-right">0.790</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nslow sp. of 2 sp. fit</td>
<td class="text-right">0.022</td>
<td class="text-right">235.000</td>
<td class="text-right">0.082</td>
<td class="text-right">0.133</td>
<td class="text-right">0.000</td>
<td class="text-right">0.005</td>
<td class="text-right">0.022</td>
<td class="text-right">0.074</td>
<td class="text-right">0.545</td>
</tr>

<tr>
<td class="text-left">ff67b</td>
<td class="text-left">Hs-PEX5-eGFP</td>
<td class="text-left">\(\tau_D\) from\n1 species fit</td>
<td class="text-right">0.502</td>
<td class="text-right">250.000</td>
<td class="text-right">0.557</td>
<td class="text-right">0.202</td>
<td class="text-right">0.185</td>
<td class="text-right">0.428</td>
<td class="text-right">0.502</td>
<td class="text-right">0.603</td>
<td class="text-right">1.429</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nfast sp. of 2 sp. fit</td>
<td class="text-right">0.029</td>
<td class="text-right">250.000</td>
<td class="text-right">0.051</td>
<td class="text-right">0.121</td>
<td class="text-right">0.000</td>
<td class="text-right">0.029</td>
<td class="text-right">0.029</td>
<td class="text-right">0.029</td>
<td class="text-right">0.978</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nslow sp. of 2 sp. fit</td>
<td class="text-right">0.014</td>
<td class="text-right">250.000</td>
<td class="text-right">0.020</td>
<td class="text-right">0.026</td>
<td class="text-right">0.000</td>
<td class="text-right">0.014</td>
<td class="text-right">0.014</td>
<td class="text-right">0.014</td>
<td class="text-right">0.227</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">Tb-PEX5-eGFP</td>
<td class="text-left">\(\tau_D\) from\n1 species fit</td>
<td class="text-right">0.412</td>
<td class="text-right">250.000</td>
<td class="text-right">0.438</td>
<td class="text-right">0.120</td>
<td class="text-right">0.236</td>
<td class="text-right">0.358</td>
<td class="text-right">0.412</td>
<td class="text-right">0.489</td>
<td class="text-right">0.837</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nfast sp. of 2 sp. fit</td>
<td class="text-right">0.337</td>
<td class="text-right">250.000</td>
<td class="text-right">0.345</td>
<td class="text-right">0.127</td>
<td class="text-right">0.000</td>
<td class="text-right">0.279</td>
<td class="text-right">0.337</td>
<td class="text-right">0.399</td>
<td class="text-right">0.781</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nslow sp. of 2 sp. fit</td>
<td class="text-right">0.015</td>
<td class="text-right">249.000</td>
<td class="text-right">0.019</td>
<td class="text-right">0.030</td>
<td class="text-right">0.000</td>
<td class="text-right">0.011</td>
<td class="text-right">0.015</td>
<td class="text-right">0.020</td>
<td class="text-right">0.422</td>
</tr>
</tbody>
</table>
<pre class="example">
Statistics of fitted transit times
</pre>

<table class="table table-striped table-bordered table-hover table-condensed">


<colgroup>
<col  class="left">

<col  class="left">

<col  class="left">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">
</colgroup>
<thead>
<tr>
<th scope="col" class="text-left">&#xa0;</th>
<th scope="col" class="text-left">&#xa0;</th>
<th scope="col" class="text-left">&#xa0;</th>
<th scope="col" class="text-right">median</th>
<th scope="col" class="text-right">count</th>
<th scope="col" class="text-right">mean</th>
<th scope="col" class="text-right">std</th>
<th scope="col" class="text-right">min</th>
<th scope="col" class="text-right">25%</th>
<th scope="col" class="text-right">50%</th>
<th scope="col" class="text-right">75%</th>
<th scope="col" class="text-right">max</th>
</tr>
</thead>
<tbody>
<tr>
<td class="text-left">processing</td>
<td class="text-left">artifact</td>
<td class="text-left">legend</td>
<td class="text-right">&#xa0;</td>
<td class="text-right">&#xa0;</td>
<td class="text-right">&#xa0;</td>
<td class="text-right">&#xa0;</td>
<td class="text-right">&#xa0;</td>
<td class="text-right">&#xa0;</td>
<td class="text-right">&#xa0;</td>
<td class="text-right">&#xa0;</td>
<td class="text-right">&#xa0;</td>
</tr>

<tr>
<td class="text-left">0cd20</td>
<td class="text-left">Hs-PEX5-eGFP</td>
<td class="text-left">\(\tau_D\) from\n1 species fit</td>
<td class="text-right">0.323617</td>
<td class="text-right">250.0</td>
<td class="text-right">0.320864</td>
<td class="text-right">0.020821</td>
<td class="text-right">0.249462</td>
<td class="text-right">0.308254</td>
<td class="text-right">0.323617</td>
<td class="text-right">0.335541</td>
<td class="text-right">0.359334</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nfast sp. of 2 sp. fit</td>
<td class="text-right">0.000172</td>
<td class="text-right">249.0</td>
<td class="text-right">0.060898</td>
<td class="text-right">0.119981</td>
<td class="text-right">0.000100</td>
<td class="text-right">0.000100</td>
<td class="text-right">0.000172</td>
<td class="text-right">0.004964</td>
<td class="text-right">0.333456</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nslow sp. of 2 sp. fit</td>
<td class="text-right">0.299218</td>
<td class="text-right">226.0</td>
<td class="text-right">0.652991</td>
<td class="text-right">5.386862</td>
<td class="text-right">0.230471</td>
<td class="text-right">0.299212</td>
<td class="text-right">0.299218</td>
<td class="text-right">0.299225</td>
<td class="text-right">81.276695</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">Tb-PEX5-eGFP</td>
<td class="text-left">\(\tau_D\) from\n1 species fit</td>
<td class="text-right">0.324881</td>
<td class="text-right">250.0</td>
<td class="text-right">0.326603</td>
<td class="text-right">0.027692</td>
<td class="text-right">0.259626</td>
<td class="text-right">0.309170</td>
<td class="text-right">0.324881</td>
<td class="text-right">0.343199</td>
<td class="text-right">0.429618</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nfast sp. of 2 sp. fit</td>
<td class="text-right">0.330889</td>
<td class="text-right">244.0</td>
<td class="text-right">0.296751</td>
<td class="text-right">0.115240</td>
<td class="text-right">0.000100</td>
<td class="text-right">0.304649</td>
<td class="text-right">0.330889</td>
<td class="text-right">0.336307</td>
<td class="text-right">0.565352</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nslow sp. of 2 sp. fit</td>
<td class="text-right">0.344133</td>
<td class="text-right">79.0</td>
<td class="text-right">96.592373</td>
<td class="text-right">358.830694</td>
<td class="text-right">0.232596</td>
<td class="text-right">0.291604</td>
<td class="text-right">0.344133</td>
<td class="text-right">3.224768</td>
<td class="text-right">1999.956477</td>
</tr>

<tr>
<td class="text-left">19e3e</td>
<td class="text-left">Hs-PEX5-eGFP</td>
<td class="text-left">\(\tau_D\) from\n1 species fit</td>
<td class="text-right">0.248882</td>
<td class="text-right">250.0</td>
<td class="text-right">0.246302</td>
<td class="text-right">0.043006</td>
<td class="text-right">0.034228</td>
<td class="text-right">0.231552</td>
<td class="text-right">0.248882</td>
<td class="text-right">0.266995</td>
<td class="text-right">0.492987</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nfast sp. of 2 sp. fit</td>
<td class="text-right">0.000100</td>
<td class="text-right">250.0</td>
<td class="text-right">0.007082</td>
<td class="text-right">0.035425</td>
<td class="text-right">0.000100</td>
<td class="text-right">0.000100</td>
<td class="text-right">0.000100</td>
<td class="text-right">0.000100</td>
<td class="text-right">0.311329</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nslow sp. of 2 sp. fit</td>
<td class="text-right">0.231668</td>
<td class="text-right">250.0</td>
<td class="text-right">11.096372</td>
<td class="text-right">128.807510</td>
<td class="text-right">0.160041</td>
<td class="text-right">0.231668</td>
<td class="text-right">0.231668</td>
<td class="text-right">0.231668</td>
<td class="text-right">1999.965381</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">Tb-PEX5-eGFP</td>
<td class="text-left">\(\tau_D\) from\n1 species fit</td>
<td class="text-right">0.237834</td>
<td class="text-right">250.0</td>
<td class="text-right">0.241093</td>
<td class="text-right">0.056889</td>
<td class="text-right">0.123511</td>
<td class="text-right">0.205615</td>
<td class="text-right">0.237834</td>
<td class="text-right">0.265857</td>
<td class="text-right">0.711353</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nfast sp. of 2 sp. fit</td>
<td class="text-right">0.005744</td>
<td class="text-right">249.0</td>
<td class="text-right">0.046721</td>
<td class="text-right">0.065354</td>
<td class="text-right">0.000100</td>
<td class="text-right">0.000100</td>
<td class="text-right">0.005744</td>
<td class="text-right">0.105139</td>
<td class="text-right">0.312681</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nslow sp. of 2 sp. fit</td>
<td class="text-right">0.214517</td>
<td class="text-right">250.0</td>
<td class="text-right">13.995457</td>
<td class="text-right">40.382504</td>
<td class="text-right">0.130520</td>
<td class="text-right">0.184269</td>
<td class="text-right">0.214517</td>
<td class="text-right">2.095036</td>
<td class="text-right">392.234249</td>
</tr>

<tr>
<td class="text-left">34766</td>
<td class="text-left">Hs-PEX5-eGFP</td>
<td class="text-left">\(\tau_D\) from\n1 species fit</td>
<td class="text-right">0.282741</td>
<td class="text-right">250.0</td>
<td class="text-right">1.960813</td>
<td class="text-right">10.421541</td>
<td class="text-right">0.000109</td>
<td class="text-right">0.211177</td>
<td class="text-right">0.282741</td>
<td class="text-right">0.804156</td>
<td class="text-right">161.798448</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nfast sp. of 2 sp. fit</td>
<td class="text-right">0.000100</td>
<td class="text-right">247.0</td>
<td class="text-right">0.140035</td>
<td class="text-right">1.065767</td>
<td class="text-right">0.000100</td>
<td class="text-right">0.000100</td>
<td class="text-right">0.000100</td>
<td class="text-right">0.000100</td>
<td class="text-right">12.772683</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nslow sp. of 2 sp. fit</td>
<td class="text-right">0.199918</td>
<td class="text-right">249.0</td>
<td class="text-right">40.935269</td>
<td class="text-right">281.035522</td>
<td class="text-right">0.036570</td>
<td class="text-right">0.199918</td>
<td class="text-right">0.199918</td>
<td class="text-right">0.199918</td>
<td class="text-right">2000.000000</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">Tb-PEX5-eGFP</td>
<td class="text-left">\(\tau_D\) from\n1 species fit</td>
<td class="text-right">0.691528</td>
<td class="text-right">250.0</td>
<td class="text-right">2.826474</td>
<td class="text-right">3.458340</td>
<td class="text-right">0.150428</td>
<td class="text-right">0.417778</td>
<td class="text-right">0.691528</td>
<td class="text-right">5.433018</td>
<td class="text-right">19.065626</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nfast sp. of 2 sp. fit</td>
<td class="text-right">0.051069</td>
<td class="text-right">248.0</td>
<td class="text-right">0.055039</td>
<td class="text-right">0.052744</td>
<td class="text-right">0.000100</td>
<td class="text-right">0.020852</td>
<td class="text-right">0.051069</td>
<td class="text-right">0.065619</td>
<td class="text-right">0.366803</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nslow sp. of 2 sp. fit</td>
<td class="text-right">7.512514</td>
<td class="text-right">250.0</td>
<td class="text-right">8.054456</td>
<td class="text-right">4.969898</td>
<td class="text-right">0.134926</td>
<td class="text-right">5.006964</td>
<td class="text-right">7.512514</td>
<td class="text-right">10.973836</td>
<td class="text-right">30.326475</td>
</tr>

<tr>
<td class="text-left">34a6d</td>
<td class="text-left">Hs-PEX5-eGFP</td>
<td class="text-left">\(\tau_D\) from\n1 species fit</td>
<td class="text-right">0.284963</td>
<td class="text-right">250.0</td>
<td class="text-right">2.814169</td>
<td class="text-right">7.351230</td>
<td class="text-right">0.001338</td>
<td class="text-right">0.236236</td>
<td class="text-right">0.284963</td>
<td class="text-right">0.512840</td>
<td class="text-right">40.170929</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nfast sp. of 2 sp. fit</td>
<td class="text-right">0.063051</td>
<td class="text-right">237.0</td>
<td class="text-right">0.220596</td>
<td class="text-right">2.374881</td>
<td class="text-right">0.000100</td>
<td class="text-right">0.045802</td>
<td class="text-right">0.063051</td>
<td class="text-right">0.087420</td>
<td class="text-right">36.620450</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nslow sp. of 2 sp. fit</td>
<td class="text-right">9.022691</td>
<td class="text-right">249.0</td>
<td class="text-right">10.867661</td>
<td class="text-right">7.960415</td>
<td class="text-right">0.106761</td>
<td class="text-right">6.005959</td>
<td class="text-right">9.022691</td>
<td class="text-right">13.070269</td>
<td class="text-right">47.255466</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">Tb-PEX5-eGFP</td>
<td class="text-left">\(\tau_D\) from\n1 species fit</td>
<td class="text-right">1.834290</td>
<td class="text-right">250.0</td>
<td class="text-right">2.268876</td>
<td class="text-right">1.877872</td>
<td class="text-right">0.088689</td>
<td class="text-right">0.856312</td>
<td class="text-right">1.834290</td>
<td class="text-right">3.069606</td>
<td class="text-right">10.252194</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nfast sp. of 2 sp. fit</td>
<td class="text-right">0.052587</td>
<td class="text-right">250.0</td>
<td class="text-right">0.052591</td>
<td class="text-right">0.005518</td>
<td class="text-right">0.016660</td>
<td class="text-right">0.052587</td>
<td class="text-right">0.052587</td>
<td class="text-right">0.052587</td>
<td class="text-right">0.122504</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nslow sp. of 2 sp. fit</td>
<td class="text-right">7.066470</td>
<td class="text-right">250.0</td>
<td class="text-right">7.212279</td>
<td class="text-right">1.224819</td>
<td class="text-right">3.041586</td>
<td class="text-right">7.066470</td>
<td class="text-right">7.066470</td>
<td class="text-right">7.066470</td>
<td class="text-right">20.280015</td>
</tr>

<tr>
<td class="text-left">484af</td>
<td class="text-left">Hs-PEX5-eGFP</td>
<td class="text-left">\(\tau_D\) from\n1 species fit</td>
<td class="text-right">0.265457</td>
<td class="text-right">250.0</td>
<td class="text-right">0.260147</td>
<td class="text-right">0.040656</td>
<td class="text-right">0.128895</td>
<td class="text-right">0.240648</td>
<td class="text-right">0.265457</td>
<td class="text-right">0.283187</td>
<td class="text-right">0.444097</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nfast sp. of 2 sp. fit</td>
<td class="text-right">0.233343</td>
<td class="text-right">250.0</td>
<td class="text-right">0.222758</td>
<td class="text-right">0.050222</td>
<td class="text-right">0.000100</td>
<td class="text-right">0.200308</td>
<td class="text-right">0.233343</td>
<td class="text-right">0.257370</td>
<td class="text-right">0.328613</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nslow sp. of 2 sp. fit</td>
<td class="text-right">69.916879</td>
<td class="text-right">247.0</td>
<td class="text-right">133.744606</td>
<td class="text-right">200.200824</td>
<td class="text-right">0.142299</td>
<td class="text-right">38.940604</td>
<td class="text-right">69.916879</td>
<td class="text-right">147.092548</td>
<td class="text-right">1924.273303</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">Tb-PEX5-eGFP</td>
<td class="text-left">\(\tau_D\) from\n1 species fit</td>
<td class="text-right">0.241658</td>
<td class="text-right">250.0</td>
<td class="text-right">0.243606</td>
<td class="text-right">0.044011</td>
<td class="text-right">0.113022</td>
<td class="text-right">0.213493</td>
<td class="text-right">0.241658</td>
<td class="text-right">0.271191</td>
<td class="text-right">0.435722</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nfast sp. of 2 sp. fit</td>
<td class="text-right">0.000100</td>
<td class="text-right">250.0</td>
<td class="text-right">0.004805</td>
<td class="text-right">0.031999</td>
<td class="text-right">0.000100</td>
<td class="text-right">0.000100</td>
<td class="text-right">0.000100</td>
<td class="text-right">0.000100</td>
<td class="text-right">0.357377</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nslow sp. of 2 sp. fit</td>
<td class="text-right">0.221663</td>
<td class="text-right">250.0</td>
<td class="text-right">0.666995</td>
<td class="text-right">3.190823</td>
<td class="text-right">0.155482</td>
<td class="text-right">0.221663</td>
<td class="text-right">0.221663</td>
<td class="text-right">0.221663</td>
<td class="text-right">27.635426</td>
</tr>

<tr>
<td class="text-left">714af</td>
<td class="text-left">Hs-PEX5-eGFP</td>
<td class="text-left">\(\tau_D\) from\n1 species fit</td>
<td class="text-right">0.233111</td>
<td class="text-right">250.0</td>
<td class="text-right">0.411415</td>
<td class="text-right">0.475560</td>
<td class="text-right">0.027502</td>
<td class="text-right">0.204674</td>
<td class="text-right">0.233111</td>
<td class="text-right">0.326329</td>
<td class="text-right">3.026657</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nfast sp. of 2 sp. fit</td>
<td class="text-right">0.151704</td>
<td class="text-right">250.0</td>
<td class="text-right">0.139625</td>
<td class="text-right">0.181602</td>
<td class="text-right">0.000100</td>
<td class="text-right">0.073383</td>
<td class="text-right">0.151704</td>
<td class="text-right">0.176694</td>
<td class="text-right">2.807864</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nslow sp. of 2 sp. fit</td>
<td class="text-right">15.624278</td>
<td class="text-right">247.0</td>
<td class="text-right">33.247501</td>
<td class="text-right">63.227049</td>
<td class="text-right">0.137890</td>
<td class="text-right">6.196147</td>
<td class="text-right">15.624278</td>
<td class="text-right">35.200767</td>
<td class="text-right">651.235702</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">Tb-PEX5-eGFP</td>
<td class="text-left">\(\tau_D\) from\n1 species fit</td>
<td class="text-right">0.366270</td>
<td class="text-right">250.0</td>
<td class="text-right">0.401344</td>
<td class="text-right">0.128259</td>
<td class="text-right">0.187158</td>
<td class="text-right">0.329494</td>
<td class="text-right">0.366270</td>
<td class="text-right">0.431351</td>
<td class="text-right">1.122314</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nfast sp. of 2 sp. fit</td>
<td class="text-right">0.077699</td>
<td class="text-right">250.0</td>
<td class="text-right">0.101588</td>
<td class="text-right">0.078889</td>
<td class="text-right">0.000100</td>
<td class="text-right">0.050206</td>
<td class="text-right">0.077699</td>
<td class="text-right">0.153557</td>
<td class="text-right">0.330826</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nslow sp. of 2 sp. fit</td>
<td class="text-right">3.390052</td>
<td class="text-right">250.0</td>
<td class="text-right">4.456640</td>
<td class="text-right">4.540913</td>
<td class="text-right">0.198274</td>
<td class="text-right">1.685021</td>
<td class="text-right">3.390052</td>
<td class="text-right">5.868710</td>
<td class="text-right">36.023611</td>
</tr>

<tr>
<td class="text-left">No correction</td>
<td class="text-left">Hs-PEX5-eGFP</td>
<td class="text-left">\(\tau_D\) from\n1 species fit</td>
<td class="text-right">0.356176</td>
<td class="text-right">250.0</td>
<td class="text-right">0.356892</td>
<td class="text-right">0.017251</td>
<td class="text-right">0.316204</td>
<td class="text-right">0.345597</td>
<td class="text-right">0.356176</td>
<td class="text-right">0.367787</td>
<td class="text-right">0.422647</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nfast sp. of 2 sp. fit</td>
<td class="text-right">0.348573</td>
<td class="text-right">249.0</td>
<td class="text-right">0.330113</td>
<td class="text-right">0.080803</td>
<td class="text-right">0.000100</td>
<td class="text-right">0.334796</td>
<td class="text-right">0.348573</td>
<td class="text-right">0.359479</td>
<td class="text-right">0.422648</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nslow sp. of 2 sp. fit</td>
<td class="text-right">42.013383</td>
<td class="text-right">156.0</td>
<td class="text-right">234.082459</td>
<td class="text-right">382.506491</td>
<td class="text-right">0.301974</td>
<td class="text-right">10.840074</td>
<td class="text-right">42.013383</td>
<td class="text-right">273.555579</td>
<td class="text-right">1999.121327</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">Tb-PEX5-eGFP</td>
<td class="text-left">\(\tau_D\) from\n1 species fit</td>
<td class="text-right">0.437270</td>
<td class="text-right">250.0</td>
<td class="text-right">0.507154</td>
<td class="text-right">0.229794</td>
<td class="text-right">0.351314</td>
<td class="text-right">0.403647</td>
<td class="text-right">0.437270</td>
<td class="text-right">0.498338</td>
<td class="text-right">2.429498</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nfast sp. of 2 sp. fit</td>
<td class="text-right">0.391268</td>
<td class="text-right">249.0</td>
<td class="text-right">0.389270</td>
<td class="text-right">0.136774</td>
<td class="text-right">0.000100</td>
<td class="text-right">0.365634</td>
<td class="text-right">0.391268</td>
<td class="text-right">0.428259</td>
<td class="text-right">1.044106</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nslow sp. of 2 sp. fit</td>
<td class="text-right">15.194065</td>
<td class="text-right">226.0</td>
<td class="text-right">89.237400</td>
<td class="text-right">267.388024</td>
<td class="text-right">0.352227</td>
<td class="text-right">5.441904</td>
<td class="text-right">15.194065</td>
<td class="text-right">43.653002</td>
<td class="text-right">2000.000000</td>
</tr>

<tr>
<td class="text-left">c1204</td>
<td class="text-left">Hs-PEX5-eGFP</td>
<td class="text-left">\(\tau_D\) from\n1 species fit</td>
<td class="text-right">0.651378</td>
<td class="text-right">250.0</td>
<td class="text-right">4.339958</td>
<td class="text-right">9.135442</td>
<td class="text-right">0.000100</td>
<td class="text-right">0.255066</td>
<td class="text-right">0.651378</td>
<td class="text-right">3.500988</td>
<td class="text-right">70.322682</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nfast sp. of 2 sp. fit</td>
<td class="text-right">0.000100</td>
<td class="text-right">248.0</td>
<td class="text-right">0.194788</td>
<td class="text-right">1.877687</td>
<td class="text-right">0.000100</td>
<td class="text-right">0.000100</td>
<td class="text-right">0.000100</td>
<td class="text-right">0.000100</td>
<td class="text-right">26.384233</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nslow sp. of 2 sp. fit</td>
<td class="text-right">0.195006</td>
<td class="text-right">248.0</td>
<td class="text-right">1.556390</td>
<td class="text-right">12.510745</td>
<td class="text-right">0.099500</td>
<td class="text-right">0.195006</td>
<td class="text-right">0.195006</td>
<td class="text-right">0.195006</td>
<td class="text-right">193.005430</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">Tb-PEX5-eGFP</td>
<td class="text-left">\(\tau_D\) from\n1 species fit</td>
<td class="text-right">4.027498</td>
<td class="text-right">250.0</td>
<td class="text-right">39.287596</td>
<td class="text-right">137.224405</td>
<td class="text-right">0.087313</td>
<td class="text-right">2.197479</td>
<td class="text-right">4.027498</td>
<td class="text-right">42.922206</td>
<td class="text-right">1999.613089</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nfast sp. of 2 sp. fit</td>
<td class="text-right">3.121523</td>
<td class="text-right">242.0</td>
<td class="text-right">24.498094</td>
<td class="text-right">44.439024</td>
<td class="text-right">0.000100</td>
<td class="text-right">0.078008</td>
<td class="text-right">3.121523</td>
<td class="text-right">35.018711</td>
<td class="text-right">300.809427</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nslow sp. of 2 sp. fit</td>
<td class="text-right">1182.632990</td>
<td class="text-right">177.0</td>
<td class="text-right">1021.164847</td>
<td class="text-right">960.486419</td>
<td class="text-right">0.148180</td>
<td class="text-right">10.943002</td>
<td class="text-right">1182.632990</td>
<td class="text-right">1999.979383</td>
<td class="text-right">2000.000000</td>
</tr>

<tr>
<td class="text-left">fe81d</td>
<td class="text-left">Hs-PEX5-eGFP</td>
<td class="text-left">\(\tau_D\) from\n1 species fit</td>
<td class="text-right">0.270886</td>
<td class="text-right">250.0</td>
<td class="text-right">0.264426</td>
<td class="text-right">0.040805</td>
<td class="text-right">0.126198</td>
<td class="text-right">0.239281</td>
<td class="text-right">0.270886</td>
<td class="text-right">0.292043</td>
<td class="text-right">0.417882</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nfast sp. of 2 sp. fit</td>
<td class="text-right">0.000100</td>
<td class="text-right">250.0</td>
<td class="text-right">0.005696</td>
<td class="text-right">0.031403</td>
<td class="text-right">0.000100</td>
<td class="text-right">0.000100</td>
<td class="text-right">0.000100</td>
<td class="text-right">0.000225</td>
<td class="text-right">0.277912</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nslow sp. of 2 sp. fit</td>
<td class="text-right">0.253200</td>
<td class="text-right">250.0</td>
<td class="text-right">1.574326</td>
<td class="text-right">8.690581</td>
<td class="text-right">0.159645</td>
<td class="text-right">0.253200</td>
<td class="text-right">0.253200</td>
<td class="text-right">0.253200</td>
<td class="text-right">91.512999</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">Tb-PEX5-eGFP</td>
<td class="text-left">\(\tau_D\) from\n1 species fit</td>
<td class="text-right">0.237785</td>
<td class="text-right">250.0</td>
<td class="text-right">0.239106</td>
<td class="text-right">0.035075</td>
<td class="text-right">0.162728</td>
<td class="text-right">0.215458</td>
<td class="text-right">0.237785</td>
<td class="text-right">0.258728</td>
<td class="text-right">0.452019</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nfast sp. of 2 sp. fit</td>
<td class="text-right">0.095902</td>
<td class="text-right">228.0</td>
<td class="text-right">0.111506</td>
<td class="text-right">0.108528</td>
<td class="text-right">0.000100</td>
<td class="text-right">0.000513</td>
<td class="text-right">0.095902</td>
<td class="text-right">0.223517</td>
<td class="text-right">0.452037</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nslow sp. of 2 sp. fit</td>
<td class="text-right">0.238129</td>
<td class="text-right">235.0</td>
<td class="text-right">25.725146</td>
<td class="text-right">77.901884</td>
<td class="text-right">0.148100</td>
<td class="text-right">0.201307</td>
<td class="text-right">0.238129</td>
<td class="text-right">7.581677</td>
<td class="text-right">739.642771</td>
</tr>

<tr>
<td class="text-left">ff67b</td>
<td class="text-left">Hs-PEX5-eGFP</td>
<td class="text-left">\(\tau_D\) from\n1 species fit</td>
<td class="text-right">0.230441</td>
<td class="text-right">250.0</td>
<td class="text-right">0.239749</td>
<td class="text-right">0.047058</td>
<td class="text-right">0.144283</td>
<td class="text-right">0.213528</td>
<td class="text-right">0.230441</td>
<td class="text-right">0.250664</td>
<td class="text-right">0.577085</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nfast sp. of 2 sp. fit</td>
<td class="text-right">0.000100</td>
<td class="text-right">250.0</td>
<td class="text-right">0.007750</td>
<td class="text-right">0.041582</td>
<td class="text-right">0.000100</td>
<td class="text-right">0.000100</td>
<td class="text-right">0.000100</td>
<td class="text-right">0.000100</td>
<td class="text-right">0.288617</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nslow sp. of 2 sp. fit</td>
<td class="text-right">0.203118</td>
<td class="text-right">250.0</td>
<td class="text-right">5.851806</td>
<td class="text-right">61.517373</td>
<td class="text-right">0.148434</td>
<td class="text-right">0.203118</td>
<td class="text-right">0.203118</td>
<td class="text-right">0.203118</td>
<td class="text-right">922.471752</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">Tb-PEX5-eGFP</td>
<td class="text-left">\(\tau_D\) from\n1 species fit</td>
<td class="text-right">0.280494</td>
<td class="text-right">250.0</td>
<td class="text-right">0.281235</td>
<td class="text-right">0.040631</td>
<td class="text-right">0.184676</td>
<td class="text-right">0.253043</td>
<td class="text-right">0.280494</td>
<td class="text-right">0.306884</td>
<td class="text-right">0.405158</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nfast sp. of 2 sp. fit</td>
<td class="text-right">0.237870</td>
<td class="text-right">250.0</td>
<td class="text-right">0.229680</td>
<td class="text-right">0.058269</td>
<td class="text-right">0.000100</td>
<td class="text-right">0.206773</td>
<td class="text-right">0.237870</td>
<td class="text-right">0.265449</td>
<td class="text-right">0.362244</td>
</tr>

<tr>
<td class="text-left">&#xa0;</td>
<td class="text-left">&#xa0;</td>
<td class="text-left">\(\tau_D\) from\nslow sp. of 2 sp. fit</td>
<td class="text-right">31.791098</td>
<td class="text-right">249.0</td>
<td class="text-right">46.205757</td>
<td class="text-right">52.410003</td>
<td class="text-right">0.158099</td>
<td class="text-right">14.756188</td>
<td class="text-right">31.791098</td>
<td class="text-right">58.344302</td>
<td class="text-right">455.148873</td>
</tr>
</tbody>
</table>
</li>

<li>now we plot fit outcomes (transit times, particle numbers) after neural
network prediction and <code>cut and stitch</code> correction. For this <code>PEX5</code> data,
we compare <code>Hs-PEX5-eGFP</code> (no artifacts) against <code>Tb-PEX5-eGFP</code> (peak
artifacts). The gold standard was the 1 component fit of <code>Hs-PEX5-eGFP</code>
without any correction (see median values plotted with a horizontal line).
Here, the results were much more mixed, so I kept the 1 species fit, which
worked best, and all 2 species fits. The best method was <code>0cd20</code> (only 1
species fits) which corrected the <code>Tb-PEX5-eGFP</code> traces without distorting
the <code>Hs-PEX5-eGFP</code> traces. All other models had problems.
<details>
<div class="org-src-container">

<pre class="src src-jupyter-python"><span style="color: #268bd2;">pub_param</span> = <span style="color: #37785e;">all_param</span>.<span style="color: #784437;">replace</span>([<span style="color: #2aa198;">'0cd20'</span>], <span style="color: #2aa198;">'0cd20: large model\n(200 MB), 6 levels,\npool size=4, scaler\n=quantile transform\n(Gaussian pdf)'</span>)
<span style="color: #268bd2;">pub_param</span> = <span style="color: #513f78;">pub_param</span>.<span style="color: #784437;">replace</span>([<span style="color: #2aa198;">'34a6d'</span>], <span style="color: #2aa198;">'34a6d: small model\n(7 MB), 3 levels,\npool size=4, scaler=l2'</span>)
<span style="color: #268bd2;">pub_param</span> = <span style="color: #513f78;">pub_param</span>.<span style="color: #784437;">replace</span>([<span style="color: #2aa198;">'484af'</span>], <span style="color: #2aa198;">'484af: large model\n(275 MB), 7 levels,\npool_size=2, scaler\n=standard'</span>)
<span style="color: #268bd2;">pub_param</span> = <span style="color: #513f78;">pub_param</span>.<span style="color: #784437;">replace</span>([<span style="color: #2aa198;">'fe81d'</span>], <span style="color: #2aa198;">'fe81d: large model\n(186 MB), 4 levels,\npool_size=4, scaler\n=standard'</span>)
<span style="color: #268bd2;">pub_param</span> = <span style="color: #513f78;">pub_param</span>.<span style="color: #784437;">replace</span>([<span style="color: #2aa198;">'ff67b'</span>], <span style="color: #2aa198;">'ff67b: small model\n(14 MB), 5 levels,\npool_size=4, scaler\n=minmax'</span>)
<span style="color: #268bd2;">pub_param</span> = <span style="color: #513f78;">pub_param</span>.<span style="color: #784437;">replace</span>([<span style="color: #2aa198;">'19e3e'</span>], <span style="color: #2aa198;">'19e3e: large model\n(172 MB), 3 levels,\npool_size=4, scaler\n=standard'</span>)
<span style="color: #268bd2;">pub_param</span> = <span style="color: #513f78;">pub_param</span>.<span style="color: #784437;">replace</span>([<span style="color: #2aa198;">'34766'</span>], <span style="color: #2aa198;">'34766: middle-sized\nmodel (73 MB), 5 levels,\npool_size=4, scaler\n=robust'</span>)
<span style="color: #268bd2;">pub_param</span> = <span style="color: #513f78;">pub_param</span>.<span style="color: #784437;">replace</span>([<span style="color: #2aa198;">'c1204'</span>], <span style="color: #2aa198;">'c1204: large model\n(312 MB), 9 levels,\npool_size=2, scaler\n=robust'</span>)
<span style="color: #268bd2;">pub_param</span> = <span style="color: #513f78;">pub_param</span>.<span style="color: #784437;">replace</span>([<span style="color: #2aa198;">'714af'</span>], <span style="color: #2aa198;">'714af: large model\n(234 MB), 5 levels,\npool_size=4, scaler\n=maxabs'</span>)
<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">to make log plot work with a catplot violin plot, we have to do the</span>
<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">log transform manually</span>
<span style="color: #513f78;">pub_param</span>.<span style="color: #783778;">loc</span>[:, <span style="color: #2aa198;">'t'</span>] = <span style="color: #513f78;">pub_param</span>.<span style="color: #783778;">loc</span>[:, <span style="color: #2aa198;">'t'</span>].<span style="color: #4f5c7e;">apply</span>(<span style="color: #859900; font-weight: bold;">lambda</span> <span style="color: #3f7178;">x</span>: <span style="color: #707e4f;">np</span>.<span style="color: #7e544f;">log10</span>(<span style="color: #3f7178;">x</span>))

<span style="color: #268bd2;">g</span> = <span style="color: #4f5c7e;">sns</span>.<span style="color: #78683f;">catplot</span>(<span style="color: #784437;">data</span>=<span style="color: #513f78;">pub_param</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">y</span>=<span style="color: #2aa198;">'t'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">x</span>=<span style="color: #2aa198;">'processing'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #707e4f;">row</span>=<span style="color: #2aa198;">'artifact'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">hue</span>=<span style="color: #2aa198;">'legend'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">height</span>=9,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #7e544f;">aspect</span>=3.5,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #4f5c7e;">legend_out</span>=<span style="color: #859900; font-weight: bold;">True</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #783778;">kind</span>=<span style="color: #2aa198;">'violin'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #783778;">sharey</span>=<span style="color: #859900; font-weight: bold;">True</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #43783f;">showfliers</span>=<span style="color: #859900; font-weight: bold;">False</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #5e7837;">scale</span>=<span style="color: #2aa198;">'width'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #707e4f;">cut</span>=0)
<span style="color: #7a4f7e;">g</span>.<span style="color: #5e7837;">_legend</span>.<span style="color: #5e7837;">remove</span>()
<span style="color: #859900; font-weight: bold;">for</span> <span style="color: #707e4f;">i</span>, <span style="color: #7e544f;">ax</span> <span style="color: #859900; font-weight: bold;">in</span> <span style="color: #657b83; font-weight: bold;">enumerate</span>(<span style="color: #7a4f7e;">g</span>.<span style="color: #43783f;">axes</span>):
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">clean</span> = <span style="color: #513f78;">pub_param</span>[(<span style="color: #513f78;">pub_param</span>[<span style="color: #2aa198;">'processing'</span>] == <span style="color: #2aa198;">'No correction'</span>) &amp;
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> (<span style="color: #513f78;">pub_param</span>[<span style="color: #2aa198;">'artifact'</span>] == <span style="color: #2aa198;">'Hs-PEX5-eGFP'</span>)]
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">median</span> = <span style="color: #3f7178;">clean</span>[<span style="color: #2aa198;">'t'</span>].<span style="color: #3f7178;">median</span>()
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">median_text</span> = 10**<span style="color: #3f7178;">median</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">line</span> = <span style="color: #7e544f;">ax</span>[0].<span style="color: #7e544f;">axhline</span>(<span style="color: #3f7178;">median</span>, <span style="color: #3f7178;">lw</span>=4, <span style="color: #783f5a;">label</span>=<span style="color: #2aa198;">''</span>, <span style="color: #4f5c7e;">ls</span>=<span style="color: #2aa198;">'--'</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">line_legend</span> = {<span style="color: #43783f;">f</span><span style="color: #2aa198;">'\n$\\tau_{{exp}}={median_text:.2f}ms$'</span> : <span style="color: #783778;">line</span>}
<span style="background-color: #eee8d5;"> </span>   <span style="color: #7a4f7e;">g</span>.<span style="color: #7a4f7e;">_legend_data</span>.<span style="color: #374478;">update</span>(<span style="color: #707e4f;">line_legend</span>)
<span style="color: #7a4f7e;">g</span>.<span style="color: #5e7837;">add_legend</span>(<span style="color: #7a4f7e;">g</span>.<span style="color: #7a4f7e;">_legend_data</span>)

<span style="color: #7a4f7e;">g</span>.<span style="color: #4f7e67;">fig</span>.<span style="color: #4f5c7e;">suptitle</span>(<span style="color: #2aa198;">'Model performance in simulation &#8594; prediction &#8594; correction pipeline successfully (transit times)'</span>, <span style="color: #43783f;">size</span>=25)

<span style="color: #4f7e67;">plt</span>.<span style="color: #3f7178;">setp</span>(<span style="color: #7a4f7e;">g</span>.<span style="color: #43783f;">axes</span>, <span style="color: #37785e;">yscale</span>=<span style="color: #2aa198;">'linear'</span>, <span style="color: #707e4f;">ylabel</span>=<span style="color: #5e7837;">r</span><span style="color: #2aa198;">'log transit time $\tau_{D}$ $[ms]$'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #783f5a;">xlabel</span>=<span style="color: #2aa198;">''</span>, <span style="color: #4f5c7e;">xlim</span>=<span style="color: #859900; font-weight: bold;">None</span>)
<span style="color: #859900; font-weight: bold;">for</span> <span style="color: #707e4f;">i</span>, <span style="color: #7e544f;">ax</span> <span style="color: #859900; font-weight: bold;">in</span> <span style="color: #657b83; font-weight: bold;">enumerate</span>(<span style="color: #7a4f7e;">g</span>.<span style="color: #43783f;">axes</span>):
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">ylab</span> = <span style="color: #7e544f;">ax</span>[0].<span style="color: #374478;">get_yticklabels</span>()
<span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;"># because seaborns violinplot does not support kde calculation in log values,</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;"># I have to do this manually, by first log-transforming the data, now</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #93a1a1;"># extracting the yticklabels and manually transforming them back.</span>
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">ylab_power</span> = [10**<span style="color: #4f5c7e;">lab</span>.<span style="color: #4f7e67;">get_position</span>()[1] <span style="color: #859900; font-weight: bold;">for</span> <span style="color: #4f5c7e;">lab</span> <span style="color: #859900; font-weight: bold;">in</span> <span style="color: #783f5a;">ylab</span>]
<span style="background-color: #eee8d5;"> </span>   <span style="color: #7e544f;">ax</span>[0].<span style="color: #37785e;">set_yticklabels</span>(<span style="color: #513f78;">ylab_power</span>)
<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">the following code snippet makes minor grid lines in log plots visible. Since I have to</span>
<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">hack the log axis here to make violin catplots work, this is not possible</span>
<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">for ax in g.axes.flatten():</span>
<span style="color: #93a1a1;">#     </span><span style="color: #93a1a1;">ax.grid(visible=True, which='both', axis='y')</span>
<span style="color: #7a4f7e;">g</span>.<span style="color: #513f78;">tight_layout</span>()
<span style="color: #268bd2;">savefig</span> = <span style="color: #43783f;">f</span><span style="color: #2aa198;">'./data/exp-220227-unet/jupyter/analysis3_pex5_transit-times'</span>
<span style="color: #4f7e67;">plt</span>.<span style="color: #7e544f;">savefig</span>(<span style="color: #43783f;">f</span><span style="color: #2aa198;">'</span><span style="color: #268bd2;">{savefig}</span><span style="color: #2aa198;">.pdf'</span>, <span style="color: #784437;">dpi</span>=300)
<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">os.system(f'pdf2svg </span><span style="color: #268bd2;">{savefig}</span><span style="color: #93a1a1;">.pdf </span><span style="color: #268bd2;">{savefig}</span><span style="color: #93a1a1;">.svg')</span>
<span style="color: #4f7e67;">plt</span>.<span style="color: #707e4f;">close</span>(<span style="color: #2aa198;">'all'</span>)

<span style="color: #268bd2;">g</span> = <span style="color: #4f5c7e;">sns</span>.<span style="color: #78683f;">catplot</span>(<span style="color: #784437;">data</span>=<span style="color: #513f78;">pub_param</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">y</span>=<span style="color: #2aa198;">'N'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #3f7178;">x</span>=<span style="color: #2aa198;">'processing'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #707e4f;">row</span>=<span style="color: #2aa198;">'artifact'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #78683f;">hue</span>=<span style="color: #2aa198;">'legend'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #513f78;">height</span>=9,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #7e544f;">aspect</span>=3.5,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #4f5c7e;">legend_out</span>=<span style="color: #859900; font-weight: bold;">True</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #783778;">kind</span>=<span style="color: #2aa198;">'violin'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #783778;">sharey</span>=<span style="color: #859900; font-weight: bold;">True</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #43783f;">showfliers</span>=<span style="color: #859900; font-weight: bold;">False</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #5e7837;">scale</span>=<span style="color: #2aa198;">'width'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #707e4f;">cut</span>=0)
<span style="color: #7a4f7e;">g</span>.<span style="color: #5e7837;">_legend</span>.<span style="color: #5e7837;">remove</span>()
<span style="color: #859900; font-weight: bold;">for</span> <span style="color: #707e4f;">i</span>, <span style="color: #7e544f;">ax</span> <span style="color: #859900; font-weight: bold;">in</span> <span style="color: #657b83; font-weight: bold;">enumerate</span>(<span style="color: #7a4f7e;">g</span>.<span style="color: #43783f;">axes</span>):
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">clean</span> = <span style="color: #513f78;">pub_param</span>[(<span style="color: #513f78;">pub_param</span>[<span style="color: #2aa198;">'processing'</span>] == <span style="color: #2aa198;">'No correction'</span>) &amp;
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> (<span style="color: #513f78;">pub_param</span>[<span style="color: #2aa198;">'artifact'</span>] == <span style="color: #2aa198;">'Hs-PEX5-eGFP'</span>)]
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">median</span> = <span style="color: #3f7178;">clean</span>[<span style="color: #2aa198;">'N'</span>].<span style="color: #3f7178;">median</span>()
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">line</span> = <span style="color: #7e544f;">ax</span>[0].<span style="color: #7e544f;">axhline</span>(<span style="color: #3f7178;">median</span>, <span style="color: #3f7178;">lw</span>=4, <span style="color: #783f5a;">label</span>=<span style="color: #2aa198;">''</span>, <span style="color: #4f5c7e;">ls</span>=<span style="color: #2aa198;">':'</span>)
<span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">line_legend</span> = {<span style="color: #43783f;">f</span><span style="color: #2aa198;">'\n$N{{exp}}={median:.2f}$'</span> : <span style="color: #783778;">line</span>}
<span style="background-color: #eee8d5;"> </span>   <span style="color: #7a4f7e;">g</span>.<span style="color: #7a4f7e;">_legend_data</span>.<span style="color: #374478;">update</span>(<span style="color: #707e4f;">line_legend</span>)
<span style="color: #7a4f7e;">g</span>.<span style="color: #5e7837;">add_legend</span>(<span style="color: #7a4f7e;">g</span>.<span style="color: #7a4f7e;">_legend_data</span>)

<span style="color: #7a4f7e;">g</span>.<span style="color: #4f7e67;">fig</span>.<span style="color: #4f5c7e;">suptitle</span>(<span style="color: #2aa198;">'Model performance in Simulation &#8594; prediction &#8594; correction pipeline (particle numbers)'</span>, <span style="color: #43783f;">size</span>=25)

<span style="color: #4f7e67;">plt</span>.<span style="color: #3f7178;">setp</span>(<span style="color: #7a4f7e;">g</span>.<span style="color: #43783f;">axes</span>, <span style="color: #37785e;">yscale</span>=<span style="color: #2aa198;">'linear'</span>, <span style="color: #707e4f;">ylabel</span>=<span style="color: #5e7837;">r</span><span style="color: #2aa198;">'particle number $N$ $[fl^{-1}]$'</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #783f5a;">xlabel</span>=<span style="color: #2aa198;">''</span>, <span style="color: #43783f;">ylim</span>=[-0.1, 3])
<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">for i, ax in enumerate(g.axes):</span>
<span style="color: #93a1a1;">#     </span><span style="color: #93a1a1;">ylab = ax[0].get_yticklabels()</span>
<span style="color: #93a1a1;">#     </span><span style="color: #93a1a1;"># because seaborns violinplot does not support kde calculation in log values,</span>
<span style="color: #93a1a1;">#     </span><span style="color: #93a1a1;"># I have to do this manually, by first log-transforming the data, now</span>
<span style="color: #93a1a1;">#     </span><span style="color: #93a1a1;"># extracting the yticklabels and manually transforming them back.</span>
<span style="color: #93a1a1;">#     </span><span style="color: #93a1a1;">ylab_power = [10**lab.get_position()[1] for lab in ylab]</span>
<span style="color: #93a1a1;">#     </span><span style="color: #93a1a1;">ax[0].set_yticklabels(ylab_power)</span>

<span style="color: #7a4f7e;">g</span>.<span style="color: #513f78;">tight_layout</span>()
<span style="color: #268bd2;">savefig</span> =  <span style="color: #43783f;">f</span><span style="color: #2aa198;">'./data/exp-220227-unet/jupyter/analysis3_pex5_particle-numbers'</span>
<span style="color: #4f7e67;">plt</span>.<span style="color: #7e544f;">savefig</span>(<span style="color: #43783f;">f</span><span style="color: #2aa198;">'</span><span style="color: #268bd2;">{savefig}</span><span style="color: #2aa198;">.pdf'</span>, <span style="color: #784437;">dpi</span>=300)
<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">os.system(f'pdf2svg </span><span style="color: #268bd2;">{savefig}</span><span style="color: #93a1a1;">.pdf </span><span style="color: #268bd2;">{savefig}</span><span style="color: #93a1a1;">.svg')</span>
<span style="color: #4f7e67;">plt</span>.<span style="color: #707e4f;">close</span>(<span style="color: #2aa198;">'all'</span>)
</pre>
</div>

<pre class="example">
/tmp/ipykernel_371129/654097065.py:48: UserWarning: FixedFormatter should only be used together with FixedLocator
  ax[0].set_yticklabels(ylab_power)
</pre>
</details>
</li>

<li>this is the two plots as PDFs, first the comparison of transit times,
second the comparison of particle numbers
<embed src="./jupyter/analysis3_pex5_transit-times.pdf" width="100%" height="500px" />
<embed src="./jupyter/analysis3_pex5_particle-numbers.pdf" width="100%" height="500px" />
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-2-1-14" class="outline-4">
<h4 id="sec-2-1-14"><span class="section-number-4">2.1.14</span> final remarks</h4>
<div class="outline-text-4" id="text-2-1-14">
<ul class="org-ul">
<li>This is a table for quick lookup of all metrics of the best models after 100th epoch with hparams
<table class="table table-striped table-bordered table-hover table-condensed">


<colgroup>
<col  class="left">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="left">

<col  class="right">

<col  class="right">

<col  class="left">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="right">

<col  class="left">
</colgroup>
<thead>
<tr>
<th scope="col" class="text-left">run</th>
<th scope="col" class="text-right">val<sub>auc</sub></th>
<th scope="col" class="text-right">val<sub>f1</sub> 0.5</th>
<th scope="col" class="text-right">val<sub>prec</sub> 0.5</th>
<th scope="col" class="text-right">val<sub>recall</sub> 0.5</th>
<th scope="col" class="text-left">model size</th>
<th scope="col" class="text-right">hp<sub>batch</sub><sub>size</sub></th>
<th scope="col" class="text-right">hp<sub>first</sub><sub>filters</sub></th>
<th scope="col" class="text-left">hp<sub>input</sub><sub>size</sub></th>
<th scope="col" class="text-right">hp<sub>lr</sub><sub>power</sub></th>
<th scope="col" class="text-right">hp<sub>lr</sub><sub>start</sub></th>
<th scope="col" class="text-right">hp<sub>n</sub><sub>levels</sub></th>
<th scope="col" class="text-right">hp<sub>pool</sub><sub>size</sub></th>
<th scope="col" class="text-left">hp<sub>scaler</sub></th>
</tr>
</thead>
<tbody>
<tr>
<td class="text-left">484af471c61943fa90e5f78e78a229f0</td>
<td class="text-right">0.9814</td>
<td class="text-right">0.9187</td>
<td class="text-right">0.9091</td>
<td class="text-right">0.9285</td>
<td class="text-left">275 MB</td>
<td class="text-right">26</td>
<td class="text-right">44</td>
<td class="text-left">16384 (here: 14000)</td>
<td class="text-right">1</td>
<td class="text-right">0.0136170138242663</td>
<td class="text-right">7</td>
<td class="text-right">2</td>
<td class="text-left">standard</td>
</tr>

<tr>
<td class="text-left">0cd2023eeaf745aca0d3e8ad5e1fc653</td>
<td class="text-right">0.9818</td>
<td class="text-right">0.9069</td>
<td class="text-right">0.8955</td>
<td class="text-right">0.9185</td>
<td class="text-left">200 MB</td>
<td class="text-right">15</td>
<td class="text-right">23</td>
<td class="text-left">16384 (here: 14000)</td>
<td class="text-right">7</td>
<td class="text-right">0.0305060808685107</td>
<td class="text-right">6</td>
<td class="text-right">4</td>
<td class="text-left">quant<sub>g</sub></td>
</tr>

<tr>
<td class="text-left">fe81d71c52404ed790b3a32051258da9</td>
<td class="text-right">0.9849</td>
<td class="text-right">0.9260</td>
<td class="text-right">0.9184</td>
<td class="text-right">0.9338</td>
<td class="text-left">186 MB</td>
<td class="text-right">20</td>
<td class="text-right">78</td>
<td class="text-left">16384 (here: 14000)</td>
<td class="text-right">4</td>
<td class="text-right">0.0584071108418767</td>
<td class="text-right">4</td>
<td class="text-right">4</td>
<td class="text-left">standard</td>
</tr>

<tr>
<td class="text-left">ff67be0b68e540a9a29a36a2d0c7a5be +</td>
<td class="text-right">0.9859</td>
<td class="text-right">0.9298</td>
<td class="text-right">0.9230</td>
<td class="text-right">0.9367</td>
<td class="text-left">14 MB</td>
<td class="text-right">28</td>
<td class="text-right">6</td>
<td class="text-left">16384 (here: 14000)</td>
<td class="text-right">1</td>
<td class="text-right">0.0553313915596308</td>
<td class="text-right">5</td>
<td class="text-right">4</td>
<td class="text-left">minmax</td>
</tr>

<tr>
<td class="text-left">19e3e786e1bc4e2b93856f5dc9de8216</td>
<td class="text-right">0.9595</td>
<td class="text-right">0.8911</td>
<td class="text-right">0.8983</td>
<td class="text-right">0.8839</td>
<td class="text-left">172 MB</td>
<td class="text-right">20</td>
<td class="text-right">128</td>
<td class="text-left">16384 (here: 14000)</td>
<td class="text-right">1</td>
<td class="text-right">0.043549707353273</td>
<td class="text-right">3</td>
<td class="text-right">4</td>
<td class="text-left">standard</td>
</tr>

<tr>
<td class="text-left">347669d050f344ad9fb9e480c814f727 +</td>
<td class="text-right">0.9848</td>
<td class="text-right">0.9246</td>
<td class="text-right">0.9254</td>
<td class="text-right">0.9238</td>
<td class="text-left">73 MB</td>
<td class="text-right">10</td>
<td class="text-right">16</td>
<td class="text-left">8192 (here: 14000)</td>
<td class="text-right">1</td>
<td class="text-right">0.0627676336651573</td>
<td class="text-right">5</td>
<td class="text-right">4</td>
<td class="text-left">robust</td>
</tr>

<tr>
<td class="text-left">c1204e3a8a1e4c40a35b5b7b1922d1ce</td>
<td class="text-right">0.9858</td>
<td class="text-right">0.9207</td>
<td class="text-right">0.9179</td>
<td class="text-right">0.9234</td>
<td class="text-left">312 MB</td>
<td class="text-right">14</td>
<td class="text-right">16</td>
<td class="text-left">16384 (here: 14000)</td>
<td class="text-right">5</td>
<td class="text-right">0.0192390310290551</td>
<td class="text-right">9</td>
<td class="text-right">2</td>
<td class="text-left">robust</td>
</tr>

<tr>
<td class="text-left">714af8cd12c1441eac4ca980e8c20070 +</td>
<td class="text-right">0.9843</td>
<td class="text-right">0.9304</td>
<td class="text-right">0.9257</td>
<td class="text-right">0.9352</td>
<td class="text-left">234 MB</td>
<td class="text-right">9</td>
<td class="text-right">64</td>
<td class="text-left">4096 (here: 14000)</td>
<td class="text-right">1</td>
<td class="text-right">0.0100697459464075</td>
<td class="text-right">5</td>
<td class="text-right">4</td>
<td class="text-left">maxabs</td>
</tr>

<tr>
<td class="text-left">34a6d207ac594035b1009c330fb67a65 +</td>
<td class="text-right">0.9652</td>
<td class="text-right">0.8613</td>
<td class="text-right">0.8598</td>
<td class="text-right">0.8629</td>
<td class="text-left">7 MB</td>
<td class="text-right">17</td>
<td class="text-right">16</td>
<td class="text-left">16384 (here: 14000)</td>
<td class="text-right">5</td>
<td class="text-right">0.0101590069352232</td>
<td class="text-right">3</td>
<td class="text-right">4</td>
<td class="text-left">l2</td>
</tr>
</tbody>
</table>
</li>
<li>I did further evaluation of the most promising model, <code>0cd20</code>, and applied
<code>averaging</code> and <code>set to zero</code> corrections. For these results, see
<code>exp-220316-publication1</code>
</li>
</ul>
</div>
</div>
</div>
</div>
</div></div></div>
<footer id="postamble" class="">
<div><p class="author">Author: Alex Seltmann</p>
<p class="date">Created: 2023-02-22 Mi 14:55</p>
<p class="creator"><a href="http://www.gnu.org/software/emacs/">Emacs</a> 28.2 (<a href="http://orgmode.org">Org-mode</a> 9.5.4)</p>
</div>
</footer>
</body>
</html>
